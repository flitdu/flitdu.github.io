<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>⭐️Python笔记 | Note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Python简介历史参考：Python简史  1989年圣诞节：Guido von Rossum开始写Python语言的编译器。 1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="⭐️Python笔记">
<meta property="og:url" content="http://yoursite.com/2019/12/11/Python笔记/index.html">
<meta property="og:site_name" content="Note">
<meta property="og:description" content="Python简介历史参考：Python简史  1989年圣诞节：Guido von Rossum开始写Python语言的编译器。 1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程">
<meta property="og:locale" content="zh-CN//语言">
<meta property="og:image" content="https://i.loli.net/2021/03/14/7R86jxPQlVJO2vt.png">
<meta property="og:image" content="https://i.loli.net/2021/03/08/g1QfpZdvh2VHktb.png">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gppgjcjlkcj31hh0u0e82.jpg">
<meta property="og:image" content="https://i.loli.net/2021/03/17/x4F2GMvkWVmsj7P.png">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjc5rrwlydj30x20kawrx.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe53ny5ej30y802gdga.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi83z4l4gij30n009an08.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi8mezbhxbj30zm0dadzb.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe536jn1j30z205edg6.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gnveuhxzgxj31yy0rmqv5.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gnveywzy3lj31l00hy0yh.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4x8myqj31ka0awjug.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvdvitftdj308j07qdg8.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvebjlj8pj308e07edg3.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4xvftgj30v20h0dgw.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghvdxbqv7cj31pa0fa4qp.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe54g58zj31ky0iamzz.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4tu98bj31980e4ac4.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghwir7b0fqj31080gqdvg.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4zxygrj314i08eaba.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4z0dmaj30wc04g3z3.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1go2dkmgx0lj31ce0mwx28.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi92bkp4acj313k0dcdxy.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu8lqtlmvj31du0m4ju6.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4zj2hkj31dm0iojuw.jpg">
<meta property="og:image" content="https://i.loli.net/2021/03/22/14xsmek8XUfDy7r.png">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giiflvzn77j312i0b6n50.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giifrh8kfdj311u0c8wp3.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giig4h1j69j316w056tcw.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giiggrgqt3j30ow04wtb8.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwgy1gkp4ox1ch7j31do0ne1kx.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gipg0u0sslj31f80l84qp.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gicoxhxoc1j310o05g47z.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gibkb0jy48j313k034grk.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giblnfok9ij30y605wjs0.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1giblsfvaakj30ly03qwfw.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gicpmjbnpwj31dy0lq4qq.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe51u4twj310u02oglz.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gif2rznbzlj31kk0jahb8.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe52rbjmj30o80ec75c.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4wobifj315w0aotb1.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe52anksj31hs0eqjxm.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4vjwxuj30zc09ojsx.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4ymigej31lw02g74r.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi2aqoz38qj30us0a60y0.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjo4ebji9vj31je0qwe81.jpg">
<meta property="og:image" content="https://i.loli.net/2021/03/24/cU8Ry4x3CLXSu12.png">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwgy1g9xq8ptau2j311w0ietaa.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/00831rSTgy1gd5fh8znedj311s0jgkdx.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi16jd82g3j31ct0u0x6p.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwgy1gkom2p4u4sj31qm0u0b29.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvi2c6gooj31wk0u07wi.jpg">
<meta property="og:image" content="https://i.loli.net/2021/03/22/4n8qZamWjSf2AMt.png">
<meta property="og:updated_time" content="2021-04-25T15:59:09.059Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="⭐️Python笔记">
<meta name="twitter:description" content="Python简介历史参考：Python简史  1989年圣诞节：Guido von Rossum开始写Python语言的编译器。 1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程">
<meta name="twitter:image" content="https://i.loli.net/2021/03/14/7R86jxPQlVJO2vt.png">
  
    <link rel="alternate" href="/atom.xml" title="Note" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Note</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Python笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/12/11/Python笔记/" class="article-date">
  <time datetime="2019-12-10T16:00:00.000Z" itemprop="datePublished">2019-12-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ⭐️Python笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>

<h2 id="Python简介"><a href="#Python简介" class="headerlink" title="Python简介"></a>Python简介</h2><h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><p>参考：<a href="https://www.cnblogs.com/vamei/archive/2013/02/06/2892628.html" target="_blank" rel="noopener">Python简史</a></p>
<ol>
<li>1989年圣诞节：Guido von Rossum开始写Python语言的编译器。</li>
<li>1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程序。</li>
<li>1994年1月：Python 1.0正式发布。</li>
<li>2000年10月16日：Python 2.0发布，增加了完整的<a href="https://zh.wikipedia.org/wiki/垃圾回收_(計算機科學)" target="_blank" rel="noopener">垃圾回收</a>，提供了对<a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener">Unicode</a>的支持。与此同时，Python的整个开发过程更加透明，社区对开发进度的影响逐渐扩大，生态圈开始慢慢形成。</li>
<li>2008年12月3日：Python 3.0发布，它并不完全兼容之前的Python代码，不过因为目前还有不少公司在项目和运维中使用Python 2.x版本，所以Python 3.x的很多新特性后来也被移植到Python 2.6/2.7版本中。</li>
</ol>
<h3 id="编译型-or-解释型"><a href="#编译型-or-解释型" class="headerlink" title="编译型 or 解释型"></a>编译型 or 解释型</h3><p>二者的执行过程不同：</p>
<p><img src="https://i.loli.net/2021/03/14/7R86jxPQlVJO2vt.png" alt="image-20210314234253530"></p>
<ul>
<li>解释型优点：</li>
</ul>
<ol>
<li>一次编译，处处执行(Java的最大卖点)</li>
<li>可以确保你看到的代码就是你执行的代码(python)</li>
<li>弱类型，开发速度很快</li>
</ol>
<ul>
<li>python解释器</li>
</ul>
<p><a href="https://www.liaoxuefeng.com/wiki/897692888725344/966138843228672" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/897692888725344/966138843228672</a></p>
<p>Python的解释器很多，但使用最广泛的还是CPython。如果要和Java或.Net平台交互，最好的办法不是用Jython或IronPython，而是通过网络调用来交互，确保各程序之间的独立性。</p>
<p>在 <a href="https://www.cnblogs.com/kym/archive/2012/05/14/2498728.html" target="_blank" rel="noopener">说说Python程序的执行过程  </a>里面提到：</p>
<p>在 <code>from aa import pr</code> 时候，会生产 .pyc临时文件</p>
<p><img src="https://i.loli.net/2021/03/08/g1QfpZdvh2VHktb.png" alt="image-20210308233407369"></p>
<p><strong>pyc的目的是重用</strong></p>
<blockquote>
<p>回想本文的第二段在解释编译型语言和解释型语言的优缺点时，我说编译型语言的优点在于，我们可以在程序运行时不用解释，而直接利用已经“翻译”过的文件。也就是说，我们之所以要把py文件编译成pyc文件，最大的优点在于我们在运行程序时，不需要重新对该模块进行重新的解释。</p>
</blockquote>
<ul>
<li>java 中的 JIT(just-in-time)</li>
</ul>
<p><code>JIT</code> 就是说在解释型语言中，对于经常用到的或者说有较大性能提升的代码在解释的时候编译成机器码，其他一次性或者说没有太大性能提升的代码还是以字节码的方式执行。这样的话，就能在保证移植性的同时，又能让性能提升一大截</p>
<p>在 <code>CPython</code> 中是没有 <code>JIT</code> 这个功能</p>
<h3 id="python-特点"><a href="#python-特点" class="headerlink" title="python 特点"></a>python 特点</h3><ul>
<li>要知道Python擅长什么</li>
</ul>
<p>Python之父说：大部分觉得Python慢的应用都是没有正确地使用Python。对于CPU密集型的任务有多种方法来提升性能–使用Numpy来做计算，调用外部C代码，以及尽量避免GIL锁。</p>
<ul>
<li>python 缺点</li>
</ul>
<p>Python的缺点主要集中在以下几点。</p>
<ol>
<li>执行效率稍低，对执行效率要求高的部分可以由其他语言（如：C、C++）编写。</li>
<li>代码无法加密，但是现在很多公司都不销售卖软件而是销售服务，这个问题会被弱化。</li>
<li>在开发时可以选择的框架太多（如Web框架就有100多个），有选择的地方就有错误。</li>
</ol>
<blockquote>
<p>Python从一开始就特别在意可拓展性(extensibility)。</p>
<p>Python可以在多个层次上拓展。从高层上，你可以引入.py文件。在底层，你可以引用C语言的库。</p>
<p>Python程序员可以快速的使用Python写.py文件作为拓展模块。但当性能是考虑的重要因素时，Python程序员可以深入底层，写C程序，编译为.so文件引入到Python中使用。</p>
<p>Python就好像是使用钢构建房一样，先规定好大的框架。而程序员可以在此框架下相当自由的拓展或更改。</p>
</blockquote>
<p>到今天，Python的框架已经确立。Python语言以对象为核心组织代码(Everything is object)，支持多种编程范式(multi-paradigm)，采用动态类型(dynamic typing)，自动进行内存回收(garbage collection)。Python支持解释运行(interpret)，并能调用C库进行拓展。Python有强大的标准库 (battery included)。由于标准库的体系已经稳定，所以Python的生态系统开始拓展到第三方包。这些包，如Django, web.py, wxpython, numpy, matplotlib,PIL，将Python升级成了物种丰富的热带雨林。</p>
<h3 id="参考书"><a href="#参考书" class="headerlink" title="参考书"></a>参考书</h3><ul>
<li>《流畅的python》，这本书都是基础知识，</li>
<li>《<strong>Python编程快速上手 让繁琐工作自动化</strong>》</li>
<li>《面向对象分析与设计》</li>
<li>《python源码剖析》，这本书是python的源代码，c语言写的，精通python必读</li>
</ul>
<h2 id="Cpython-源码学习"><a href="#Cpython-源码学习" class="headerlink" title="Cpython 源码学习"></a>Cpython 源码学习</h2><p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gppgjcjlkcj31hh0u0e82.jpg" alt="image-20210419231132649"></p>
<p><a href="https://realpython.com/cpython-source-code-guide/" target="_blank" rel="noopener">Your Guide to the CPython Source Code</a></p>
<p>中文翻译：<a href="https://zhuanlan.zhihu.com/p/79656976" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/79656976</a></p>
<h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><p><strong>应该尽量减少对全局变量的使用</strong></p>
<p>Python查找一个变量时会按照<strong>“局部作用域”、“嵌套作用域”、“全局作用域”和“内置作用域”的顺序</strong>进行搜索，前三者我们在上面的代码中已经看到了，所谓的“内置作用域”就是Python内置的那些标识符，我们之前用过的<code>input</code>、<code>print</code>、<code>int</code>等都属于内置作用域。</p>
<p><img src="https://i.loli.net/2021/03/17/x4F2GMvkWVmsj7P.png" alt="image-20210317231411583"></p>
<p>再看看下面这段代码，我们希望通过函数调用修改全局变量<code>a</code>的值，但实际上下面的代码是做不到的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    a = <span class="number">200</span></span><br><span class="line">    print(a)  <span class="comment"># 200</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = <span class="number">100</span></span><br><span class="line">    foo()</span><br><span class="line">    print(a)  <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>

<p>如果我们希望在<code>foo</code>函数中修改全局作用域中的<code>a</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a</span><br><span class="line">    a = <span class="number">200</span></span><br><span class="line">    print(a)  <span class="comment"># 200</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = <span class="number">100</span></span><br><span class="line">    foo()</span><br><span class="line">    print(a)  <span class="comment"># 200</span></span><br></pre></td></tr></table></figure>

<p>在实际开发中，我们应该尽量减少对全局变量的使用，因为全局变量的作用域和影响过于广泛，可能会发生意料之外的修改和使用，除此之外全局变量比局部变量拥有更长的生命周期，可能导致对象占用的内存长时间无法被<a href="https://zh.wikipedia.org/wiki/垃圾回收_(計算機科學)" target="_blank" rel="noopener">垃圾回收</a>。</p>
<p>事实上，减少对全局变量的使用，也是降低代码之间耦合度的一个重要举措，同时也是对<a href="https://zh.wikipedia.org/zh-hans/得墨忒耳定律" target="_blank" rel="noopener">迪米特法则</a>的践行。<strong>减少全局变量的使用就意味着我们应该尽量让变量的作用域在函数的内部</strong>，但是如果我们希望将一个局部变量的生命周期延长，使其在定义它的函数调用结束后依然可以使用它的值，这时候就需要使用<a href="https://zh.wikipedia.org/wiki/闭包_(计算机科学)" target="_blank" rel="noopener">闭包</a>。</p>
<blockquote>
<p><strong>说明：</strong> 很多人经常会将“闭包”和<a href="https://zh.wikipedia.org/wiki/匿名函数" target="_blank" rel="noopener">“匿名函数”</a>混为一谈，但实际上它们并不是一回事，如果想了解这个概念，可以看看<a href="https://zh.wikipedia.org/wiki/" target="_blank" rel="noopener">维基百科</a>的解释或者<a href="https://www.zhihu.com/" target="_blank" rel="noopener">知乎</a>上对这个概念的讨论。</p>
</blockquote>
<h2 id="print"><a href="#print" class="headerlink" title="print"></a>print</h2><ul>
<li><p>修改print 输出形式</p>
<p> 输出默认传参：sep=’ ‘, end=’\n’</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [&apos;a&apos;, &apos;b&apos;, &apos;d&apos;]</span><br><span class="line">for i in a:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<p>a<br>b<br>d</p>
<p>修改 end=’*’</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i, end=<span class="string">'*'</span>)</span><br><span class="line">a*b*d*</span><br></pre></td></tr></table></figure>

<p>修改 sep</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'abc'</span>,<span class="string">'sdf'</span>, <span class="string">'oo'</span>, sep=<span class="string">'**'</span>)</span><br><span class="line">print(<span class="string">'abc'</span>,<span class="string">'sdf'</span>, <span class="string">'oo'</span>)</span><br><span class="line">abc**sdf**oo</span><br><span class="line">abc sdf oo</span><br></pre></td></tr></table></figure>

<h2 id="callable"><a href="#callable" class="headerlink" title="callable()"></a>callable()</h2><p> 判断是否可以被<strong>调用</strong>,也就是后面能否加()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    pass</span><br><span class="line">print(callable(func))</span><br><span class="line">print(callable(123))</span><br></pre></td></tr></table></figure>

<p>True<br>False</p>
<h2 id="id-，查看变量内存地址"><a href="#id-，查看变量内存地址" class="headerlink" title="id()，查看变量内存地址"></a>id()，查看变量内存地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lst = [11,33]</span><br><span class="line">lst2 = [11,33]</span><br><span class="line">print(id(lst), id(lst2))</span><br></pre></td></tr></table></figure>

<p>4350061696 4350169328</p>
<h2 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h2><ul>
<li>hash()，获取哈希值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'哈哈'</span></span><br><span class="line">c = <span class="string">'哈哈'</span></span><br><span class="line">b = <span class="string">'呵呵'</span></span><br><span class="line">print(hash(a), hash(b), hash(c), sep=<span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure>

<p>9176276550143421218<br>-321493741111910983<br>9176276550143421218</p>
<ul>
<li>MD5</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">obj = hashlib.md5()</span><br><span class="line">obj.update(<span class="string">'jiajia'</span>.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">resilt = obj.hexdigest()</span><br><span class="line">print(resilt) <span class="comment">#cd611a31ea969b908932d44d126d195b</span></span><br></pre></td></tr></table></figure>

<h2 id="zip-，拉链"><a href="#zip-，拉链" class="headerlink" title="zip()，拉链"></a>zip()，拉链</h2><p>函数实现：<a href="https://docs.python.org/zh-cn/3/library/functions.html#zip" target="_blank" rel="noopener">https://docs.python.org/zh-cn/3/library/functions.html#zip</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zip</span><span class="params">(*iterables)</span>:</span></span><br><span class="line">    <span class="comment"># zip('ABCD', 'xy') --&gt; Ax By</span></span><br><span class="line">    sentinel = object()</span><br><span class="line">    iterators = [iter(it) <span class="keyword">for</span> it <span class="keyword">in</span> iterables]</span><br><span class="line">    <span class="keyword">while</span> iterators:</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> it <span class="keyword">in</span> iterators:</span><br><span class="line">            elem = next(it, sentinel)</span><br><span class="line">            <span class="keyword">if</span> elem <span class="keyword">is</span> sentinel:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            result.append(elem)</span><br><span class="line">        <span class="keyword">yield</span> tuple(result)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">l2 = [<span class="string">'s'</span>, <span class="string">'w'</span>, <span class="string">'t'</span>]</span><br><span class="line">l3 = <span class="string">'jkl'</span></span><br><span class="line">a = zip(l1, l2, l3)  <span class="comment"># &lt;class 'zip'&gt;</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(a))  <span class="comment"># 可迭代的</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<p>True<br>(1, ‘s’, ‘j’)<br>(2, ‘w’, ‘k’)<br>(3, ‘t’, ‘l’)</p>
<blockquote>
<p><a href="https://leetcode-cn.com/problems/longest-common-prefix/" target="_blank" rel="noopener">14. 最长公共前缀</a></p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjc5rrwlydj30x20kawrx.jpg" alt="image-20201003150522578"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestCommonPrefix</span><span class="params">(self, strs: List[str])</span> -&gt; str:</span></span><br><span class="line">        <span class="comment"># 解法2</span></span><br><span class="line">        res = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> zip(*strs):</span><br><span class="line">            <span class="keyword">if</span> len(set(i)) == <span class="number">1</span>:</span><br><span class="line">                res += i[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">strs = [&quot;flower&quot;,&quot;fla&quot;,&quot;flight11&quot;]</span><br><span class="line">min(len(i) for i in strs)</span><br><span class="line">for i in zip(*strs):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(&apos;f&apos;, &apos;f&apos;, &apos;f&apos;)</span><br><span class="line">(&apos;l&apos;, &apos;l&apos;, &apos;l&apos;)</span><br><span class="line">(&apos;o&apos;, &apos;a&apos;, &apos;i&apos;)</span><br></pre></td></tr></table></figure>

<h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="number">1</span>,<span class="number">54</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">100</span>]</span><br><span class="line"><span class="comment"># 找出能被3整除的数</span></span><br><span class="line">f = filter(<span class="keyword">lambda</span> x: x%<span class="number">3</span>==<span class="number">0</span>, lst)</span><br><span class="line">print(f)</span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(f))</span><br><span class="line">print(list(f))</span><br></pre></td></tr></table></figure>

<p>&lt;filter object at 0x10c0ce250&gt;<br>True<br>[54, 3, 6]</p>
<h2 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h2><p>将列表中每一项加1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lst = [1,54,3]</span><br><span class="line">m = map(lambda x: x+1, lst)</span><br><span class="line">print(list(m))</span><br></pre></td></tr></table></figure>

<p>[2, 55, 4]</p>
<h2 id="int"><a href="#int" class="headerlink" title="int"></a>int</h2><ul>
<li>不同进制</li>
</ul>
<p>二进制（如<code>0b100</code>，换算成十进制是4）</p>
<p>八进制（如<code>0o100</code>，换算成十进制是64）</p>
<p>十进制（<code>100</code>）</p>
<p>十六进制（<code>0x100</code>，换算成十进制是256）</p>
<p>在python 中可以直接翻译成十进制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0o100</span></span><br><span class="line"><span class="number">64</span></span><br></pre></td></tr></table></figure>

<ul>
<li>进制转换</li>
</ul>
<p>bin/oct/hex</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line">print(bin(a))  <span class="comment"># 转为二进制</span></span><br><span class="line">b = <span class="number">0b101</span></span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<p>0b101<br>5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = 11</span><br><span class="line">print(oct(a))  #八进制</span><br><span class="line">print(hex(a)) # 十六进制</span><br></pre></td></tr></table></figure>

<p>0o13<br>0xb</p>
<ul>
<li>运算</li>
</ul>
<p>以下假设变量a为10，变量b为21：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">加 - 两个对象相加</td>
<td align="left">a + b 输出结果 31</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">减 - 得到负数或是一个数减去另一个数</td>
<td align="left">a - b 输出结果 -11</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">乘 - 两个数相乘或是返回一个被重复若干次的字符串</td>
<td align="left">a * b 输出结果 210</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">除 - x 除以 y</td>
<td align="left">b / a 输出结果 2.1</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">取模 - 返回除法的<strong>余数</strong></td>
<td align="left">b % a 输出结果 1</td>
</tr>
<tr>
<td align="left">//</td>
<td align="left">取整除 - 向下取接近<strong>商</strong>的整数</td>
<td align="left"><code>&gt;&gt;&gt; 9//2 4 &gt;&gt;&gt; -9//2 -5</code></td>
</tr>
<tr>
<td align="left">**</td>
<td align="left">幂 - 返回x的y次幂</td>
<td align="left">a**b 为10的21次方</td>
</tr>
</tbody></table>
<ul>
<li>赋值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 赋值</span></span><br><span class="line">a = b = c =<span class="number">0</span></span><br><span class="line">print(a,b,c)</span><br><span class="line">a, b, c = <span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span></span><br><span class="line">print(a,b,c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同步赋值,注意运算时，都利用原始值</span></span><br><span class="line">a, b = <span class="number">2</span>,<span class="number">5</span></span><br><span class="line">a, b = a+b, a</span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0</span><br><span class="line">1 4 7</span><br><span class="line">7 2</span><br></pre></td></tr></table></figure>

<h2 id="str"><a href="#str" class="headerlink" title="str"></a>str</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe53ny5ej30y802gdga.jpg" alt="image-20200829173706588"></p>
<ul>
<li>运算：+ 、*</li>
<li>互动，input()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = input(&apos;请输入名字：&apos;)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure>

<ul>
<li>索引</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;我喜欢你&apos;</span><br><span class="line">s1= s[2]</span><br><span class="line">print(s[2], s[-1])</span><br></pre></td></tr></table></figure>

<p>欢 你</p>
<ul>
<li>切片</li>
</ul>
<p>s[start：end：step]，结束位置取不到</p>
<ul>
<li>capitalize()：首字母大写</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'i am Saler, SD dsf'</span></span><br><span class="line">print(s.capitalize())</span><br></pre></td></tr></table></figure>

<p>I am saler, sd dsf</p>
<ul>
<li>lower(), upper()：全部变为大小写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(s.lower())</span><br><span class="line">print(s.upper())</span><br></pre></td></tr></table></figure>

<p>i am saler, sd dsf<br>I AM SALER, SD DSF</p>
<p>注意，忽略大小写<strong>推荐优先使用upper()</strong></p>
<p>如：转换为小写后，不一样，但是大写却一样</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'μ'</span>)</span><br><span class="line">print(<span class="string">'µ'</span>)</span><br><span class="line">s1 = <span class="string">'μ'</span>.upper()</span><br><span class="line">s2 = <span class="string">'µ'</span>.upper()</span><br><span class="line">print(s1.encode(<span class="string">'utf8'</span>))</span><br><span class="line">print(s2.encode(<span class="string">'utf8'</span>))</span><br><span class="line"><span class="string">b'\xce\x9c'</span></span><br><span class="line"><span class="string">b'\xce\x9c'</span></span><br><span class="line"></span><br><span class="line">s1 = <span class="string">'μ'</span>.lower()</span><br><span class="line">s2 = <span class="string">'µ'</span>.lower()</span><br><span class="line">print(s1.encode(<span class="string">'utf8'</span>))</span><br><span class="line">print(s2.encode(<span class="string">'utf8'</span>))</span><br><span class="line"><span class="string">b'\xce\xbc'</span></span><br><span class="line"><span class="string">b'\xc2\xb5'</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi83z4l4gij30n009an08.jpg" alt="image-20200829234040839"></p>
<ul>
<li>center(), 将字符串补充至固定长度</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s= <span class="string">'wer'</span></span><br><span class="line">s1= s.center(<span class="number">10</span>)</span><br><span class="line">print(s1)</span><br><span class="line">print(s.center(<span class="number">10</span>,<span class="string">'*'</span>))</span><br><span class="line">   wer    </span><br><span class="line">***wer****</span><br></pre></td></tr></table></figure>

<ul>
<li>strip(), 去掉字符串两端的空格（空白、\t (tab键)、\n）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;  \t \n 哥 特让他   \t&apos;</span><br><span class="line">print(s.strip())</span><br></pre></td></tr></table></figure>

<p>哥 特让他</p>
<p>e.g.</p>
<p>input()时候，紧接着使用一个strip()，这样即使用户输入 ‘admin   ‘，仍能通过</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi8mezbhxbj30zm0dadzb.jpg" alt="image-20200830101840537"></p>
<blockquote>
<p>指定字符去除</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;dfjkjhgfdd&apos;</span><br><span class="line">print(s.strip(&apos;df&apos;))</span><br></pre></td></tr></table></figure>

<p>jkjhg</p>
<ul>
<li>replace(), 字符串替换</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;今天的天气&apos;</span><br><span class="line">print(s.replace(&apos;天&apos;, &apos;*&apos;))   # 今*的*气</span><br></pre></td></tr></table></figure>

<ul>
<li>正则替换</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s = <span class="string">'sdf(sas)90SFopQS-,ds??d'</span></span><br><span class="line">s_clear = re.sub(<span class="string">r'[^A-Z0-9]'</span>, <span class="string">''</span>, s)  <span class="comment"># 使用正则替换所有 非大写和数字 的字符</span></span><br><span class="line">print(s_clear)  <span class="comment"># 90SFQS</span></span><br></pre></td></tr></table></figure>

<ul>
<li>split()， 字符串切割</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;张无忌_赵敏_周芷若_令狐&apos;</span><br><span class="line">print(s.split(&apos;_&apos;))  #默认以空格为分隔符</span><br></pre></td></tr></table></figure>

<p>[‘张无忌’, ‘赵敏’, ‘周芷若’, ‘令狐’]</p>
<ul>
<li>join(), 把列表合成字符串</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="string">'张无忌'</span>, <span class="string">'赵敏'</span>, <span class="string">'周芷若'</span>, <span class="string">'令狐'</span>]</span><br><span class="line">print(<span class="string">'_爱_'</span>.join(l))</span><br><span class="line">张无忌_爱_赵敏_爱_周芷若_爱_令狐</span><br></pre></td></tr></table></figure>

<ul>
<li>格式化输出</li>
</ul>
<blockquote>
<p>%s, d%, f%</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;我叫%s, 年龄%s&apos; % (&apos;竹节&apos;,10))</span><br><span class="line">print(&apos;我叫%s, 年龄%d&apos; % (&apos;竹节&apos;,10))</span><br><span class="line">print(&apos;我叫%s, 年龄%0.2f&apos; % (&apos;竹节&apos;,10.2134))</span><br></pre></td></tr></table></figure>

<p>我叫竹节, 年龄10<br>我叫竹节, 年龄10<br>我叫竹节, 年龄10.21</p>
<blockquote>
<p>f’..{}..’</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'莉莉'</span></span><br><span class="line">r = <span class="number">32.1987</span></span><br><span class="line">print(<span class="string">f'我叫<span class="subst">&#123;name&#125;</span>, 喜欢<span class="subst">&#123;r:<span class="number">.2</span>f&#125;</span>'</span>)</span><br></pre></td></tr></table></figure>

<p>我叫莉莉, 喜欢32.20</p>
<ul>
<li>查找</li>
</ul>
<blockquote>
<p>startswith()， 判断是否以..开头</p>
<p>endswith(),     判断结尾</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'张为'</span></span><br><span class="line">print(name.startswith(<span class="string">'张'</span>))</span><br><span class="line">print(name.startswith(<span class="string">'里'</span>))</span><br><span class="line">name1 = <span class="string">'cyzxz'</span></span><br><span class="line">name1.startswith((<span class="string">'x1'</span>, <span class="string">'yz'</span>, <span class="string">'c'</span>)), name.startswith(<span class="string">'yz'</span>)  <span class="comment"># (True, False)，满足任意一个即可</span></span><br></pre></td></tr></table></figure>

<ul>
<li>count()，计数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;asfdsd&apos;</span><br><span class="line">print(s.count(&apos;d&apos;))  # 2</span><br></pre></td></tr></table></figure>

<ul>
<li>find(), 查找，返回索引，<strong>找不到返回 -1</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;我最喜欢PythonP&apos;</span><br><span class="line">print(s.find(&apos;P&apos;))  # 4</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(s.find(&apos;最喜欢&apos;))  # 1</span><br></pre></td></tr></table></figure>

<p><strong>inex()找不到会报错</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;我最喜欢PythonP&apos;</span><br><span class="line">print(s.index(&apos;A&apos;))</span><br></pre></td></tr></table></figure>

<p>ValueError: substring not found</p>
<ul>
<li>index</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.index(str, beg=0, end=len(string))</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<ol>
<li>str – 指定检索的字符串</li>
<li>beg – 开始索引，默认为0。</li>
<li>end – 结束索引，默认为字符串的长度。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'qwe?tui?'</span></span><br><span class="line">a.index(<span class="string">'?'</span>)   <span class="comment"># 3</span></span><br><span class="line">a.index(<span class="string">'?'</span>,<span class="number">4</span>)  <span class="comment"># 7</span></span><br></pre></td></tr></table></figure>

<ul>
<li>isdigit(),判断字符串是否全部由整数组成，不包括小数点</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;126.7&apos;.isdigit())</span><br><span class="line">print(&apos;1267&apos;.isdigit())</span><br><span class="line">print(&apos;126ddd7&apos;.isdigit())</span><br></pre></td></tr></table></figure>

<p>False<br>True<br>False</p>
<ul>
<li>isalpha()， 判断字符串是否全部由字母组成</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;runoobDFSD菜鸟教程&apos;</span><br><span class="line">a.isalpha()  # True</span><br></pre></td></tr></table></figure>

<p><strong>中文的汉字会被 isalpha 判定为 True</strong></p>
<p>如果想区分中文和英文可以使用 unicode。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'runoobDFSD菜鸟教程'</span></span><br><span class="line">a.encode(<span class="string">'UTF-8'</span>).isalpha()  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;ruSμ&apos;</span><br><span class="line">a.encode(&apos;UTF-8&apos;).isalpha()  # False</span><br></pre></td></tr></table></figure>

<ul>
<li>eval()</li>
</ul>
<p>可以把字符串当代码去执行，<strong>有返回值</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;1+1&apos;</span><br><span class="line">print(eval(s), type(eval(s)))  # 2 &lt;class &apos;int&apos;&gt;</span><br></pre></td></tr></table></figure>

<p>再比如，我们需要将 “[‘哈哈’, ‘混合’, ‘呵呵’]”—&gt;&gt;[‘哈哈’, ‘混合’, ‘呵呵’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">"['哈哈', '混合', '呵呵']"</span></span><br><span class="line">lst = eval(a)</span><br><span class="line">print(lst) <span class="comment">#['哈哈', '混合', '呵呵']</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>exec(),<strong>没有返回值</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'aaa=100'</span></span><br><span class="line">exec(s)</span><br><span class="line">print(aaa) <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>

<ul>
<li>repr()</li>
</ul>
<p>一个字符串最应该表现的形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(str(&apos;你好，我叫\t增加了   &apos;))</span><br><span class="line">print(repr(&apos;你好，我叫\t增加了   &apos;))</span><br><span class="line">print(repr(&quot;你好，&apos;我叫\t增加了   &quot;))</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe536jn1j30z205edg6.jpg" alt="image-20200905215028954"></p>
<h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p><strong>参考 【13】</strong></p>
<h3 id="ASCII、Unicode和UTF-8"><a href="#ASCII、Unicode和UTF-8" class="headerlink" title="ASCII、Unicode和UTF-8"></a>ASCII、Unicode和UTF-8</h3><blockquote>
<p>Unicode 是「字符集」</p>
<p>UTF-8 、ASCII等则是「编码规则」</p>
</blockquote>
<p>粗略地说就是，字符编码提供一种映射，使屏幕上显示的内容和内存、磁盘内存储的内容对应起来。有许多种不同的字符编码</p>
<p>在Python 3，所有的字符串都是使用Unicode编码的字符序列</p>
<p>ASCII 8位 –&gt;&gt; 0000 0000 0000 0000 ANSI(16位) –&gt;&gt;GBK(国标码的扩展码)–&gt;&gt;万国码Unicode（32位）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字母A： <span class="number">0100</span> <span class="number">0001</span>  <span class="comment"># ACSII</span></span><br><span class="line">字母A： <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0001</span> <span class="comment"># 国标码</span></span><br><span class="line">字母A： <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0001</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0001</span> <span class="comment">#Unicode</span></span><br></pre></td></tr></table></figure>

<h3 id="unicode"><a href="#unicode" class="headerlink" title="unicode"></a>unicode</h3><blockquote>
<p>目前的Unicode字符分为17组编排，0x0000至0x10FFFF，每组称为平面（Plane），而每平面拥有65536个码位，共1114112个。然而目前只用了少数平面。<a href="https://baike.baidu.com/item/UTF-8" target="_blank" rel="noopener">UTF-8</a>、<a href="https://baike.baidu.com/item/UTF-16" target="_blank" rel="noopener">UTF-16</a>、<a href="https://baike.baidu.com/item/UTF-32" target="_blank" rel="noopener">UTF-32</a>都是将数字转换到程序数据的编码方案。</p>
</blockquote>
<p>不同位置代表的字符可以查：<a href="https://home.unicode.org/，" target="_blank" rel="noopener">https://home.unicode.org/，</a> 十六进制表示</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnveuhxzgxj31yy0rmqv5.jpg" alt="image-20210221200625655"></p>
<ul>
<li>ord(), chr()</li>
</ul>
<p>ord()查 看编码对应的十进制数</p>
<p>chr() 函数返回代表指定 unicode 的字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(ord(<span class="string">'c'</span>))  <span class="comment">#99</span></span><br><span class="line">print(chr(<span class="number">99</span>))  <span class="comment"># 'c'</span></span><br></pre></td></tr></table></figure>

<p><code>\</code>后面还可以跟一个八进制或者十六进制数来表示字符，例如<code>\141</code>和<code>\x61</code>都代表小写字母<code>a</code>，前者是八进制的表示法，后者是十六进制的表示法。也可以在<code>\</code>后面跟Unicode字符编码来表示字符</p>
<p>0x266a(十六进制)  &lt;——&gt;   9834(十进制)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'\u266A'</span>, chr(<span class="number">9834</span>), chr(<span class="number">0x266a</span>)</span><br><span class="line">(<span class="string">'♪'</span>, <span class="string">'♪'</span>, <span class="string">'♪'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'\u4e2d\u6587\u266A\u1555'</span>  <span class="comment"># ('中文♪ᕕ', 'ᕕ')</span></span><br></pre></td></tr></table></figure>

<p>字符展示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i in range(65536):</span><br><span class="line">    print(chr(i), end=&apos; &apos;)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnveywzy3lj31l00hy0yh.jpg" alt="image-20200905213907038"></p>
<p>输出大写、小写字母和数字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print([chr(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">65</span>, <span class="number">91</span>)])  <span class="comment"># 所有大写字母</span></span><br><span class="line">print([chr(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">97</span>, <span class="number">123</span>)])  <span class="comment"># 所有小写字母</span></span><br><span class="line">print([chr(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">48</span>, <span class="number">58</span>)])   <span class="comment"># 所有数字</span></span><br><span class="line">print([chr(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">19968</span>, <span class="number">40960</span>)])   <span class="comment"># 所有中文，汉字集 \0x4E00-0x9FFF，十六进制，对应 19968-40959</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;D&apos;, &apos;E&apos;, &apos;F&apos;, &apos;G&apos;, &apos;H&apos;, &apos;I&apos;, &apos;J&apos;, &apos;K&apos;, &apos;L&apos;, &apos;M&apos;, &apos;N&apos;, &apos;O&apos;, &apos;P&apos;, &apos;Q&apos;, &apos;R&apos;, &apos;S&apos;, &apos;T&apos;, &apos;U&apos;, &apos;V&apos;, &apos;W&apos;, &apos;X&apos;, &apos;Y&apos;, &apos;Z&apos;]</span><br><span class="line">[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;h&apos;, &apos;i&apos;, &apos;j&apos;, &apos;k&apos;, &apos;l&apos;, &apos;m&apos;, &apos;n&apos;, &apos;o&apos;, &apos;p&apos;, &apos;q&apos;, &apos;r&apos;, &apos;s&apos;, &apos;t&apos;, &apos;u&apos;, &apos;v&apos;, &apos;w&apos;, &apos;x&apos;, &apos;y&apos;, &apos;z&apos;]</span><br><span class="line">[&apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;]</span><br><span class="line">[&apos;一&apos;, &apos;丁&apos;, &apos;丂&apos;, &apos;七&apos;, &apos;丄&apos;, &apos;丅&apos;, &apos;丆&apos;, &apos;万&apos;, &apos;丈&apos;, &apos;三&apos;, &apos;上&apos;, &apos;下&apos;, &apos;丌&apos;, &apos;不&apos;, &apos;与&apos;, &apos;丏&apos;, &apos;丐&apos;, &apos;丑&apos;, &apos;丒&apos;, &apos;专&apos;, &apos;且&apos;, &apos;丕&apos;, &apos;世&apos;, &apos;丗&apos;, &apos;丘&apos;, &apos;丙&apos;, &apos;业&apos;, &apos;丛&apos;, &apos;东&apos;, &apos;丝&apos;, &apos;丞&apos;, &apos;丟&apos;, &apos;丠&apos;, &apos;両&apos;, &apos;丢&apos;, &apos;丣&apos;, &apos;两&apos;, &apos;严&apos;, &apos;並&apos;, &apos;丧&apos;, &apos;丨&apos;, &apos;丩&apos;, &apos;个&apos;, &apos;丫&apos;, &apos;丬&apos;, &apos;中&apos;, &apos;丮&apos;, &apos;丯&apos;, &apos;丰&apos;, &apos;丱&apos;, &apos;串&apos;, &apos;丳&apos;, &apos;临&apos;, &apos;丵&apos;, &apos;丶&apos;, &apos;丷&apos;, &apos;丸&apos;, &apos;丹&apos;, &apos;为&apos;, &apos;主&apos;, &apos;丼&apos;, &apos;丽&apos;, &apos;举&apos;, &apos;丿&apos;, &apos;乀&apos;, &apos;乁&apos;, &apos;乂&apos;, &apos;乃&apos;, &apos;乄&apos;, &apos;久&apos;, &apos;乆&apos;, &apos;乇&apos;, &apos;么&apos;, &apos;义&apos;, &apos;乊&apos;, &apos;之&apos;, &apos;乌&apos;, &apos;乍&apos;, &apos;乎&apos;, &apos;乏&apos;, &apos;乐&apos;, &apos;乑&apos;, &apos;乒&apos;, &apos;乓.....</span><br></pre></td></tr></table></figure>

<ul>
<li>缺点</li>
</ul>
<p>Unicode太浪费空间！！（内存中存储的字符串默认使用unicode，目的是Unicode定长，好处理）</p>
<p>于是提出<em>UTF-8</em>（8-bit Unicode Transformation Format）， 可变长度编码</p>
<h3 id="utf8"><a href="#utf8" class="headerlink" title="utf8"></a>utf8</h3><p>不同语言所占内存空间大小：</p>
<p>英文：1byte</p>
<p>欧洲：2byte</p>
<p>中文：3byte</p>
<ul>
<li>总结：</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4x8myqj31ka0awjug.jpg" alt="image-20200826235900455"></p>
<h3 id="encode-与decode"><a href="#encode-与decode" class="headerlink" title="encode() 与decode()"></a>encode() 与decode()</h3><p>由于Python的字符串类型是<code>str</code>，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把<code>str</code>变为以字节为单位的<code>bytes</code>。</p>
<p>以Unicode表示的<code>str</code>通过<code>encode()</code>方法可以编码为指定的<code>bytes</code>，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABC'</span>.encode(<span class="string">'ascii'</span>)</span><br><span class="line"><span class="string">b'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>bytes</code>为&lt;class ‘bytes’&gt;</p>
<p>b’\xe4\xb8\xad\xe5\x9b\xbd’, 每个\x一个字节</p>
</blockquote>
<p>反过来，如果我们从网络或磁盘上读取了字节流，那么读到的数据就是<code>bytes</code>。要把<code>bytes</code>变为<code>str</code>，就需要用<code>decode()</code>方法：</p>
<blockquote>
<p>decode()把bytes转为字符串，如果发生UnicodeDecodeError，需要切换解码方式</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'ABC'</span>.decode(<span class="string">'ascii'</span>)</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'中文'</span></span><br></pre></td></tr></table></figure>

<p>比如，程序得到如下输出内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">------------------------------</span><br><span class="line">SOMC1601180KGEJ ----&gt; id: "49"</span><br><span class="line">label_id: <span class="string">"189"</span></span><br><span class="line">prob: <span class="number">3.0</span></span><br><span class="line">label_name: <span class="string">"\346\216\222\351\230\273"</span></span><br></pre></td></tr></table></figure>

<p>label_name 的解析：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">b'\346\216\222\351\230\273'</span>.decode(<span class="string">'utf8'</span>))  <span class="comment"># 注意，这里是八进制</span></span><br></pre></td></tr></table></figure>

<p>排阻</p>
<ul>
<li>拓展</li>
</ul>
<p>bytes,一堆字节，python 程序中最小的数据单位</p>
<p>图片，mp3，视频等都要用bytes来读取</p>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul>
<li>1) 计算机系统通用的字符编码工作方式 </li>
</ul>
<p>参考：<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017075323632896" target="_blank" rel="noopener">字符串和编码</a></p>
<blockquote>
<p> 在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。</p>
<p> 用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件：</p>
<p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvdvitftdj308j07qdg8.jpg" alt="rw-file-utf-8"></p>
<p> 浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：</p>
<p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvebjlj8pj308e07edg3.jpg" alt="web-utf-8"></p>
<p> 所以你看到很多网页的源码上会有类似<code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code>的信息，表示该网页正是用的UTF-8编码。</p>
</blockquote>
<ul>
<li>2）检测字符串是否全为中文字符：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_all_chinese</span><span class="params">(check_str)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> check_str:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="string">u'\u4e00'</span> &lt;= ch &lt;= <span class="string">u'\u9fff'</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">is_all_chinese(<span class="string">'水黼电费'</span>), is_all_chinese(<span class="string">'水黼电费aa'</span>), <span class="string">"\u4e01"</span>, chr(<span class="number">40000</span>), ord(<span class="string">'\u9fff'</span>), ord(<span class="string">'\u4e00'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(True, False, &apos;丁&apos;, &apos;鱀&apos;, 40959, 19968)</span><br></pre></td></tr></table></figure>

<ul>
<li>3）去除标点</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove_punctuation</span><span class="params">(line)</span>:</span></span><br><span class="line">    rule = re.compile(<span class="string">r"[^a-zA-Z0-9\u4e00-\u9fff]"</span>)  <span class="comment"># 此处可以扩展</span></span><br><span class="line">    line = rule.sub(<span class="string">'*'</span>,line)</span><br><span class="line">    <span class="keyword">return</span> line</span><br><span class="line">remove_punctuation(<span class="string">'sds按时发斯蒂 是多少芬,sd s!! 1/2w、`是'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;sds按时发斯蒂*是多少芬*sd*s***1*2w**是&apos;</span><br></pre></td></tr></table></figure>

<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><ul>
<li>模式</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4xvftgj30v20h0dgw.jpg" alt="image-20200902000110875"></p>
<p>注意，’w‘ 与 ‘a’ 区别：</p>
<p>主要是下次打开文件时候，会不会将之前的内容清空</p>
<p>e.g.    </p>
<blockquote>
<p><code>finally</code>块的代码不论程序正常还是异常都会执行到（甚至是调用了<code>sys</code>模块的<code>exit</code>函数退出Python环境，<code>finally</code>块都会被执行，因为<code>exit</code>函数实质上是引发了<code>SystemExit</code>异常），因此我们通常把<code>finally</code>块称为“总是执行代码块”，</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""判断素数的函数"""</span></span><br><span class="line">    <span class="keyword">assert</span> n &gt; <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> factor <span class="keyword">in</span> range(<span class="number">2</span>, int(sqrt(n)) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> n % factor == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span> <span class="keyword">if</span> n != <span class="number">1</span> <span class="keyword">else</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    filenames = (<span class="string">'a.txt'</span>, <span class="string">'b.txt'</span>, <span class="string">'c.txt'</span>)</span><br><span class="line">    fs_list = []</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">            fs_list.append(open(filename, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line">        <span class="keyword">for</span> number <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">100</span>):</span><br><span class="line">            <span class="keyword">if</span> is_prime(number):</span><br><span class="line">                <span class="keyword">if</span> number &lt; <span class="number">10</span>:</span><br><span class="line">                    fs_list[<span class="number">0</span>].write(str(number) + <span class="string">'\n'</span>)</span><br><span class="line">                <span class="keyword">elif</span> number &lt; <span class="number">50</span>:</span><br><span class="line">                    fs_list[<span class="number">1</span>].write(str(number) + <span class="string">'\n'</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    fs_list[<span class="number">2</span>].write(str(number) + <span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">except</span> IOError <span class="keyword">as</span> ex:</span><br><span class="line">        print(ex)</span><br><span class="line">        print(<span class="string">'写文件时发生错误!'</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">for</span> fs <span class="keyword">in</span> fs_list:</span><br><span class="line">            fs.close()</span><br><span class="line">    print(<span class="string">'操作完成!'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p>注意<code>fs_list.append(open(filename, &#39;w&#39;, encoding=&#39;utf-8&#39;))</code>与<code>fs_list.append(open(filename, &#39;a&#39;, encoding=&#39;utf-8&#39;))</code> 区别</p>
<ul>
<li>读取时的路径写法</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghvdxbqv7cj31pa0fa4qp.jpg" alt="image-20200818233235670"></p>
<ul>
<li>b模式，<strong>一般处理非文本文件</strong>，不能指定encoding</li>
</ul>
<p>rb：读取字节</p>
<p>wb：写入字节</p>
<p>读取f1,复制到f2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f1 = open(<span class="string">'a.png'</span>,mode=<span class="string">'rb'</span>)</span><br><span class="line">f2 = open(<span class="string">'b/a.png'</span>, mode=<span class="string">'wb'</span>) </span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f1:</span><br><span class="line">    f2.write(line)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe54g58zj31ky0iamzz.jpg" alt="image-20200831235632343"></p>
<p>f.close() 不要忘</p>
<ul>
<li>with</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4tu98bj31980e4ac4.jpg" alt="image-20200819003259671"></p>
<blockquote>
<p>这里我们再简要介绍一下with关键字。with关键字用于python的 <strong>上下文管理器机制</strong> 。为了防止像open这一类文件打开方法在操作过程中出现异常或者错误，或者是操作结束后忘记关闭文件而导致文件非正常关闭出现文件泄露、破坏等后果，python提供了with这个上下文管理器机制，保证文件会正常关闭，不需要手动输入close语句。这里注意with语句后面加冒号，操作命令语句注意缩进</p>
</blockquote>
<ul>
<li>文件修改操作</li>
</ul>
<p>涉及到文件的读写、替换，删除和重命名</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghwir7b0fqj31080gqdvg.jpg" alt="image-20200819230514116"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">r'test.txt'</span>, mode=<span class="string">'r'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f1, \</span><br><span class="line">    open(<span class="string">r'test_副本.txt'</span>, mode=<span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f1:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'的'</span> <span class="keyword">in</span> line:</span><br><span class="line">            line = line.replace(<span class="string">'的'</span>, <span class="string">'AA'</span>)</span><br><span class="line">        f2.write(line)</span><br><span class="line">os.remove(<span class="string">'test.txt'</span>)  <span class="comment"># 删除文件</span></span><br><span class="line">os.rename(<span class="string">'test_副本.txt'</span>,<span class="string">'test.txt'</span>)</span><br></pre></td></tr></table></figure>

<p>结果如下：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4zxygrj314i08eaba.jpg" alt="image-20200901222311929"></p>
<h2 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h2><p>我们已经知道如何将文本数据和二进制数据保存到文件中，序列化则是希望把一个列表或者一个字典中的数据保存到文件中</p>
<p>什么是序列化和反序列化？</p>
<blockquote>
<p> 自由的百科全书<a href="https://zh.wikipedia.org/" target="_blank" rel="noopener">维基百科</a>上对这两个概念是这样解释的：“序列化（serialization）在计算机科学的数据处理中，是指将<strong>数据结构或对象状态</strong>转换为可以存储或传输的形式，这样在需要的时候能够恢复到原先的状态，而且通过序列化的数据重新获取字节时，可以利用这些字节来产生原始对象的副本（拷贝）。与这个过程相反的动作，即从一系列字节中提取数据结构的操作，就是反序列化（deserialization）”。</p>
</blockquote>
<h3 id="JSON-文件"><a href="#JSON-文件" class="headerlink" title="JSON 文件"></a>JSON 文件</h3><p>如果希望把一个列表或者一个字典中的数据保存到文件中，将数据以JSON格式进行保存</p>
<p>json是我们前后端交互的枢纽. 相当于<strong>编程界的普通话</strong>. 大家沟通都用json. 为什么这样呢? 因为json的语法格式可以完美的表示出一个对象. 那什么是json: json全称javascript object notation. 翻译过来叫js对象简谱. </p>
<p>JSON的数据类型和Python的数据类型对应关系如下：</p>
<table>
<thead>
<tr>
<th>Python</th>
<th>JSON</th>
</tr>
</thead>
<tbody><tr>
<td>dict</td>
<td>object</td>
</tr>
<tr>
<td>list, tuple</td>
<td>array</td>
</tr>
<tr>
<td>str</td>
<td>string</td>
</tr>
<tr>
<td>int, float, int- &amp; float-derived Enums</td>
<td>number</td>
</tr>
<tr>
<td>True / False</td>
<td>true / false</td>
</tr>
<tr>
<td>None</td>
<td>null</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = &#123;<span class="string">"name"</span>:<span class="string">"ad"</span>, <span class="string">"code"</span>:<span class="number">12</span>, <span class="string">'s'</span>:<span class="literal">True</span>, <span class="string">'hh'</span>:<span class="literal">None</span>&#125;</span><br><span class="line">print(json.dumps(s))</span><br><span class="line">-------------------------</span><br><span class="line">&#123;<span class="string">"name"</span>: <span class="string">"ad"</span>, <span class="string">"code"</span>: <span class="number">12</span>, <span class="string">"s"</span>: true, <span class="string">"hh"</span>: null&#125;</span><br></pre></td></tr></table></figure>

<p>json模块主要有四个比较重要的函数，分别是：</p>
<p>1）<code>dump</code> - 将Python对象按照JSON格式序列化到文件中</p>
<p>2）<code>dumps</code> - 将Python对象处理成JSON格式的字符串</p>
<p>3）<code>load</code> - 将文件中的JSON数据反序列化成对象</p>
<p>4）<code>loads</code> - 将字符串的内容反序列化成Python对象</p>
<ul>
<li>dumps()</li>
</ul>
<p>dict 转json</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">dic = &#123;<span class="string">'name'</span>:<span class="string">'ad'</span>, <span class="string">'code'</span>:<span class="number">12</span>&#125;</span><br><span class="line">s = json.dumps(dic)</span><br><span class="line">print(type(s), s)</span><br></pre></td></tr></table></figure>

<p>&lt;class ‘str’&gt; {“name”: “ad”, “code”: 12}</p>
<blockquote>
<p>注意，涉及到<strong>中文</strong>会有坑,要加 <strong>ensure_ascii=False</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;&apos;name&apos;:&apos;迭代似懂非懂ad&apos;, &apos;code&apos;:12&#125;</span><br><span class="line">s = json.dumps(dic)</span><br><span class="line">print(s)</span><br><span class="line">print(ascii(&apos;迭代似懂非懂ad&apos;))</span><br></pre></td></tr></table></figure>

<p>{“name”: “\u8fed\u4ee3\u4f3c\u61c2\u975e\u61c2ad”, “code”: 12}</p>
<p>‘\u8fed\u4ee3\u4f3c\u61c2\u975e\u61c2ad’</p>
<p>改为这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">'name'</span>:<span class="string">'迭代似懂非懂ad'</span>, <span class="string">'code'</span>:<span class="number">12</span>&#125;</span><br><span class="line">s = json.dumps(dic, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<p>{“name”: “迭代似懂非懂ad”, “code”: 12}</p>
<p>列表一样可以进行类似转换：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="string">'孙悟空'</span>, <span class="string">'鲁达'</span>,<span class="literal">True</span>, <span class="string">'林冲'</span>]</span><br><span class="line">s = json.dumps(lst, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">print(s, type(s))</span><br></pre></td></tr></table></figure>

<p>[“孙悟空”, “鲁达”, true, “林冲”] &lt;class ‘str’&gt;</p>
<ul>
<li>loads()</li>
</ul>
<p>前端返回字符串，变为python 中字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'&#123;"name":"迭代似懂非懂ad", "code":12&#125;'</span></span><br><span class="line">d =json.loads(s)</span><br><span class="line">print(d, type(d))</span><br><span class="line">print(d[<span class="string">'name'</span>])</span><br></pre></td></tr></table></figure>

<p>{‘name’: ‘迭代似懂非懂ad’, ‘code’: 12} &lt;class ‘dict’&gt;<br>迭代似懂非懂ad</p>
<blockquote>
<p>注意，s = ‘{“name”:”迭代似懂非懂ad”, “code”:12}’里面要用” “双引号</p>
</blockquote>
<ul>
<li>写入到文件, dump()</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">"a"</span>: <span class="string">"女王"</span>, <span class="string">"b"</span>: <span class="string">"萝莉"</span>, <span class="string">"c"</span>: <span class="string">"小清新"</span>&#125;</span><br><span class="line">f = open(<span class="string">"test.json"</span>, mode=<span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line">json.dump(dic, f, ensure_ascii=<span class="literal">False</span>) <span class="comment"># 把对象打散成json写入到文件中</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<p>读取, load()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">"test.json"</span>, mode=<span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line">dic = json.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(dic)</span><br></pre></td></tr></table></figure>

<p>{‘a’: ‘女王’, ‘b’: ‘萝莉’, ‘c’: ‘小清新’}</p>
<h3 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h3><p><strong>序列化后的数据只能被Python识别</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">lst = [<span class="string">'孙悟空'</span>, <span class="string">'鲁达'</span>, <span class="string">'林冲'</span>]</span><br><span class="line">bs = pickle.dumps(lst)</span><br><span class="line">print(type(bs), bs)</span><br></pre></td></tr></table></figure>

<p>&lt;class ‘bytes’&gt; b’\x80\x03]q\x00(X\t\x00\x00\x00\xe5\xad\x99\xe6\x82\x9f\xe7\xa9\xbaq\x01X\x06\x00\x00\x00\xe9\xb2\x81\xe8\xbe\xbeq\x02X\x06\x00\x00\x00\xe6\x9e\x97\xe5\x86\xb2q\x03e.’</p>
<p>还原：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bs = <span class="string">b'\x80\x03]q\x00(X\t\x00\x00\x00\xe5\xad\x99\xe6\x82\x9f\xe7\xa9\xbaq\x01X\x06\x00\x00\x00\xe9\xb2\x81\xe8\xbe\xbeq\x02X\x06\x	00\x00\x00\xe6\x9e\x97\xe5\x86\xb2q\x03e.'</span></span><br><span class="line">print(pickle.loads(bs))</span><br></pre></td></tr></table></figure>

<p>[‘孙悟空’, ‘鲁达’, ‘林冲’]</p>
<p>load() , dump()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="string">'孙悟空'</span>, <span class="string">'鲁达'</span>, <span class="string">'林冲'</span>]</span><br><span class="line">pickle.dump(lst, open(<span class="string">'l.data'</span>, mode=<span class="string">'wb'</span>))</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4z0dmaj30wc04g3z3.jpg" alt="image-20200906161619955"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取序列化后的文件</span></span><br><span class="line">l = pickle.load(open(<span class="string">'l.data'</span>, mode=<span class="string">'rb'</span>))</span><br><span class="line">print(type(l), l)</span><br></pre></td></tr></table></figure>

<p>&lt;class ‘list’&gt; [‘孙悟空’, ‘鲁达’, ‘林冲’]</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>要注意方法的复杂度【10】</p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>Average Case</strong></th>
<th><strong><a href="http://en.wikipedia.org/wiki/Amortized_analysis" target="_blank" rel="noopener">Amortized Worst Case</a></strong></th>
</tr>
</thead>
<tbody><tr>
<td>Copy</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Append[1]</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Pop last</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Pop intermediate[2]</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Insert</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Get Item</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Set Item</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Delete Item</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Iteration</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Get Slice</td>
<td>O(k)</td>
<td>O(k)</td>
</tr>
<tr>
<td>Del Slice</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Set Slice</td>
<td>O(k+n)</td>
<td>O(k+n)</td>
</tr>
<tr>
<td>Extend[1]</td>
<td>O(k)</td>
<td>O(k)</td>
</tr>
<tr>
<td><a href="http://svn.python.org/projects/python/trunk/Objects/listsort.txt" target="_blank" rel="noopener">Sort</a></td>
<td>O(n log n)</td>
<td>O(n log n)</td>
</tr>
<tr>
<td>Multiply</td>
<td>O(nk)</td>
<td>O(nk)</td>
</tr>
<tr>
<td>x in s</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>min(s), max(s)</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>Get Length</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">操作</th>
<th align="left">方法</th>
<th align="left">实例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">追加(尾部)</td>
<td align="left">append()</td>
<td align="left">l = [‘a’, ‘b’]<br>l.append(‘c’) <br>print(l)</td>
<td>[‘a’, ‘b’, ‘c’]</td>
</tr>
<tr>
<td align="left">插入(索引)</td>
<td align="left">insert(index)</td>
<td align="left">l = [‘a’, ‘b’]<br>l.insert(1,’c’)<br>print(l)</td>
<td>[‘a’, ‘c’, ‘b’]</td>
</tr>
<tr>
<td align="left">合并新增</td>
<td align="left">extend()</td>
<td align="left">l = [‘a’, ‘b’] <br>l1 = [‘c’, ‘z’] <br>l.extend(l1) <br>print(l)</td>
<td>[‘a’, ‘b’, ‘c’, ‘z’]</td>
</tr>
<tr>
<td align="left">删除</td>
<td align="left">remove()</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘z’, ‘b’]<br>l.remove(‘b’)<br>print(l)</td>
<td>[‘a’, ‘c’, ‘z’, ‘b’]</td>
</tr>
<tr>
<td align="left">弹出</td>
<td align="left">pop()</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘z’, ‘b’]<br>a = l.pop()  # 返回最后一个 <br>print(a, l)</td>
<td>b [‘a’, ‘b’, ‘c’, ‘z’]</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">pop(index)</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘z’, ‘b’]<br>a = l.pop(1)  # 指定索引删除 <br>print(a, l)</td>
<td>b [‘a’, ‘c’, ‘z’, ‘b’]</td>
</tr>
<tr>
<td align="left">清空</td>
<td align="left">clear()</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘z’, ‘b’] <br>l.clear() <br>print(l)</td>
<td>[]</td>
</tr>
<tr>
<td align="left">计数</td>
<td align="left">count()</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘b’, ‘b’] <br>print(l.count(‘b’))</td>
<td>3</td>
</tr>
<tr>
<td align="left">翻转</td>
<td align="left">reverse()</td>
<td align="left">l = [‘a’, ‘b’, ‘c’, ‘a’] <br>l.reverse() <br>print(l)</td>
<td>[‘a’, ‘c’, ‘b’, ‘a’]</td>
</tr>
<tr>
<td align="left">排序</td>
<td align="left">sort()</td>
<td align="left">l = [12, 34, 1, 354] <br>l.sort() <br>print(l)</td>
<td>[1, 12, 34, 354]</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">sort(reverse=True)</td>
<td align="left">l = [12, 34, 1, 354] <br>l.sort(reverse=True) <br>print(l)</td>
<td>[354, 34, 12, 1]</td>
</tr>
</tbody></table>
<blockquote>
<p>注意</p>
<ol>
<li>append() 效率比insert()高</li>
</ol>
</blockquote>
<ul>
<li>切片</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">print(list1[<span class="number">-2</span>:])  <span class="comment">#取出最后两个元素</span></span><br><span class="line">print(list1[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])  <span class="comment">#间距取值</span></span><br><span class="line">print(list1[<span class="number">-1</span>::<span class="number">-1</span>])  <span class="comment">#列表元素反向</span></span><br></pre></td></tr></table></figure>

<p>[8, 9]<br>[1, 4, 7]<br>[9, 8, 7, 5, 4, 3, 1]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1[:<span class="number">0</span>] = [<span class="number">-1</span>,<span class="number">-2</span>]  <span class="comment"># 列表开头插入2元素</span></span><br><span class="line">print(list1)</span><br></pre></td></tr></table></figure>

<p>[-1, -2, 1, 3, 4, 5, 7, 8, 9]</p>
<ul>
<li>列表去重</li>
</ul>
<p>利用set， 很巧妙的一种方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [1,3,6,7,5,6,9,6,3]</span><br><span class="line">print(list(set(a)))</span><br><span class="line">[1, 3, 5, 6, 7, 9]</span><br></pre></td></tr></table></figure>

<ul>
<li>反转之通杀，针对字符串、list均适用—–&gt;&gt;<strong>[::-1]</strong></li>
</ul>
<p>不改变原始变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ml = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">6</span>]</span><br><span class="line">aa = <span class="string">'dqwer'</span></span><br><span class="line">print(aa[::<span class="number">-1</span>])  <span class="comment"># rewqd  </span></span><br><span class="line">print(ml[::<span class="number">-1</span>])  <span class="comment"># [6, 2, 7, 4, 1]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>生成式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)]  <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">[i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> i%<span class="number">2</span>==<span class="number">0</span>]  <span class="comment">#偶数,[0, 2, 4, 6, 8]</span></span><br><span class="line">[i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>) ]  <span class="comment">#平方,[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line">mydict = &#123;str(i):i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>)&#125;   <span class="comment">#字典,&#123;'0': 0, '1': 1, '2': 2, '3': 3&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tup = ((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>), (<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>))</span><br><span class="line">fl2 = [x <span class="keyword">for</span> x1 <span class="keyword">in</span> tup <span class="keyword">for</span> x <span class="keyword">in</span> x1]</span><br><span class="line">print(fl2)</span><br></pre></td></tr></table></figure>

<p>[1, 2, 3, 4, 5, 6, 7, 8, 9]</p>
<ul>
<li>enumerate()</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">'离离'</span>,<span class="string">'云上草'</span>, <span class="string">'业火'</span>]</span><br><span class="line"><span class="keyword">for</span> index,value <span class="keyword">in</span> enumerate(list1):</span><br><span class="line">    print(index, value)</span><br></pre></td></tr></table></figure>

<ul>
<li>any(), all()判断</li>
</ul>
<p>any()，如果有一个为 True，则返回 True。</p>
<p>all —-&gt;and</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aa = [<span class="string">''</span>, <span class="number">23</span>, <span class="number">34</span>]</span><br><span class="line">print(any(aa))  <span class="comment">#True</span></span><br><span class="line">all(aa)  <span class="comment">#False</span></span><br></pre></td></tr></table></figure>

<ul>
<li>sorted()</li>
</ul>
<p>如下，二者效果是等价的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根据名字长度进行排序</span></span><br><span class="line">a = [<span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#需要自己定义排序规则</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> len(item)</span><br><span class="line"></span><br><span class="line">ret = sorted(a, key=func)</span><br><span class="line">print(ret)</span><br><span class="line">------------------------</span><br><span class="line">ret = sorted(a,key=<span class="keyword">lambda</span> x:len(x))</span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>]</span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>按年龄排序：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lst = [</span><br><span class="line">    &#123;&apos;name&apos;:&apos;A&apos;, &apos;age&apos;:1&#125;,</span><br><span class="line">    &#123;&apos;name&apos;:&apos;D&apos;, &apos;age&apos;:6&#125;,</span><br><span class="line">    &#123;&apos;name&apos;:&apos;V&apos;, &apos;age&apos;:3&#125;,</span><br><span class="line">]</span><br><span class="line">print(sorted(lst, key=lambda x:x[&apos;age&apos;]))</span><br></pre></td></tr></table></figure>

<p>[{‘name’: ‘A’, ‘age’: 1}, {‘name’: ‘V’, ‘age’: 3}, {‘name’: ‘D’, ‘age’: 6}]</p>
<blockquote>
<p>与sort()比较</p>
</blockquote>
<p><strong>sorted()有返回，sort()无返回；sorted不改变原始的列表，sort()则改变</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1go2dkmgx0lj31ce0mwx28.jpg" alt="image-20210227204119590"></p>
<h2 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h2><ul>
<li>意义</li>
</ul>
<ol>
<li><p>一个不变的对象要比可变的对象更加容易维护</p>
</li>
<li><p>如果不需要对元素进行添加、删除、修改的时候，可以考虑使用元组，当然如果一个方法要返回多个值，使用元组也是不错的选择。</p>
</li>
<li><p>元组在创建时间和占用的空间上面都优于列表</p>
</li>
</ol>
<ul>
<li>创建</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = (&apos;s&apos;, &apos;1&apos;, &apos;s&apos;)</span><br><span class="line">print(a,type(a))</span><br></pre></td></tr></table></figure>

<p>(‘s’, ‘1’, ‘s’) &lt;class ‘tuple’&gt;</p>
<p>注意，只有一个元素时，要这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = (&apos;s&apos;,)</span><br><span class="line">print(a,type(a))  #(&apos;s&apos;,) &lt;class &apos;tuple&apos;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>复杂度：【10】</p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>Average Case</strong></th>
<th><strong>Amortized Worst Case</strong></th>
</tr>
</thead>
<tbody><tr>
<td>k in d</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Copy[3]</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Get Item</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Set Item[1]</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Delete Item</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Iteration[3]</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
</tbody></table>
<blockquote>
<p> 在dict中查找某个key是否存在操作的时间复杂度为o（1）；查找某个value是否存在操作的时间复杂度为o（n）</p>
<p>本质：dict作为一个hash链表，是对其key进行hash操作的，而非value。</p>
<p>验证：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">import</span> time</span><br><span class="line">&gt; num = <span class="number">10000</span></span><br><span class="line">&gt; dic = &#123;&#125;</span><br><span class="line">&gt; <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">&gt;     dic[i] = i</span><br><span class="line">&gt; </span><br><span class="line">&gt; start = time.time()</span><br><span class="line">&gt; <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">&gt;     <span class="keyword">if</span> i <span class="keyword">in</span> dic.keys():   <span class="comment"># 时间快</span></span><br><span class="line">&gt;         <span class="keyword">pass</span></span><br><span class="line">&gt; end = time.time()</span><br><span class="line">&gt; <span class="keyword">print</span> (end - start)</span><br><span class="line">&gt; </span><br><span class="line">&gt; start = time.time()</span><br><span class="line">&gt; <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">&gt;     <span class="keyword">if</span> i <span class="keyword">in</span> dic.values():</span><br><span class="line">&gt;         <span class="keyword">pass</span></span><br><span class="line">&gt; end = time.time()</span><br><span class="line">&gt; <span class="keyword">print</span> (end - start)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>0.0018889904022216797<br>0.7385590076446533</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">操作</th>
<th>方法</th>
<th>实例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">添加</td>
<td>d[a] = b</td>
<td></td>
<td>{a: b}</td>
</tr>
<tr>
<td align="left">查询</td>
<td>d[a]</td>
<td></td>
<td>不存在会报错</td>
</tr>
<tr>
<td align="left"></td>
<td>d.get()</td>
<td>d = {‘a’: 1, ‘b’: 2, ‘c’: 3} <br>print(d.get(‘s’)) <br>print(d.get(‘s’, 0))  # 查询不存在，则返回0 <br>print(d.get(‘a’, 0))  <br>print(d)  # 原先的d 不变</td>
<td>None<br>0<br>1<br>{‘a’: 1, ‘b’: 2, ‘c’: 3}</td>
</tr>
<tr>
<td align="left"></td>
<td>d.setdefault()</td>
<td></td>
<td>查询不到会新增，改变原先dict</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi92bkp4acj313k0dcdxy.jpg" alt="image-20200830192855373"></p>
<p>基本格式是{key ：value}</p>
<ul>
<li>字典创建</li>
</ul>
<p>1）{a:b…..}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;12:&apos;混合&apos;, True:&apos;呵呵&apos;, &apos;name&apos;:1, (1,2):5&#125;</span><br></pre></td></tr></table></figure>

<p>2）dict()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典创建,以下两种方法结果一样</span></span><br><span class="line">d = dict(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>)</span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kw_dict</span><span class="params">(**kwargs)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> kwargs</span><br><span class="line">print(kw_dict(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<p>{‘a’: 1, ‘b’: 2, ‘c’: 3}<br>{‘a’: 1, ‘b’: 2, ‘c’: 3}</p>
<p>3）生成式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">items3 = &#123;num: num ** <span class="number">2</span> <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>)&#125;</span><br><span class="line">&#123;<span class="number">1</span>: <span class="number">1</span>, <span class="number">2</span>: <span class="number">4</span>, <span class="number">3</span>: <span class="number">9</span>, <span class="number">4</span>: <span class="number">16</span>, <span class="number">5</span>: <span class="number">25</span>, <span class="number">6</span>: <span class="number">36</span>, <span class="number">7</span>: <span class="number">49</span>, <span class="number">8</span>: <span class="number">64</span>, <span class="number">9</span>: <span class="number">81</span>&#125;</span><br></pre></td></tr></table></figure>

<p>4）zip()， 通过zip函数将两个序列压成字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dic = dict(zip(<span class="string">'abc'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dic</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'b'</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">l2 = [<span class="string">'s'</span>, <span class="string">'w'</span>, <span class="string">'t'</span>]</span><br><span class="line">print(dict(zip(l1, l2)))</span><br><span class="line">&#123;<span class="number">1</span>: <span class="string">'s'</span>, <span class="number">2</span>: <span class="string">'w'</span>, <span class="number">3</span>: <span class="string">'t'</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>与列表删除的比较</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu8lqtlmvj31du0m4ju6.jpg" alt="image-20200817233430628"></p>
<ul>
<li>查询</li>
</ul>
<blockquote>
<p>Python 字典 setdefault() 方法和 <a href="https://www.runoob.com/python3/python3-att-dictionary-get.html" target="_blank" rel="noopener">get()方法</a> 类似, 如果键不已经存在于字典中，将会添加键并将值设为默认值。</p>
</blockquote>
<p>注意，get()不改变原dict, setdefault()会改变</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4zj2hkj31dm0iojuw.jpg" alt="image-20200817234222875"></p>
<p>e.g.</p>
<p>将列表中＞7的元素放在一起</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将大于7的放在一起</span></span><br><span class="line">ls = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">33</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">result = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ls:</span><br><span class="line">    <span class="keyword">if</span> i&gt;<span class="number">7</span>:</span><br><span class="line">        result.setdefault(<span class="string">'bigger'</span>, []).append(i)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result.setdefault(<span class="string">'smaller'</span>, []).append(i)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<p>{‘smaller’: [1, 4, 0, 5], ‘bigger’: [8, 33, 9]}</p>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>Python中的集合跟数学上的集合是一致的，不允许有重复元素，而且可以进行交集、并集、差集等运算。</p>
<p><img src="https://i.loli.net/2021/03/22/14xsmek8XUfDy7r.png" alt="img"></p>
<ul>
<li>复杂度【10】</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>Average case</strong></th>
<th><strong>Worst Case</strong></th>
<th><strong>notes</strong></th>
</tr>
</thead>
<tbody><tr>
<td>x in s</td>
<td>O(1)</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>Union s|t</td>
<td><a href="https://wiki.python.org/moin/TimeComplexity_(SetCode)" target="_blank" rel="noopener">O(len(s)+len(t))</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Intersection s&amp;t</td>
<td>O(min(len(s), len(t))</td>
<td>O(len(s) * len(t))</td>
<td>replace “min” with “max” if t is not a set</td>
</tr>
<tr>
<td>Multiple intersection s1&amp;s2&amp;..&amp;sn</td>
<td></td>
<td>(n-1)*O(l) where l is max(len(s1),..,len(sn))</td>
<td></td>
</tr>
<tr>
<td>Difference s-t</td>
<td>O(len(s))</td>
<td></td>
<td></td>
</tr>
<tr>
<td>s.difference_update(t)</td>
<td>O(len(t))</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Symmetric Difference s^t</td>
<td>O(len(s))</td>
<td>O(len(s) * len(t))</td>
<td></td>
</tr>
<tr>
<td>s.symmetric_difference_update(t)</td>
<td>O(len(t))</td>
<td>O(len(t) * len(s))</td>
<td></td>
</tr>
</tbody></table>
<p>set和dict类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在set中，没有重复的key。</p>
<p>判断值是否在set集合中的速度明显要比list快的多, 因为查找set用到了hash，时间在O(1)级别。</p>
<ul>
<li>交并差</li>
</ul>
<p>&amp; | -</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="string">'a'</span>, <span class="string">'s'</span>, <span class="string">'q'</span>&#125;</span><br><span class="line">s2 = &#123;<span class="string">'s'</span>, <span class="string">'q'</span>, <span class="string">'uu'</span>&#125;</span><br><span class="line">print(s1 &amp; s2)  <span class="comment">#交集</span></span><br><span class="line">print(s1 | s2)  <span class="comment">#并集</span></span><br><span class="line">print(s1 - s2)  <span class="comment">#差集</span></span><br></pre></td></tr></table></figure>

<p>{‘q’, ‘s’}<br>{‘q’, ‘uu’, ‘s’, ‘a’}<br>{‘a’}</p>
<ul>
<li>增、删</li>
</ul>
<p>add()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = set()</span><br><span class="line">s.add(&apos;西新街&apos;)</span><br><span class="line">s.add(&apos;华西街&apos;)</span><br><span class="line">print(s)  # &#123;&apos;华西街&apos;, &apos;西新街&apos;&#125;</span><br></pre></td></tr></table></figure>

<p>remove()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.remove(&apos;华西街&apos;)</span><br><span class="line">print(s)  # &#123;&apos;西新街&apos;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h2><ul>
<li>先看赋值</li>
</ul>
<p>赋值的时候，并未产生新的数据，而是对内存地址的复制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="string">'克拉玛依'</span>, <span class="string">'苹果'</span>, <span class="string">'肉'</span>]</span><br><span class="line">l2 = l1</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">l1.append(<span class="string">'葡萄'</span>)</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">print(id(l1))  <span class="comment"># 查看变量内存地址</span></span><br><span class="line">print(id(l2))</span><br></pre></td></tr></table></figure>

<p>[‘克拉玛依’, ‘苹果’, ‘肉’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’, ‘葡萄’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’, ‘葡萄’]<br>4511179312<br>4511179312</p>
<p>内存地址一样，<strong>说明此处‘l2 = l1’ 并没有产生新的对象，而是直接把内存地址复制了一份</strong></p>
<ul>
<li>换成 copy()</li>
</ul>
<p>会产生新的列表, 或者使用l1[:]效果一样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">l1 = [&apos;克拉玛依&apos;, &apos;苹果&apos;, &apos;肉&apos;]</span><br><span class="line">l2 = l1.copy()</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">l1.append(&apos;葡萄&apos;)</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">print(id(l1))  # 查看变量内存地址</span><br><span class="line">print(id(l2))</span><br></pre></td></tr></table></figure>

<p>[‘克拉玛依’, ‘苹果’, ‘肉’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’, ‘葡萄’]<br>[‘克拉玛依’, ‘苹果’, ‘肉’]<br>4400603696<br>4400634928</p>
<blockquote>
<p>但是，copy()是浅拷贝，有坑！！！</p>
<p>浅拷贝，只拷贝第一层内容</p>
</blockquote>
<p>e.g.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="string">'克拉玛依'</span>, <span class="string">'苹果'</span>, [<span class="string">'a'</span>, <span class="string">'s'</span>]]</span><br><span class="line">l2 = l1.copy()</span><br><span class="line"><span class="comment"># l2 = l1[:]</span></span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">l1[<span class="number">2</span>].append(<span class="string">'葡萄'</span>)</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">print(id(l1[<span class="number">2</span>]))  <span class="comment"># 查看变量内存地址</span></span><br><span class="line">print(id(l2[<span class="number">2</span>]))</span><br></pre></td></tr></table></figure>

<p>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’, ‘葡萄’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’, ‘葡萄’]]<br><strong>4414546400</strong><br><strong>4414546400</strong></p>
<ul>
<li>copy.deepcopy()   深拷贝</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">l1 = [&apos;克拉玛依&apos;, &apos;苹果&apos;, [&apos;a&apos;, &apos;s&apos;]]</span><br><span class="line">l2 = copy.deepcopy(l1)</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">l1[2].append(&apos;葡萄&apos;)</span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line"></span><br><span class="line">print(id(l1[2]))  # 查看变量内存地址</span><br><span class="line">print(id(l2[2]))</span><br></pre></td></tr></table></figure>

<p>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’, ‘葡萄’]]<br>[‘克拉玛依’, ‘苹果’, [‘a’, ‘s’]]<br>4567815984<br>4566749008</p>
<ul>
<li>补充，列表删除不干净</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l = [&apos;1a&apos;, &apos;1b&apos;, &apos;1c&apos;, &apos;1d&apos;]</span><br><span class="line">for item in l:</span><br><span class="line">    if item.startswith(&apos;1&apos;):</span><br><span class="line">        l.remove(item)</span><br><span class="line">print(l)</span><br></pre></td></tr></table></figure>

<p>[‘1b’, ‘1d’]</p>
<p>使用浅拷贝，修改如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for item in l.copy():  #浅拷贝，会产生新的列表</span><br><span class="line">    if item.startswith(&apos;1&apos;):</span><br><span class="line">        l.remove(item)</span><br><span class="line">print(l)  #[]</span><br></pre></td></tr></table></figure>

<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><ul>
<li>sleep()，控制程序执行的频率</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">time.sleep(1)</span><br></pre></td></tr></table></figure>

<ul>
<li>time()，计算时间差</li>
</ul>
<h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">from datetime import date</span><br></pre></td></tr></table></figure>

<ul>
<li>显示当前时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(datetime.now())</span><br><span class="line">print(datetime(<span class="number">2018</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">19</span>))  <span class="comment">#创建时间</span></span><br></pre></td></tr></table></figure>

<p>2020-09-06 14:16:51.049176<br>2018-01-02 12:12:19</p>
<ul>
<li>时间差</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t1 = datetime(<span class="number">2018</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">19</span>)</span><br><span class="line">t2 = datetime(<span class="number">2018</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">3</span>,<span class="number">19</span>)</span><br><span class="line">diff = t2-t1</span><br><span class="line">print(diff)</span><br><span class="line">print(diff.total_seconds())</span><br></pre></td></tr></table></figure>

<p>2 days, 9:51:00<br>208260.0</p>
<ul>
<li>格式化时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = datetime.now()</span><br><span class="line">print(t)</span><br><span class="line">print(t.strftime(<span class="string">'%Y年%m月%d日 %H时%M分%S秒'</span>))</span><br></pre></td></tr></table></figure>

<p>2020-09-06 14:26:27.784263<br>2020年09月06日 14时26分27秒</p>
<ul>
<li>strptime(), 字符串转化成时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s1 = input(<span class="string">'请输入第一个时间(格式 YYYY-mm-dd HH:MM:SS):'</span>)</span><br><span class="line">s2 = input(<span class="string">'请输入第二个时间(格式 YYYY-mm-dd HH:MM:SS):'</span>)</span><br><span class="line"></span><br><span class="line">t1 = datetime.strptime(s1, <span class="string">'%Y-%m-%d %H:%M:%S'</span>) <span class="comment">#p: parse</span></span><br><span class="line">t2 = datetime.strptime(s2, <span class="string">'%Y-%m-%d %H:%M:%S'</span>) <span class="comment">#p: parse</span></span><br><span class="line">print(t2-t1)</span><br></pre></td></tr></table></figure>

<p>请输入第一个时间(格式 YYYY-mm-dd HH:MM:SS):2020-2-23 1:1:12<br>请输入第二个时间(格式 YYYY-mm-dd HH:MM:SS):2020-2-24 12:9:36<br>1 day, 11:08:24</p>
<ul>
<li>date</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(date.today())</span><br><span class="line">print(date(1988,1,13))</span><br></pre></td></tr></table></figure>

<p>2020-09-06<br>1988-01-13</p>
<h3 id="random"><a href="#random" class="headerlink" title="random"></a>random</h3><ul>
<li>随机取一个数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(random.random())  <span class="comment"># (0,1)</span></span><br><span class="line">print(random.uniform(<span class="number">5</span>,<span class="number">9</span>))  <span class="comment"># 随机小数</span></span><br><span class="line">print(random.randint(<span class="number">3</span>,<span class="number">8</span>))  <span class="comment">#随机整数，可以取到边界</span></span><br></pre></td></tr></table></figure>

<p>0.23364580405803148<br>5.6264103433987325<br>3</p>
<ul>
<li>从列表中随机选择</li>
</ul>
<blockquote>
<p>choice()</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lst = [&apos;张三&apos;, &apos;李四&apos;, &apos;林冲&apos;, &apos;李逵&apos;]</span><br><span class="line">print(random.choice(lst))</span><br></pre></td></tr></table></figure>

<p>林冲</p>
<blockquote>
<p>sample()</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lst = [&apos;孙悟空&apos;, &apos;鲁达&apos;, &apos;林冲&apos;, &apos;李逵&apos;, &apos;武松&apos;]</span><br><span class="line">print(random.sample(lst, 2))</span><br></pre></td></tr></table></figure>

<p>[‘鲁达’, ‘李逵’]</p>
<ul>
<li>练习</li>
</ul>
<p>随机生成四位验证码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_num</span><span class="params">()</span>:</span>  <span class="comment">#产生随机整数</span></span><br><span class="line">    <span class="keyword">return</span> str(random.randint(<span class="number">0</span>,<span class="number">9</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_upper</span><span class="params">()</span>:</span>  <span class="comment">#大写字母</span></span><br><span class="line">    <span class="keyword">return</span> chr(random.randint(<span class="number">65</span>, <span class="number">90</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_lower</span><span class="params">()</span>:</span>  <span class="comment">#小写字母范围</span></span><br><span class="line">    <span class="keyword">return</span> chr(random.randint(<span class="number">97</span>,<span class="number">122</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_verify_code</span><span class="params">(n=<span class="number">4</span>)</span>:</span></span><br><span class="line">    lst = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        which = random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">if</span> which == <span class="number">1</span>:  <span class="comment">#随机数字</span></span><br><span class="line">            s = rand_num()</span><br><span class="line">        <span class="keyword">elif</span> which == <span class="number">2</span>: <span class="comment">#随机大写字母</span></span><br><span class="line">            s = rand_upper()</span><br><span class="line">        <span class="keyword">elif</span> which == <span class="number">3</span>:</span><br><span class="line">            s = rand_lower()</span><br><span class="line">        lst.append(s)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(lst)</span><br><span class="line"></span><br><span class="line">print(rand_verify_code())</span><br><span class="line">---------------------------------</span><br><span class="line">Wh1J</span><br><span class="line">L82L</span><br><span class="line">jt43</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_verify_code</span><span class="params">(n=<span class="number">4</span>)</span>:</span></span><br><span class="line">    li = [rand_num, rand_upper, rand_lower]</span><br><span class="line">    result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(n):</span><br><span class="line">        func = random.choice(li)</span><br><span class="line">        s = func()</span><br><span class="line">        result += s</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">print(rand_verify_code())</span><br><span class="line">---------------------------------</span><br><span class="line">co5A</span><br><span class="line">R075</span><br><span class="line">bj4L</span><br></pre></td></tr></table></figure>

<h3 id="hashlib"><a href="#hashlib" class="headerlink" title="hashlib"></a>hashlib</h3><p>md5一定<strong>要加盐</strong>，否则容易撞库</p>
<ul>
<li>MD5加密</li>
</ul>
<p>MD5是一种<strong>不可逆</strong>的加密算法.  它是可靠的. 并且安全的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建MD5对象</span></span><br><span class="line">obj = hashlib.md5()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把要加密的信息传递给obj</span></span><br><span class="line">obj.update(<span class="string">'666666'</span>.encode(<span class="string">'utf8'</span>))</span><br><span class="line"><span class="comment"># 从obj拿到密文</span></span><br><span class="line">mi = obj.hexdigest()</span><br><span class="line">print(mi)</span><br></pre></td></tr></table></figure>

<p>f379eaf3c831b04de153469d1bec345e</p>
<p>正常加密容易撞库：<a href="https://www.cmd5.com/" target="_blank" rel="noopener">https://www.cmd5.com/</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giiflvzn77j312i0b6n50.jpg" alt="image-20200907215842397"></p>
<blockquote>
<p>加盐–解决撞库</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 加盐--解决撞库</span><br><span class="line">obj = hashlib.md5(b&apos;ghjkytrerwe&apos;)</span><br><span class="line">obj.update(&apos;666666&apos;.encode(&apos;utf8&apos;))</span><br><span class="line">print(obj.hexdigest()) # bdac197d85f8671dfd2ebac2c4daa78a</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giifrh8kfdj311u0c8wp3.jpg" alt="image-20200907220406893"></p>
<ul>
<li>MD5应用–用户密码加密</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(salt, s)</span>:</span></span><br><span class="line">    obj = hashlib.md5(salt)</span><br><span class="line">    obj.update(s.encode(<span class="string">'utf8'</span>))</span><br><span class="line">    <span class="keyword">return</span> obj.hexdigest()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户注册</span></span><br><span class="line">username = input(<span class="string">'请输入用户名：'</span>)</span><br><span class="line">password = input(<span class="string">'请输入密码：'</span>)</span><br><span class="line"><span class="comment"># 动态加盐，这里以用户名当盐</span></span><br><span class="line">mi_password = func(username.encode(<span class="string">'utf8'</span>), password)</span><br><span class="line">f= open(<span class="string">'user.txt'</span>, mode=<span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>)</span><br><span class="line">f.write(username)</span><br><span class="line">f.write(<span class="string">'\n'</span>)</span><br><span class="line">f.write(mi_password) <span class="comment">#把密文写出去</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giig4h1j69j316w056tcw.jpg" alt="image-20200907221636483"></p>
<blockquote>
<p>登录</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登录</span></span><br><span class="line">username = input(<span class="string">'请输入用户名：'</span>).strip()</span><br><span class="line">password = input(<span class="string">'请输入密码：'</span>).strip()</span><br><span class="line">password = func(username.encode(<span class="string">'utf8'</span>), password)</span><br><span class="line">f = open(<span class="string">'user.txt'</span>, mode= <span class="string">'r'</span>, encoding=<span class="string">'utf8'</span>)</span><br><span class="line">name = f.readline().strip()</span><br><span class="line">upwd = f.readline().strip()</span><br><span class="line"><span class="comment"># 需要把用户输入的明文加密之后，再进行判断</span></span><br><span class="line"><span class="keyword">if</span> username == name <span class="keyword">and</span> password == upwd:</span><br><span class="line">    print(<span class="string">'登录成功'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'登录失败'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giiggrgqt3j30ow04wtb8.jpg" alt="image-20200907222825239"></p>
<ul>
<li>文件加密</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文件加密</span></span><br><span class="line">f = open(<span class="string">'test.txt'</span>, mode=<span class="string">'rb'</span>)</span><br><span class="line">obj = hashlib.md5(<span class="string">b'qwetytyu'</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    obj.update(line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到加密结果</span></span><br><span class="line">print(obj.hexdigest())</span><br></pre></td></tr></table></figure>

<p>可以判断文件一致性</p>
<p>两个相同的文件的md5的值是一致的</p>
<h3 id="shutil"><a href="#shutil" class="headerlink" title="shutil"></a>shutil</h3><p>文件的拷贝，包括权限、创建时间的拷贝</p>
<p>以及复制文件夹、删除文件夹</p>
<ul>
<li>move()，dir1中c.txt 消失</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 把 dir1/c.txt 移动到 dir2</span><br><span class="line">shutil.move(&apos;dir1/c.txt&apos;, &apos;dir2&apos;)</span><br></pre></td></tr></table></figure>

<ul>
<li>copyfileobj，复制 dir2/c.txt—-&gt;&gt;到 dir1/b.txt</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制两个文件句柄</span></span><br><span class="line">f1 = open(<span class="string">'dir2/c.txt'</span>, mode=<span class="string">'rb'</span>)</span><br><span class="line">f2 = open(<span class="string">'dir1/b.txt'</span>, mode=<span class="string">'wb'</span>)</span><br><span class="line"></span><br><span class="line">shutil.copyfileobj(f1, f2)</span><br></pre></td></tr></table></figure>

<p>…</p>
<h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><ul>
<li>logging日志模块<strong>四大组件</strong></li>
</ul>
<p>在介绍logging模块的日志流处理流程之前，我们先来介绍下logging模块的四大组件：</p>
<table>
<thead>
<tr>
<th>组件名称</th>
<th>对应类名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>日志器</td>
<td>Logger</td>
<td>提供了应用程序可一直使用的接口</td>
</tr>
<tr>
<td>处理器</td>
<td>Handler</td>
<td>将logger创建的日志记录发送到合适的目的输出</td>
</tr>
<tr>
<td>过滤器</td>
<td>Filter</td>
<td>提供了更细粒度的控制工具来决定输出哪条日志记录，丢弃哪条日志记录</td>
</tr>
<tr>
<td>格式器</td>
<td>Formatter</td>
<td>决定日志记录的最终输出格式</td>
</tr>
</tbody></table>
<p>logging模块就是通过这些组件来完成日志处理的，上面所使用的logging模块级别的函数也是通过这些组件对应的类来实现的。</p>
<p>这些组件之间的关系描述：</p>
<p>简单点说就是：日志器（logger）是入口，真正干活儿的是处理器（handler），处理器（handler）还可以通过过滤器（filter）和格式器（formatter）对要输出的日志内容做过滤和格式化等处理操作。</p>
<ul>
<li>日志级别</li>
</ul>
<p>logging模块默认定义了以下几个日志等级，它允许开发人员自定义其他日志级别，但是这是不被推荐的，尤其是在开发供别人使用的库时，因为这会导致日志级别的混乱。</p>
<table>
<thead>
<tr>
<th>日志等级（level）</th>
<th>Value</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>DEBUG</td>
<td>10</td>
<td>最详细的日志信息，典型应用场景是 问题诊断</td>
</tr>
<tr>
<td>INFO</td>
<td>20</td>
<td>信息详细程度仅次于DEBUG，通常只记录关键节点信息，用于确认一切都是按照我们预期的那样进行工作</td>
</tr>
<tr>
<td>WARNING</td>
<td>30</td>
<td>当某些不期望的事情发生时记录的信息（如，磁盘可用空间较低），但是此时应用程序还是正常运行的</td>
</tr>
<tr>
<td>ERROR</td>
<td>40</td>
<td>由于一个更严重的问题导致某些功能不能正常运行时记录的信息</td>
</tr>
<tr>
<td>CRITICAL</td>
<td>50</td>
<td>当发生严重错误，导致应用程序不能继续运行时记录的信息</td>
</tr>
</tbody></table>
<p><strong>开发应用程序或部署开发环境时，可以使用DEBUG或INFO级别的日志获取尽可能详细的日志信息来进行开发或部署调试；应用上线或部署生产环境时，应该使用WARNING或ERROR或CRITICAL级别的日志来降低机器的I/O压力和提高获取错误日志信息的效率。日志级别的指定通常都是在应用程序的配置文件中进行指定的。</strong></p>
<blockquote>
<p><strong><em>说明：</em></strong></p>
<ul>
<li>上面列表中的日志等级是从上到下依次升高的，即：DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL，而日志的信息量是依次减少的；</li>
<li>当为某个应用程序指定一个日志级别后，应用程序会记录所有日志级别大于或等于指定日志级别的日志信息，而不是仅仅记录指定级别的日志信息，nginx、php等应用程序以及这里要提高的python的logging模块都是这样的。同样，logging模块也可以指定日志记录器的日志级别，只有级别大于或等于该指定日志级别的日志记录才会被输出，小于该等级的日志记录将会被丢弃。</li>
</ul>
</blockquote>
<ul>
<li>使用</li>
</ul>
<p>参见  <a href="https://github.com/flitdu/tech_notes/blob/main/%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF/main.py" target="_blank" rel="noopener">https://github.com/flitdu/tech_notes/blob/main/%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF/main.py</a></p>
<p><img src="https://tva1.sinaimg.cn/large/0081Kckwgy1gkp4ox1ch7j31do0ne1kx.jpg" alt="image-20201114234036577"></p>
<p>一些设置参考：</p>
<p><a href="https://blog.csdn.net/yypsober/article/details/51800120" target="_blank" rel="noopener">Python 模块之Logging（四）——常用handlers的使用</a></p>
<p><a href="https://www.cnblogs.com/yyds/p/6885182.html" target="_blank" rel="noopener">python之配置日志的几种方式</a></p>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><p>完整的异常处理流程: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备好记录日志的logging</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">'x1.txt'</span>,</span><br><span class="line">                    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,</span><br><span class="line">                    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S'</span>,</span><br><span class="line">                    level=<span class="number">0</span>)  <span class="comment"># 当前配置表示 10以上的分数会被写入文件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    print(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="comment"># 把错误信息, 错误位置, 时间 记录在日志文件中</span></span><br><span class="line">    logging.error(traceback.format_exc())</span><br></pre></td></tr></table></figure>

<p>还可以 raise 抛出的错误</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b)</span>:</span>  <span class="comment"># 暂时只考虑整数</span></span><br><span class="line">    <span class="keyword">if</span> type(a) == int <span class="keyword">and</span> type(b) == int:</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">"我要的是int"</span>)   <span class="comment"># 把错误抛出. 谁访问这个函数, 就把错误抛给谁. </span></span><br><span class="line">    </span><br><span class="line">func(<span class="string">"heh"</span>, <span class="string">"haha"</span>)</span><br></pre></td></tr></table></figure>

<p><strong>如果要记录到日志，需要采用</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b)</span>:</span>  <span class="comment"># 暂时只考虑整数</span></span><br><span class="line">    <span class="keyword">if</span> type(a) == int <span class="keyword">and</span> type(b) == int:</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">"我要的是int"</span>)  <span class="comment"># 把错误抛出. 谁访问这个函数, 就把错误抛给谁.</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            logger.error(traceback.format_exc())</span><br></pre></td></tr></table></figure>

<p>参考：<a href="https://segmentfault.com/a/1190000007736783" target="_blank" rel="noopener">《总结：Python中的异常处理》</a>，</p>
<h2 id="正则"><a href="#正则" class="headerlink" title="正则"></a>正则</h2><blockquote>
<p>正则测试网站：<a href="http://tool.chinaz.com/regex/" target="_blank" rel="noopener">http://tool.chinaz.com/regex/</a></p>
<p><a href="https://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">《正则表达式30分钟入门教程》</a></p>
</blockquote>
<hr>
<p>最初计算机是为了做数学运算而诞生的，处理的信息基本上都是数值，而今天我们在日常工作中处理的信息基本上都是文本数据，我们希<strong>望计算机能够识别和处理符合某些模式的文本</strong>，正则表达式就显得非常重要了。</p>
<p>今天几乎所有的编程语言都提供了对正则表达式操作的支持，Python通过标准库中的<strong>re</strong>模块来支持正则表达式操作。</p>
<p><code>e.g.</code></p>
<p>1) 判断用户输入是否合理，re.match()</p>
<p>用户名必须由字母、数字或下划线构成且长度在6<del>20个字符之间，QQ号是5</del>12的数字且首位不能为0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    username = input(<span class="string">'请输入用户名: '</span>)</span><br><span class="line">    qq = input(<span class="string">'请输入QQ号: '</span>)</span><br><span class="line">    <span class="comment"># match函数的第一个参数是正则表达式字符串或正则表达式对象</span></span><br><span class="line">    <span class="comment"># 第二个参数是要跟正则表达式做匹配的字符串对象</span></span><br><span class="line">    m1 = re.match(<span class="string">r'^[0-9a-zA-Z_]&#123;6,20&#125;$'</span>, username)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> m1:</span><br><span class="line">        print(<span class="string">'请输入有效的用户名.'</span>)</span><br><span class="line">    m2 = re.match(<span class="string">r'^[1-9]\d&#123;4,11&#125;$'</span>, qq)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> m2:</span><br><span class="line">        print(<span class="string">'请输入有效的QQ号.'</span>)</span><br><span class="line">    <span class="keyword">if</span> m1 <span class="keyword">and</span> m2:</span><br><span class="line">        print(<span class="string">'你输入的信息是有效的!'</span>)</span><br></pre></td></tr></table></figure>

<p>2）内容提取，re.compile()</p>
<p>从一段文字中提取出国内手机号码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建正则表达式对象 使用了前瞻和回顾来保证手机号前后不应该出现数字</span></span><br><span class="line">    pattern = re.compile(<span class="string">r'(?&lt;=\D)1[34578]\d&#123;9&#125;(?=\D)'</span>)</span><br><span class="line">    sentence = <span class="string">'''</span></span><br><span class="line"><span class="string">    重要的事情说8130123456789遍，我的手机号是13512346789这个靓号，</span></span><br><span class="line"><span class="string">    不是15600998765，也是110或119，王大锤的手机号才是15600998765。</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment"># 查找所有匹配并保存到一个列表中</span></span><br><span class="line">    mylist = re.findall(pattern, sentence)</span><br><span class="line">    print(mylist)</span><br><span class="line">    print(<span class="string">'--------华丽的分隔线--------'</span>)</span><br><span class="line">    <span class="comment"># 通过迭代器取出匹配对象并获得匹配的内容</span></span><br><span class="line">    <span class="keyword">for</span> temp <span class="keyword">in</span> pattern.finditer(sentence):</span><br><span class="line">        print(temp.group())</span><br><span class="line">    print(<span class="string">'--------华丽的分隔线--------'</span>)</span><br><span class="line">    <span class="comment"># 通过search函数指定搜索位置找出所有匹配</span></span><br><span class="line">    m = pattern.search(sentence)</span><br><span class="line">    <span class="keyword">while</span> m:</span><br><span class="line">        print(m.group())</span><br><span class="line">        m = pattern.search(sentence, m.end())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[&apos;13512346789&apos;, &apos;15600998765&apos;, &apos;15600998765&apos;]</span><br><span class="line">--------华丽的分隔线--------</span><br><span class="line">13512346789</span><br><span class="line">15600998765</span><br><span class="line">15600998765</span><br><span class="line">--------华丽的分隔线--------</span><br><span class="line">13512346789</span><br><span class="line">15600998765</span><br><span class="line">15600998765</span><br></pre></td></tr></table></figure>

<p>3) 内容替换, re.sub()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    sentence = <span class="string">'你丫是傻叉吗? 我操你大爷的. Fuck you.'</span></span><br><span class="line">    purified = re.sub(<span class="string">'[操肏艹]|fuck|shit|傻[比屄逼叉缺吊屌]|煞笔'</span>,</span><br><span class="line">                      <span class="string">'*'</span>, sentence, flags=re.IGNORECASE)</span><br><span class="line">    print(purified)  <span class="comment"># 你丫是*吗? 我*你大爷的. * you.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你丫是*吗? 我*你大爷的. * you.</span><br></pre></td></tr></table></figure>

<p>4) 拆分长字符串, re.split()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    poem = <span class="string">'窗前明月光，疑是地上霜。举头望明月，低头思故乡。'</span></span><br><span class="line">    sentence_list = re.split(<span class="string">r'[，。, .]'</span>, poem)</span><br><span class="line">    <span class="keyword">while</span> <span class="string">''</span> <span class="keyword">in</span> sentence_list:</span><br><span class="line">        sentence_list.remove(<span class="string">''</span>)</span><br><span class="line">    print(sentence_list)  <span class="comment"># ['窗前明月光', '疑是地上霜', '举头望明月', '低头思故乡']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&apos;窗前明月光&apos;, &apos;疑是地上霜&apos;, &apos;举头望明月&apos;, &apos;低头思故乡&apos;]</span><br></pre></td></tr></table></figure>

<h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> Request, urlopen</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="comment"># 1.准备请求信息</span></span><br><span class="line">    r = Request(url, headers=&#123;</span><br><span class="line">        <span class="comment"># 模拟浏览器</span></span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0(Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36(KHTML, like Gecko) Chrome/84.0.4147.105Safari/537.36'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    resp = urlopen(r)  <span class="comment">#发送请求</span></span><br><span class="line">    <span class="keyword">return</span> resp.read().decode(<span class="string">'utf8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从网页源代码中提取到想要的数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_page</span><span class="params">(s)</span>:</span></span><br><span class="line">    obj = re.compile(<span class="string">r'&lt;div class="item"&gt;.*?&lt;em class=""&gt;(?P&lt;rate&gt;.*?)&lt;/em&gt;.*?&lt;span'</span></span><br><span class="line">                     <span class="string">r' class="title"&gt;(?P&lt;movie&gt;.*?)&lt;/span&gt;.*?&lt;span class="rating_num" '</span></span><br><span class="line">                     <span class="string">r'property="v:average"&gt;(?P&lt;rating&gt;.*?)&lt;/span&gt;.*?&lt;span&gt;(?P&lt;number&gt;.*?)'</span></span><br><span class="line">                     <span class="string">r'人评价&lt;/span&gt;'</span>, re.S)  <span class="comment">#re.S可以让正则中的.匹配换行</span></span><br><span class="line"></span><br><span class="line">    res = obj.finditer(s)  <span class="comment">#匹配</span></span><br><span class="line">    lst = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> res:  <span class="comment"># 循环结果</span></span><br><span class="line">        dic = item.groupdict()  <span class="comment">#每次循环都是一个电影信息</span></span><br><span class="line">        lst.append(dic)</span><br><span class="line">    <span class="keyword">return</span> lst</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    f = open(<span class="string">'movie.txt'</span>, mode=<span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        s = get_page(<span class="string">f'https://movie.douban.com/top250?start=<span class="subst">&#123;i*<span class="number">25</span>&#125;</span>&amp;filter='</span>)</span><br><span class="line">        result = parse_page(s)</span><br><span class="line">        <span class="comment"># print(result)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">            f.write(str(i))</span><br><span class="line">            f.write(<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gipg0u0sslj31f80l84qp.jpg" alt="image-20200913233204007"></p>
<p>改进版：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> Request, urlopen</span><br><span class="line"></span><br><span class="line"><span class="comment"># 干掉数字签名证书</span></span><br><span class="line">ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPage</span><span class="params">(url)</span>:</span></span><br><span class="line">    r = Request(url, headers=&#123;<span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36"</span>&#125;)</span><br><span class="line">    response = urlopen(r)</span><br><span class="line">    <span class="keyword">return</span> response.read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parsePage</span><span class="params">(s)</span>:</span></span><br><span class="line">    com = re.compile(</span><br><span class="line">        <span class="string">'&lt;div class="item"&gt;.*?&lt;div class="pic"&gt;.*?&lt;em .*?&gt;(?P&lt;id&gt;\d+).*?&lt;span class="title"&gt;(?P&lt;title&gt;.*?)&lt;/span&gt;'</span></span><br><span class="line">        <span class="string">'.*?&lt;span class="rating_num" .*?&gt;(?P&lt;rating_num&gt;.*?)&lt;/span&gt;.*?&lt;span&gt;(?P&lt;comment_num&gt;.*?)评价&lt;/span&gt;'</span>, re.S)</span><br><span class="line"></span><br><span class="line">    ret = com.finditer(s)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ret:</span><br><span class="line">        <span class="keyword">yield</span> &#123;</span><br><span class="line">            <span class="string">"id"</span>: i.group(<span class="string">"id"</span>),</span><br><span class="line">            <span class="string">"title"</span>: i.group(<span class="string">"title"</span>),</span><br><span class="line">            <span class="string">"rating_num"</span>: i.group(<span class="string">"rating_num"</span>),</span><br><span class="line">            <span class="string">"comment_num"</span>: i.group(<span class="string">"comment_num"</span>),</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(num)</span>:</span></span><br><span class="line">    url = <span class="string">'https://movie.douban.com/top250?start=%s&amp;filter='</span> % num</span><br><span class="line">    response_html = getPage(url)</span><br><span class="line">    ret = parsePage(response_html)</span><br><span class="line">    <span class="comment"># print(ret)</span></span><br><span class="line">    f = open(<span class="string">"move_info7"</span>, <span class="string">"a"</span>, encoding=<span class="string">"utf8"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> obj <span class="keyword">in</span> ret:</span><br><span class="line">        print(obj)</span><br><span class="line">        data = str(obj)</span><br><span class="line">        f.write(data + <span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    main(count)</span><br><span class="line">    count += <span class="number">25</span></span><br></pre></td></tr></table></figure>

<h3 id="模块-1"><a href="#模块-1" class="headerlink" title="模块"></a>模块</h3><p>正确的导入模块的顺序: </p>
<ul>
<li>所有的模块导入都要写在最上面. 这是最基本的</li>
<li>先引入内置模块</li>
<li>再引入扩展模块</li>
<li>最后引入你自己定义的模块</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>是对功能或者动作的封装</p>
<h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><blockquote>
<p><strong>在传递默认参数时，容易采坑！！！</strong></p>
<p>如下：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(item, item_list=[])</span>:</span>  <span class="comment">#默认参数是可变的数据类型，会被共享</span></span><br><span class="line">    item_list.append(item)</span><br><span class="line">    print(item_list)</span><br><span class="line"></span><br><span class="line">func(<span class="string">'iphone'</span>)</span><br><span class="line">func(<span class="string">'xiaomi'</span>, item_list=[<span class="string">'oppo'</span>,<span class="string">'vivo'</span>])</span><br><span class="line">func(<span class="string">'huawei'</span>)</span><br></pre></td></tr></table></figure>

<p>[‘iphone’]<br>[‘oppo’, ‘vivo’, ‘xiaomi’]<br>[‘iphone’, ‘huawei’]</p>
<h3 id="amp"><a href="#amp" class="headerlink" title="* &amp; **"></a>* &amp; **</h3><ul>
<li>默认参数可变时候需要注意，会被共享</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(val, lst=[])</span>:</span></span><br><span class="line">    lst.append(val)</span><br><span class="line">    print(lst)</span><br><span class="line"></span><br><span class="line">func(<span class="number">10</span>)</span><br><span class="line">func(<span class="number">11</span>)  <span class="comment">#</span></span><br><span class="line">func(<span class="number">2</span>,[])</span><br></pre></td></tr></table></figure>

<p>[10]<br>[10, 11]<br>[2]</p>
<ul>
<li>*动态接收位置参数，自动打包成元组。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(*food)</span>:</span></span><br><span class="line">    print(food)</span><br><span class="line"></span><br><span class="line">eat(<span class="string">'大米饭'</span>)</span><br><span class="line">eat(<span class="string">'大米饭'</span>,<span class="string">'面条'</span>)</span><br><span class="line">eat(<span class="string">'大米饭'</span>,<span class="string">'面条'</span>, <span class="string">'胡辣汤'</span>)</span><br><span class="line">------------------------</span><br><span class="line">(<span class="string">'大米饭'</span>,)</span><br><span class="line">(<span class="string">'大米饭'</span>, <span class="string">'面条'</span>)</span><br><span class="line">(<span class="string">'大米饭'</span>, <span class="string">'面条'</span>, <span class="string">'胡辣汤'</span>)</span><br></pre></td></tr></table></figure>

<p>也即 可以接收可变参数:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在参数名前面的*表示args是一个可变参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(*args)</span>:</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> val <span class="keyword">in</span> args:</span><br><span class="line">        total += val</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在调用add函数时可以传入0个或多个参数</span></span><br><span class="line">print(add())</span><br><span class="line">print(add(<span class="number">1</span>))</span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>))</span><br></pre></td></tr></table></figure>

<ul>
<li>**动态接收关键字参数，接受到的参数是字典</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(**food)</span>:</span></span><br><span class="line">    print(food)</span><br><span class="line">eat(a=<span class="string">'大米饭'</span>, b=<span class="string">'面条'</span>, c =<span class="string">'胡辣汤'</span>)</span><br><span class="line">------------------------</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="string">'大米饭'</span>, <span class="string">'b'</span>: <span class="string">'面条'</span>, <span class="string">'c'</span>: <span class="string">'胡辣汤'</span>&#125;</span><br></pre></td></tr></table></figure>

<p>两个字典合并：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dic1 = &#123;<span class="string">'a'</span>:<span class="number">1</span>, <span class="string">'s'</span>:<span class="number">2</span>&#125;</span><br><span class="line">dic2 = &#123;<span class="string">'b'</span>:<span class="number">3</span>, <span class="string">'d'</span>:<span class="number">0</span>&#125;</span><br><span class="line">&#123;**dic1, **dic2&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&apos;a&apos;: 1, &apos;s&apos;: 2, &apos;b&apos;: 3, &apos;d&apos;: 0&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>‘<code>*、**</code>’作用</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gicoxhxoc1j310o05g47z.jpg" alt="image-20200902224754084"></p>
<blockquote>
<p>可以借助 * 来完成<strong>打散</strong>的操作</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(*args)</span>:</span>  <span class="comment">#*表示聚合，把传过来的位置参数转化为元组</span></span><br><span class="line">    print(args)</span><br><span class="line"></span><br><span class="line">lst = [<span class="string">'西西瓜'</span>, <span class="string">'南瓜'</span>, <span class="string">'苹果'</span>]</span><br><span class="line">func(lst[<span class="number">0</span>],lst[<span class="number">1</span>],lst[<span class="number">2</span>])  <span class="comment">#二者效果是一样的</span></span><br><span class="line">func(*lst)  <span class="comment">#打散</span></span><br></pre></td></tr></table></figure>

<p>(‘西西瓜’, ‘南瓜’, ‘苹果’)<br>(‘西西瓜’, ‘南瓜’, ‘苹果’)</p>
<blockquote>
<p>同理，对于**有如下：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def func(**kwargs):  # 把关键字参数聚合成字典</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line">dic = &#123;&apos;name&apos;:&apos;赵敏&apos;,&apos;age&apos;:19&#125;</span><br><span class="line">func(name=dic[&apos;name&apos;], age=dic[&apos;age&apos;])</span><br><span class="line">func(**dic)  #把字典转化为关键字参数，进行传递</span><br></pre></td></tr></table></figure>

<p>{‘name’: ‘赵敏’, ‘age’: 19}<br>{‘name’: ‘赵敏’, ‘age’: 19}</p>
<ul>
<li>形参的正确顺序</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gibkb0jy48j313k034grk.jpg" alt="image-20200901232222557"></p>
<p>一定要合理的使用参数</p>
<ul>
<li>print 解读</li>
</ul>
<p>print 源码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># def print(*args, sep=' ', end='\n'):</span></span><br><span class="line">print(<span class="string">'a'</span>, <span class="string">'sd'</span>, <span class="string">'算法'</span>)</span><br></pre></td></tr></table></figure>

<p>在print(‘a’, ‘sd’, ‘算法’)时，</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giblnfok9ij30y605wjs0.jpg" alt="image-20200902000829656"></p>
<p>a sd 算法【空格 分隔】</p>
<blockquote>
<p>修改默认参数，</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;a&apos;, &apos;sd&apos;, &apos;算法&apos;,sep=&apos;_&apos;)</span><br><span class="line">print(&apos;a&apos;, &apos;sd&apos;, &apos;算法&apos;,sep=&apos;_&apos;, end=&apos;**&apos;)</span><br><span class="line">print(&apos;呵呵&apos;, end=&apos;**&apos;)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giblsfvaakj30ly03qwfw.jpg" alt="image-20200902001343692"></p>
<h3 id="函数嵌套"><a href="#函数嵌套" class="headerlink" title="函数嵌套"></a>函数嵌套</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def func1():</span><br><span class="line">    print(&apos;我是func1&apos;)</span><br><span class="line">    def func2():</span><br><span class="line">        print(&apos;我是func2&apos;)</span><br><span class="line">    print(&apos;我是外面&apos;)</span><br><span class="line">    func2()  # 在func1里面访问func2</span><br><span class="line"></span><br><span class="line">func1()</span><br></pre></td></tr></table></figure>

<p>我是func1<br>我是外面<br>我是func2</p>
<h3 id="名称空间和作用域"><a href="#名称空间和作用域" class="headerlink" title="名称空间和作用域"></a>名称空间和作用域</h3><ul>
<li>python 名称空间，是<strong>内存</strong>的概念</li>
</ul>
<ol>
<li>内置名称空间    python 自己的内容</li>
<li>全局名称空间    全局变量</li>
<li>局部名称空间    在函数被调用时候，函数调用完毕，会被回收，主要存放自己函数的变量</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gicpmjbnpwj31dy0lq4qq.jpg" alt="image-20200902231200076"></p>
<ul>
<li>作用域</li>
</ul>
<blockquote>
<p>全局作用域    </p>
</blockquote>
<p>全局名称空间+内置名称空间</p>
<p>globals()，查看全局作用域中内容</p>
<blockquote>
<p>局部作用域</p>
</blockquote>
<p>locals()查看当前作用域中内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def func1():</span><br><span class="line">    a = 10</span><br><span class="line">    def hehe():</span><br><span class="line">        pass</span><br><span class="line">    print(locals())</span><br><span class="line"></span><br><span class="line">func1()</span><br></pre></td></tr></table></figure>

<p>{‘a’: 10, ‘hehe’: &lt;function func1.<locals>.hehe at 0x1044a7170&gt;}</locals></p>
<ul>
<li>global和nonlocal</li>
</ul>
<p><strong>修改</strong>要用到<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe51u4twj310u02oglz.jpg" alt="image-20200903001307985"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a =<span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    a = a +<span class="number">1</span>  <span class="comment"># 在函数内部不允许直接修改外面的变量</span></span><br><span class="line">    print(a)</span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<p>报错：UnboundLocalError: local variable ‘a’ referenced before assignment</p>
<p>使用 global可以实现修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a =<span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a  <span class="comment">#把全局引入到局部</span></span><br><span class="line">    a = a +<span class="number">1</span></span><br><span class="line">    print(a)</span><br><span class="line">func()</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<p>11<br>11</p>
<blockquote>
<p>同理，nonlocal</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def func1():</span><br><span class="line">    a =10</span><br><span class="line">    def func2():</span><br><span class="line">        nonlocal a  # 把局部变量引进来</span><br><span class="line">        a += 1</span><br><span class="line">        print(a)</span><br><span class="line">    func2()</span><br><span class="line">func1()</span><br></pre></td></tr></table></figure>

<p>11</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>内层函数对外层函数的变量的使用，可以让一个变量常驻内存</p>
<p>如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    a =10</span><br><span class="line">    def inner():</span><br><span class="line">        print(a)</span><br><span class="line">    inner()</span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<p>10</p>
<p>当然，也可以采用如下手段，可以看到 a ，但是不能改变，这样就很安全</p>
<p><strong>可以让一个变量被封锁起来，外界只能看到，但是改不了</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    a =<span class="number">10</span>  <span class="comment"># 可以保护变量不被修改</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(a)</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">fn = func()  <span class="comment"># fn 是inner</span></span><br><span class="line">b = fn() <span class="comment"># 函数外面访问到了函数局部变量</span></span><br><span class="line">print(b)</span><br><span class="line">fn()  <span class="comment"># 就能得到 a</span></span><br></pre></td></tr></table></figure>

<p>10<br>10<br>10</p>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><p><strong>可以在不改变原来代码的基础上，给函数添加新的功能</strong></p>
<p>可以在原有操作的前面或者后面随意的添加新的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fn)</span>:</span>  <span class="comment">#把被装饰的函数传递进来</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'被装饰函数被执行之前'</span>)</span><br><span class="line">        fn()  <span class="comment"># 执行被装饰的函数</span></span><br><span class="line">        print(<span class="string">'被装饰函数被执行之后'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner  <span class="comment">#把内层函数返回</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我是新增函数'</span>)</span><br><span class="line"></span><br><span class="line">a = wrapper(add) <span class="comment">#a 就是inner</span></span><br><span class="line">a() <span class="comment">#执行的是inner</span></span><br></pre></td></tr></table></figure>

<p>被装饰函数被执行之前<br>我是新增函数<br>被装饰函数被执行之后</p>
<blockquote>
<p>改进</p>
</blockquote>
<p>想执行时候仍然采用add()，不使用a()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = wrapper(add) #a 就是inner</span><br><span class="line">a() #执行的是inner</span><br></pre></td></tr></table></figure>

<p>替换为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add = wrapper(add) <span class="comment"># 此时的add就变成了inner</span></span><br><span class="line">add()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>语法糖@</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fn)</span>:</span>  <span class="comment">#把被装饰的函数传递进来</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'被装饰函数被执行之前'</span>)</span><br><span class="line">        fn()  <span class="comment"># 执行被装饰的函数</span></span><br><span class="line">        print(<span class="string">'被装饰函数被执行之后'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner  <span class="comment">#把内层函数返回</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper  #add = wrapper(add)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我是新增函数'</span>)</span><br><span class="line"></span><br><span class="line">add() <span class="comment">#执行的是inner函数</span></span><br></pre></td></tr></table></figure>

<p>以下效果是一样的：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gif2rznbzlj31kk0jahb8.jpg" alt="image-20200905001805566"></p>
<ul>
<li>通用装饰器</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'开挂'</span>)</span><br><span class="line">        fn()</span><br><span class="line">        print(<span class="string">'关闭外挂'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dnf</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我要玩dnf'</span>)</span><br><span class="line"></span><br><span class="line">dnf()</span><br></pre></td></tr></table></figure>

<p>开挂<br>我要玩dnf<br>关闭外挂</p>
<blockquote>
<p>如果被装饰的函数有参数</p>
</blockquote>
<p><del>如果这么写：</del></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ef wrapper(fn):</span><br><span class="line">    def inner(username, password):</span><br><span class="line">        print(&apos;开挂&apos;)</span><br><span class="line">        fn(username, password)  #这里才是真正的目标函数</span><br><span class="line">        print(&apos;关闭外挂&apos;)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@wrapper</span><br><span class="line">def dnf(username, password):</span><br><span class="line">    print(f&apos;登录账号为&#123;username&#125;, 密码为&#123;password&#125;,我要玩dnf&apos;)</span><br><span class="line"></span><br><span class="line">@wrapper</span><br><span class="line">def wz(wx):</span><br><span class="line">    print(f&apos;使用账号&#123;wx&#125;登录王者荣耀&apos;)</span><br><span class="line"></span><br><span class="line">dnf(&apos;admin&apos;, &apos;122&apos;)  #这里执行的是inner</span><br><span class="line">wz(&apos;大佬&apos;)</span><br></pre></td></tr></table></figure>

<p>会造成不通用</p>
<p>改为动态传参‘<em>args, *</em>kwargs’（打散，聚合的作用）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'开挂'</span>)</span><br><span class="line">        fn(*args, **kwargs)  <span class="comment">#这里才是真正的目标函数</span></span><br><span class="line">        print(<span class="string">'关闭外挂'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dnf</span><span class="params">(username, password)</span>:</span></span><br><span class="line">    print(<span class="string">f'登录账号为<span class="subst">&#123;username&#125;</span>, 密码为<span class="subst">&#123;password&#125;</span>,我要玩dnf'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wz</span><span class="params">(wx)</span>:</span></span><br><span class="line">    print(<span class="string">f'使用账号<span class="subst">&#123;wx&#125;</span>登录王者荣耀'</span>)</span><br><span class="line"></span><br><span class="line">dnf(<span class="string">'admin'</span>, <span class="string">'122'</span>)  <span class="comment">#这里执行的是inner</span></span><br><span class="line">wz(<span class="string">'大佬'</span>)</span><br></pre></td></tr></table></figure>

<p>开挂<br>登录账号为admin, 密码为122,我要玩dnf<br>关闭外挂<br>开挂<br>使用账号大佬登录王者荣耀<br>关闭外挂</p>
<blockquote>
<p>有返回值情况</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def wrapper(fn):</span><br><span class="line">    def inner(*args, **kwargs):</span><br><span class="line">        print(&apos;开挂&apos;)</span><br><span class="line">        ret = fn(*args, **kwargs)  #这里才是真正的目标函数</span><br><span class="line">        print(&apos;关闭外挂&apos;)</span><br><span class="line">        return ret</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@wrapper</span><br><span class="line">def dnf(username, password):</span><br><span class="line">    print(f&apos;登录账号为&#123;username&#125;, 密码为&#123;password&#125;,我要玩dnf&apos;)</span><br><span class="line">    return &apos;剑&apos;</span><br><span class="line"></span><br><span class="line">ret = dnf(&apos;admin&apos;, &apos;122&apos;)  #这里执行的是inner</span><br><span class="line">print(f&apos;我得到了&#123;ret&#125;&apos;)</span><br></pre></td></tr></table></figure>

<p>开挂<br>登录账号为admin, 密码为122,我要玩dnf<br>关闭外挂<br>我得到了剑</p>
<blockquote>
<p>通用装饰器写法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""在执行目标函数之前"""</span></span><br><span class="line">        ret = fn(*args, **kwargs) <span class="comment"># 处理目标函数的返回值</span></span><br><span class="line">        <span class="string">"""在执行目标函数之后"""</span></span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">target</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">target()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>装饰器应用</p>
</blockquote>
<p>写装饰器，在执行目标函数的时候，判断是否登录</p>
<p>如果没有登录，请登录，确保在登录成功之后，再执行操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">flag =<span class="literal">False</span>  <span class="comment">#默认没登录</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login_verify</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    这里是登录验证的装饰器</span></span><br><span class="line"><span class="string">    :param fn: 被装饰的函数</span></span><br><span class="line"><span class="string">    :return: inner</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:  <span class="comment">#反复登录</span></span><br><span class="line">            <span class="keyword">if</span> flag:</span><br><span class="line">                ret = fn(*args,**kwargs)  <span class="comment">#执行目标</span></span><br><span class="line">                <span class="keyword">return</span> ret  <span class="comment">#返回结果</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                login()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> flag</span><br><span class="line">    username = input(<span class="string">'请输入用户名：'</span>)</span><br><span class="line">    password = input(<span class="string">'请输入密码：'</span>)</span><br><span class="line">    <span class="keyword">if</span> username==<span class="string">'admin'</span> <span class="keyword">and</span> password==<span class="string">'123'</span>:</span><br><span class="line">        flag = <span class="literal">True</span></span><br><span class="line">        print(<span class="string">'登录成功'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'登录失败'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@login_verify</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'新增操作'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@login_verify</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upd</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'修改操作'</span>)</span><br><span class="line"></span><br><span class="line">add()</span><br><span class="line">add()</span><br><span class="line">upd()</span><br><span class="line">upd()</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe52rbjmj30o80ec75c.jpg" alt="image-20200905000139638"></p>
<ul>
<li>同一个函数被多个装饰器装饰（简单了解）</li>
</ul>
<p>按照就近原则解读</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper1</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'wrapper1-before'</span>)</span><br><span class="line">        ret = fn(*args, **kwargs)</span><br><span class="line">        print(<span class="string">'wrapper1-after'</span>)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper2</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'wrapper2-before'</span>)</span><br><span class="line">        ret = fn(*args, **kwargs)</span><br><span class="line">        print(<span class="string">'wrapper2-after'</span>)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper3</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'wrapper3-before'</span>)</span><br><span class="line">        ret = fn(*args, **kwargs)</span><br><span class="line">        print(<span class="string">'wrapper3-after'</span>)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper3</span></span><br><span class="line"><span class="meta">@wrapper2</span></span><br><span class="line"><span class="meta">@wrapper1  # 按照就近原则去解读</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">target</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我是target'</span>)</span><br><span class="line"></span><br><span class="line">target()</span><br></pre></td></tr></table></figure>

<p>result:</p>
<p>“””<br>wrapper3-before<br>wrapper2-before<br>wrapper1-before<br>我是target<br>wrapper1-after<br>wrapper2-after<br>wrapper3-after<br>“””</p>
<ul>
<li>带有参数的装饰器，装饰器可以传参</li>
</ul>
<p>用同一个装饰器，解决两款游戏的外挂</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gua_outer</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gua</span><span class="params">(fn)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">            print(<span class="string">f'开启<span class="subst">&#123;name&#125;</span>外挂'</span>)</span><br><span class="line">            ret = fn(*args, **kwargs)</span><br><span class="line">            print(<span class="string">'关闭外挂'</span>)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> gua</span><br><span class="line"></span><br><span class="line"><span class="meta">@gua_outer('饕餮')  #先执行函数的调用，函数返回一个装饰器，和@组成语法糖 @gua</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dnf</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我要打卢克'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@gua_outer('耄耋')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lol</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'我要杀边全场'</span>)</span><br><span class="line"></span><br><span class="line">dnf()</span><br><span class="line">lol()</span><br></pre></td></tr></table></figure>

<p>开启饕餮外挂<br>我要打卢克<br>关闭外挂<br>开启耄耋外挂<br>我要杀边全场<br>关闭外挂</p>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>iter() or <em>iter_</em></p>
<p>所有可迭代对象内部都含一个<strong>_iter__功能</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lst = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">it = lst.__iter__() #拿到迭代器</span><br><span class="line">or it = iter(lst)#拿到迭代器</span><br><span class="line">print(it.__next__())</span><br><span class="line">print(it.__next__())</span><br><span class="line">print(it.__next__())</span><br></pre></td></tr></table></figure>

<p>a<br>b<br>c</p>
<blockquote>
<p>注意，下面这样写是不行的</p>
</blockquote>
<p>不适合使用数学上的等价代换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lst = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">print(lst.__iter__().__next__())</span><br><span class="line">print(lst.__iter__().__next__())</span><br><span class="line">print(lst.__iter__().__next__())</span><br></pre></td></tr></table></figure>

<p>a<br>a<br>a</p>
<ul>
<li>for循环的内部机制实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while 1:</span><br><span class="line">    try: </span><br><span class="line">        obj = it.__next__()  #拿到数据</span><br><span class="line">        print(obj)</span><br><span class="line">    except StopIteration:</span><br><span class="line">        break</span><br></pre></td></tr></table></figure>

<p>a<br>b<br>c</p>
<blockquote>
<p>总结</p>
</blockquote>
<p>Iterable：可迭代对象，内部包含<em>iter_</em>()函数</p>
<p>Iterator：迭代器，内部包含<em>iter_</em>()和<em>next_</em>()  </p>
<p>迭代器特点：</p>
<ol>
<li>节省内存</li>
<li>惰性机制</li>
<li>不能反复，只能向下执行</li>
</ol>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>生成器的本质是迭代器</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4wobifj315w0aotb1.jpg" alt="image-20200905162027141"></p>
<ul>
<li>生成器表达式，两种方法</li>
</ul>
<blockquote>
<p> <code>yield</code>关键字</p>
<p>将一个普通函数改造成生成器函数</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span>  <span class="comment">#生成器函数</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hello'</span></span><br><span class="line"></span><br><span class="line">gen = func()</span><br><span class="line">print(gen)  <span class="comment">#&lt;generator object func at 0x10d0c6950&gt;</span></span><br><span class="line">print(gen.__next__())  <span class="comment">#可以让生成器函数执行到下一个yield</span></span><br></pre></td></tr></table></figure>

<p>&lt;generator object func at 0x10b4a0950&gt;<br>123<br>123<br>hello</p>
<blockquote>
<p>( )</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">l = (i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))  <span class="comment">#python中没有元组推导式</span></span><br><span class="line">print(l)</span><br></pre></td></tr></table></figure>

<p>&lt;generator object <genexpr> at 0x10fde1950&gt;</genexpr></p>
<ul>
<li>拿空生成器数据</li>
</ul>
<p>方案一：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g = (i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>))  <span class="comment">#生成器</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<p>方案二：</p>
<p>可以使用list,tuple,set直接把生成器拿空</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">g = (i for i in range(5))  #生成器</span><br><span class="line"># print(list(g))</span><br><span class="line"># print(set(g))</span><br><span class="line">print(tuple(g))</span><br></pre></td></tr></table></figure>

<p>(0, 1, 2, 3, 4)</p>
<ul>
<li>可以有多个yield</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span>  <span class="comment">#生成器函数</span></span><br><span class="line">    print(<span class="number">11</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hello'</span></span><br><span class="line">    print(<span class="number">22</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'nnoo'</span></span><br><span class="line">    print(<span class="number">33</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hhh'</span></span><br><span class="line"></span><br><span class="line">gen = func()</span><br><span class="line">r = gen.__next__()</span><br><span class="line">print(<span class="string">f'接收到的数据:<span class="subst">&#123;r&#125;</span>'</span>)</span><br><span class="line">r2 = gen.__next__()</span><br><span class="line">print(<span class="string">f'接收到的数据:<span class="subst">&#123;r2&#125;</span>'</span>)</span><br><span class="line">r3 = gen.__next__()</span><br><span class="line">print(<span class="string">f'接收到的数据:<span class="subst">&#123;r3&#125;</span>'</span>)</span><br></pre></td></tr></table></figure>

<p>11<br>接收到的数据:hello<br>22<br>接收到的数据:nnoo<br>33<br>接收到的数据:hhh</p>
<p>此时，如果继续</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r4 = gen.__next__()</span><br><span class="line">print(f&apos;接收到的数据:&#123;r4&#125;&apos;)</span><br></pre></td></tr></table></figure>

<p>会报错：<strong>StopIteration【</strong>跟迭代器一样】</p>
<ul>
<li>最大的作用：<strong>节省内存</strong></li>
</ul>
<p>比如， 买1万件衣服</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">order</span><span class="params">()</span>:</span></span><br><span class="line">    lst = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10000</span>):  <span class="comment">#会比较消耗资源</span></span><br><span class="line">        lst.append(<span class="string">f'衣服<span class="subst">&#123;i&#125;</span>'</span>)</span><br><span class="line">    <span class="keyword">return</span> lst  <span class="comment"># 列表占内存</span></span><br><span class="line"></span><br><span class="line">lst = order()</span><br><span class="line">print(lst)</span><br></pre></td></tr></table></figure>

<p>……服9876’, ‘衣服9877’, ‘衣服9878’, ‘衣服9879’, ‘衣服9880’, ‘衣服9881’, ‘衣服9919’, ‘衣服9920’, ‘衣服9921’, ‘衣服9922’, ‘衣服9923’, ‘衣服9924’, ‘衣服9925’, ‘衣服9926’, ‘衣服9927’, ‘衣服9928’, ‘衣服9929’, ‘衣服9930’, ‘衣服9931’, ‘衣服9932’, ‘衣服9933……..</p>
<blockquote>
<p>生成器版本</p>
</blockquote>
<p>什么时候要，什么时候生成</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">order</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10000</span>):</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">f'衣服<span class="subst">&#123;i&#125;</span>'</span></span><br><span class="line"></span><br><span class="line">g = order()</span><br><span class="line">print(g.__next__())</span><br><span class="line">print(g.__next__())</span><br><span class="line">print(g.__next__())</span><br></pre></td></tr></table></figure>

<p>衣服0<br>衣服1<br>衣服2</p>
<blockquote>
<p>改进</p>
</blockquote>
<p>一次拿50件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">order</span><span class="params">()</span>:</span></span><br><span class="line">    lst = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10000</span>):</span><br><span class="line">        lst.append(<span class="string">f'衣服<span class="subst">&#123;i&#125;</span>'</span>)</span><br><span class="line">        <span class="keyword">if</span> len(lst) == <span class="number">50</span>:</span><br><span class="line">            <span class="keyword">yield</span> lst</span><br><span class="line">            lst = []</span><br><span class="line"></span><br><span class="line">g = order()</span><br><span class="line">print(g.__next__())</span><br><span class="line">print(g.__next__())</span><br><span class="line">print(g.__next__())</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe52anksj31hs0eqjxm.jpg" alt="image-20200905163204842"></p>
<ul>
<li>yield from</li>
</ul>
<p>如下，二者效果是等价的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    l1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">    l2 = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br><span class="line">    ------------------------</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l1:</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> l2:</span><br><span class="line">        <span class="keyword">yield</span> j</span><br><span class="line">    ------------------------</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> l1  <span class="comment">#把一个可迭代对象的每一项分别返回</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> l2</span><br><span class="line">    </span><br><span class="line">g = func()</span><br><span class="line">print(list(g))</span><br></pre></td></tr></table></figure>

<p>[‘a’, ‘b’, ‘c’, ‘1’, ‘2’, ‘3’]</p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>又被称为<strong>lambda表达式</strong>，对于一些<strong>简单函数</strong>可以考虑使用</p>
<p>只能写一行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n**<span class="number">2</span></span><br><span class="line">ret = func(<span class="number">10</span>)</span><br><span class="line">print(ret)  <span class="comment"># 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># lambda 写法</span></span><br><span class="line">fn = <span class="keyword">lambda</span> x : x**<span class="number">2</span></span><br><span class="line">ret = fn(<span class="number">10</span>)</span><br><span class="line">print(ret)  <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>

<ul>
<li>返回多个值情况</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn = lambda x,y:(x+y, x-y)</span><br><span class="line">print(fn(1,2))</span><br><span class="line">(3, -1)</span><br></pre></td></tr></table></figure>

<p>如下，二者效果是等价的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根据名字长度排序</span></span><br><span class="line">a = [<span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#需要自己定义排序规则</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> len(item)</span><br><span class="line"></span><br><span class="line">ret = sorted(a, key=func)</span><br><span class="line">print(ret)</span><br><span class="line">------------------------</span><br><span class="line">ret = sorted(a,key=<span class="keyword">lambda</span> x:len(x))</span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>]</span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'sa'</span>, <span class="string">'wqe'</span>, <span class="string">'ljkhgjh'</span>]</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4vjwxuj30zc09ojsx.jpg" alt="image-20200823232707371"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gihe4ymigej31lw02g74r.jpg" alt="image-20200823232716906"></p>
<blockquote>
<p>按年龄排序</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lst = [</span><br><span class="line">    &#123;<span class="string">'name'</span>:<span class="string">'A'</span>, <span class="string">'age'</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>:<span class="string">'D'</span>, <span class="string">'age'</span>:<span class="number">6</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>:<span class="string">'V'</span>, <span class="string">'age'</span>:<span class="number">3</span>&#125;,</span><br><span class="line">]</span><br><span class="line">print(sorted(lst, key=<span class="keyword">lambda</span> x:x[<span class="string">'age'</span>]))</span><br></pre></td></tr></table></figure>

<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>递归本质就是函数自己调用自己</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">print(sys.getrecursionlimit())  # 递归最大深度 1000</span><br></pre></td></tr></table></figure>

<ul>
<li>递归遍历文件夹</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 递归遍历文件夹</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read</span><span class="params">(path,ceng)</span>:</span></span><br><span class="line">    lst = os.listdir(path)</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> lst:</span><br><span class="line">        <span class="comment"># 拼出正确的文件路径</span></span><br><span class="line">        real_path = os.path.join(path,name)  <span class="comment">#c:\test\a.txt</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(real_path):  <span class="comment">#判断是否是文件夹</span></span><br><span class="line">            print(<span class="string">'\t'</span>*ceng, name)</span><br><span class="line">            <span class="comment"># 文件夹，进入递归</span></span><br><span class="line">            read(real_path,ceng+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 普通文件</span></span><br><span class="line">            print(<span class="string">'\t'</span>*ceng, name)</span><br><span class="line">            <span class="comment">####### open(real_path,mode='w').write(1)  # 病毒，慎用！！！</span></span><br><span class="line">read(<span class="string">'../test'</span>,<span class="number">0</span>)</span><br><span class="line">----------------------</span><br><span class="line">\t	横向制表符</span><br><span class="line">\r	回车</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi2aqoz38qj30us0a60y0.jpg" alt="image-20200824230116316"></p>
<ul>
<li>二分法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断n是否在lst中出现. 如果出现请返回n所在的位置</span></span><br><span class="line"><span class="comment"># 二分查找---非递归算法</span></span><br><span class="line">lst = [<span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>, <span class="number">77</span>, <span class="number">88</span>, <span class="number">99</span>, <span class="number">101</span>, <span class="number">238</span>, <span class="number">345</span>, <span class="number">456</span>, <span class="number">567</span>, <span class="number">678</span>, <span class="number">789</span>]</span><br><span class="line">n = <span class="number">33</span></span><br><span class="line">left = <span class="number">0</span></span><br><span class="line">right = len(lst) - <span class="number">1</span>  <span class="comment"># 最大索引号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> left &lt;= right:</span><br><span class="line">    mid = (right+left)//<span class="number">2</span>  <span class="comment">#计算中间位置的索引号</span></span><br><span class="line">    <span class="keyword">if</span> n&gt;lst[mid]:  <span class="comment"># 目标数在右边</span></span><br><span class="line">        left = mid +<span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n&lt;lst[mid]:</span><br><span class="line">        right = mid<span class="number">-1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">f'找到了数据，位置 <span class="subst">&#123;mid&#125;</span>'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'没找到！！'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>递归版本：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>, <span class="number">77</span>, <span class="number">88</span>, <span class="number">99</span>, <span class="number">101</span>, <span class="number">238</span>, <span class="number">345</span>, <span class="number">456</span>, <span class="number">567</span>, <span class="number">678</span>, <span class="number">789</span>]</span><br><span class="line">n = <span class="number">771</span></span><br><span class="line">left = <span class="number">0</span></span><br><span class="line">right = len(lst) - <span class="number">1</span>  <span class="comment"># 最大索引号</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(lst, n, left, right)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> left&gt;right:</span><br><span class="line">        print(<span class="string">'没找到'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    mid = (right+left)//<span class="number">2</span>  <span class="comment">#计算中间位置的索引号</span></span><br><span class="line">    <span class="keyword">if</span> n&gt;lst[mid]:  <span class="comment"># 目标数在右边</span></span><br><span class="line">        left = mid +<span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n&lt;lst[mid]:</span><br><span class="line">        right = mid<span class="number">-1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">f'找到了数据，位置 <span class="subst">&#123;mid&#125;</span>'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    find(lst, n, left, right)  <span class="comment">#进入递归</span></span><br><span class="line">find(lst, n, left, right)</span><br></pre></td></tr></table></figure>

<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>三大要素：</p>
<ul>
<li><p>封装</p>
</li>
<li><p>继承</p>
</li>
<li><p>多态</p>
</li>
</ul>
<p>“把一组数据结构和处理它们的方法组成对象（object），把相同行为的对象归纳为类（class），通过类的封装（encapsulation）隐藏内部细节，通过继承（inheritance）实现类的特化（specialization）和泛化（generalization），通过多态（polymorphism）实现基于对象类型的动态分派。”</p>
<p>按照这种编程理念，程序中的<strong>数据</strong>和操作数据的<strong>函数</strong>是一个逻辑上的整体，我们称之为“对象”，而我们解决问题的方式就是创建出需要的对象并向对象发出各种各样的消息，多个对象的协同工作最终可以让我们构造出复杂的系统来解决现实中的问题。</p>
<blockquote>
<p><strong>说明：</strong> 当然面向对象也不是解决软件开发中所有问题的最后的“银弹”，所以今天的高级程序设计语言几乎都提供了对多种编程范式的支持，Python也不例外。</p>
</blockquote>
<h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><p>在面向对象编程的世界中，一切皆为对象，对象都有属性和行为，每个对象都是独一无二的，而且对象一定属于某个类（型）。当我们把一大堆拥有共同特征的对象的静态特征（属性）和动态特征（行为）都抽取出来后，就可以定义出一个叫做“类”的东西。</p>
<ul>
<li>定义类</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># __init__是一个特殊方法用于在创建对象时进行初始化操作</span></span><br><span class="line">    <span class="comment"># 通过这个方法我们可以为学生对象绑定name和age两个属性</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span><span class="params">(self, course_name)</span>:</span></span><br><span class="line">        print(<span class="string">'%s正在学习%s.'</span> % (self.name, course_name))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># PEP 8要求标识符的名字用全小写多个单词用下划线连接</span></span><br><span class="line">    <span class="comment"># 但是部分程序员和公司更倾向于使用驼峰命名法(驼峰标识)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">watch_movie</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.age &lt; <span class="number">18</span>:</span><br><span class="line">            print(<span class="string">'%s只能观看《熊出没》.'</span> % self.name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'%s正在观看岛国爱情大电影.'</span> % self.name)</span><br><span class="line">            </span><br><span class="line"> <span class="comment"># 创建学生对象并指定姓名和年龄</span></span><br><span class="line">stu1 = Student(<span class="string">'骆昊'</span>, <span class="number">38</span>)</span><br><span class="line"><span class="comment"># 给对象发study消息</span></span><br><span class="line">stu1.study(<span class="string">'Python程序设计'</span>)</span><br><span class="line"><span class="comment"># 给对象发watch_av消息</span></span><br><span class="line">stu1.watch_movie()</span><br><span class="line"></span><br><span class="line">stu2 = Student(<span class="string">'王大锤'</span>, <span class="number">15</span>)</span><br><span class="line">stu2.study(<span class="string">'思想品德'</span>)</span><br><span class="line">stu2.watch_movie()</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;骆昊正在学习Python程序设计.</span><br><span class="line">&gt;骆昊正在观看岛国爱情大电影.</span><br><span class="line">&gt;王大锤正在学习思想品德.</span><br><span class="line">&gt;王大锤只能观看《熊出没》.</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>如果创建多个对象， <strong>内存地址不同</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">girl = GirlFriend()  <span class="comment"># 实例化，创建对象</span></span><br><span class="line">girl1 = GirlFriend()  <span class="comment"># 实例化，创建对象</span></span><br><span class="line">girl2= GirlFriend()  <span class="comment"># 实例化，创建对象</span></span><br><span class="line">print(id(girl))</span><br><span class="line">print(id(girl1))</span><br><span class="line">print(id(girl2))</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjo4ebji9vj31je0qwe81.jpg" alt="image-20201013232436621"></p>
<ul>
<li>可见性问题</li>
</ul>
<p>在很多面向对象编程语言中，我们通常会将对象的属性设置为私有的（private）或受保护的（protected），简单的说就是不允许外界访问，而对象的方法通常都是公开的（public），因为公开的方法就是对象能够接受的消息。在<strong>Python中</strong>，<strong>属性和方法的访问权限只有两种</strong>，也就是公开的和私有的，如果希望属性是私有的，在给属性命名时可以用<strong>两个下划线作</strong>为开头，下面的代码可以验证这一点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, foo)</span>:</span></span><br><span class="line">        self.__foo = foo  <span class="comment">#  私有，不允许外界访问，不提倡！！！</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bar</span><span class="params">(self)</span>:</span>  <span class="comment">#  私有，不允许外界访问</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.__foo)</span><br><span class="line">        <span class="keyword">return</span> self.__foo</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    test = Test(<span class="string">'hello'</span>)</span><br><span class="line">    <span class="comment"># AttributeError: 'Test' object has no attribute '__bar'</span></span><br><span class="line">    <span class="comment"># test.__bar()</span></span><br><span class="line">    <span class="comment"># AttributeError: 'Test' object has no attribute '__foo'</span></span><br><span class="line">    <span class="comment"># print(test.__foo)</span></span><br><span class="line">    print(test.bar())  <span class="comment"># it is ok</span></span><br></pre></td></tr></table></figure>

<p><strong>在实际开发中，我们并不建议将属性设置为私有的，因为这会导致子类无法访问（后面会讲到）</strong>。所以大多数Python程序员会遵循一种命名惯例就是让属性名以单下划线开头来表示属性是受保护的，本类之外的代码在访问这样的属性时应该要保持慎重。这种做法并不是语法上的规则，单下划线开头的属性和方法外界仍然是可以访问的，所以更多的时候它是一种暗示或隐喻，关于这一点可以看看<a href="http://blog.csdn.net/jackfrued/article/details/79521404" target="_blank" rel="noopener">《Python - 那些年我们踩过的那些坑》</a>文章中的讲解。</p>
<blockquote>
<p>@property装饰器</p>
</blockquote>
<p>对于保护属性的访问和修改，可以考虑使用@property包装器来包装getter和setter方法，使得对属性的访问既安全又方便，代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        self._name = name</span><br><span class="line">        self._age = age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 访问器 - getter方法</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._name</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 访问器 - getter方法</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 修改器 - setter方法</span></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self, age)</span>:</span></span><br><span class="line">        self._age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self._age &lt;= <span class="number">16</span>:</span><br><span class="line">            print(<span class="string">'%s正在玩飞行棋.'</span> % self._name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'%s正在玩斗地主.'</span> % self._name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    person = Person(<span class="string">'王大锤'</span>, <span class="number">12</span>)</span><br><span class="line">    person.play()</span><br><span class="line">    print(person.age, person.name)</span><br><span class="line">    person.age = <span class="number">22</span></span><br><span class="line">    person.play()</span><br><span class="line">    print(person.age, person.name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># person.name = '白元芳'  # AttributeError: can't set attribute</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">王大锤正在玩飞行棋.</span><br><span class="line">12 王大锤</span><br><span class="line">王大锤正在玩斗地主.</span><br><span class="line">22 王大锤</span><br></pre></td></tr></table></figure>

<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><blockquote>
<p>我自己对封装的理解是”隐藏一切可以隐藏的实现细节，只向外界暴露（提供）简单的编程接口”。我们在类中定义的方法其实就是把数据和对数据的操作封装起来了，在我们创建了对象之后，只需要给对象发送一个消息（调用方法）就可以执行方法中的代码，也就是说我们只需要知道方法的名字和传入的参数（方法的外部视图），而不需要知道方法内部的实现细节（方法的内部视图）。</p>
</blockquote>
<p><img src="https://i.loli.net/2021/03/24/cU8Ry4x3CLXSu12.png" alt="image-20210324002614964"></p>
<p>e.g. 定义一个类描述平面上的点并提供移动点和计算到另一个点距离的方法。</p>
<p>注意规范，参考：<a href="https://flitdu.github.io/2020/02/23/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/" target="_blank" rel="noopener">3.3注释规范</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x=<span class="number">0</span>, y=<span class="number">0</span>)</span>:</span></span><br><span class="line">        <span class="string">"""初始化方法</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :param x: 横坐标</span></span><br><span class="line"><span class="string">        :param y: 纵坐标</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move_to</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="string">"""移动到指定位置</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :param x: 新的横坐标</span></span><br><span class="line"><span class="string">        "param y: 新的纵坐标</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move_by</span><span class="params">(self, dx, dy)</span>:</span></span><br><span class="line">        <span class="string">"""移动指定的增量</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :param dx: 横坐标的增量</span></span><br><span class="line"><span class="string">        "param dy: 纵坐标的增量</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.x += dx</span><br><span class="line">        self.y += dy</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">distance_to</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="string">"""计算与另一个点的距离</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :param other: 另一个点</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        dx = self.x - other.x</span><br><span class="line">        dy = self.y - other.y</span><br><span class="line">        <span class="keyword">return</span> sqrt(dx ** <span class="number">2</span> + dy ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'对象坐标为：(%s, %s)'</span> % (str(self.x), str(self.y))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    p1 = Point(<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">    p2 = Point()</span><br><span class="line">    print(p1)</span><br><span class="line">    print(p2)</span><br><span class="line">    p2.move_by(<span class="number">-1</span>, <span class="number">2</span>)</span><br><span class="line">    print(p2)</span><br><span class="line">    print(p1.distance_to(p2))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h3><p>子类在继承了父类的方法后，可以对父类已有的方法给出新的实现版本，这个动作称之为方法重写（override）。通过方法重写我们可以让父类的同一个行为在子类中拥有不同的实现版本，当我们调用这个经过子类重写的方法时，不同的子类对象会表现出不同的行为，这个就是多态（poly-morphism）。</p>
<h3 id="静态方法和类方法"><a href="#静态方法和类方法" class="headerlink" title="静态方法和类方法"></a>静态方法和类方法</h3><p>实际上，类中的方法并不需要都是对象方法</p>
<ul>
<li>静态方法</li>
</ul>
<p>对于属于类而并不属于对象的方法，我们可以使用静态方法来解决这类问题</p>
<p>比如，如下的创建三角形类里的判断三角形是否有效的方法<code>def is_valid(a, b, c)</code>，<strong>这个方法是属于三角形类</strong>而并不属于三角形对象的。我们可以使用静态方法来解决这类问题</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, a, b, c)</span>:</span></span><br><span class="line">        self._a = a</span><br><span class="line">        self._b = b</span><br><span class="line">        self._c = c</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_valid</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> a + b &gt; c <span class="keyword">and</span> b + c &gt; a <span class="keyword">and</span> a + c &gt; b</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">perimeter</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._a + self._b + self._c</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span><span class="params">(self)</span>:</span></span><br><span class="line">        half = self.perimeter() / <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> sqrt(half * (half - self._a) *</span><br><span class="line">                    (half - self._b) * (half - self._c))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    a, b, c = <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></span><br><span class="line">    <span class="comment"># 静态方法和类方法都是通过给类发消息来调用的</span></span><br><span class="line">    <span class="keyword">if</span> Triangle.is_valid(a, b, c):</span><br><span class="line">        t = Triangle(a, b, c)</span><br><span class="line">        print(t.perimeter())</span><br><span class="line">        <span class="comment"># 也可以通过给类发消息来调用对象方法但是要传入接收消息的对象作为参数</span></span><br><span class="line">        <span class="comment"># print(Triangle.perimeter(t))</span></span><br><span class="line">        print(t.area())</span><br><span class="line">        <span class="comment"># print(Triangle.area(t))</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'无法构成三角形.'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<ul>
<li>类方法</li>
</ul>
<p>和静态方法比较类似，Python还可以在类中定义类方法，类方法的第一个参数约定名为cls，它代表的是当前类相关的信息的对象（类本身也是一个对象，有的地方也称之为类的元数据对象），<strong>通过这个参数我们可以获取和类相关的信息并且可以创建出类的对象</strong>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""数字时钟"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, hour=<span class="number">0</span>, minute=<span class="number">0</span>, second=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self._hour = hour</span><br><span class="line">        self._minute = minute</span><br><span class="line">        self._second = second</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod   &lt;=========</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">now</span><span class="params">(cls)</span>:</span></span><br><span class="line">        ctime = localtime(time())</span><br><span class="line">        <span class="keyword">return</span> cls(ctime.tm_hour, ctime.tm_min, ctime.tm_sec)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""走字"""</span></span><br><span class="line">        self._second += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self._second == <span class="number">60</span>:</span><br><span class="line">            self._second = <span class="number">0</span></span><br><span class="line">            self._minute += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> self._minute == <span class="number">60</span>:</span><br><span class="line">                self._minute = <span class="number">0</span></span><br><span class="line">                self._hour += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> self._hour == <span class="number">24</span>:</span><br><span class="line">                    self._hour = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""显示时间"""</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'%02d:%02d:%02d'</span> % \</span><br><span class="line">               (self._hour, self._minute, self._second)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 通过类方法创建对象并获取系统时间</span></span><br><span class="line">    clock = Clock.now()</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(clock.show())</span><br><span class="line">        sleep(<span class="number">1</span>)</span><br><span class="line">        clock.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="公有私有访问"><a href="#公有私有访问" class="headerlink" title="公有私有访问"></a>公有私有访问</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Kls</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">public</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'Hello public world!'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__private</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'Hello private world!'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call_private</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__private()</span><br><span class="line"></span><br><span class="line">ins = Kls()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用公有方法，没问题</span></span><br><span class="line">ins.public()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接调用私有方法，不行</span></span><br><span class="line">ins.__private()</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 但你可以通过内部公有方法，进行代理</span></span><br><span class="line"><span class="comment"># ins.call_private()</span></span><br></pre></td></tr></table></figure>

<p>AttributeError: ‘Kls’ object has no attribute ‘__private’</p>
<h3 id="查看类属性和方法"><a href="#查看类属性和方法" class="headerlink" title="查看类属性和方法"></a>查看类属性和方法</h3><p>Python 里面<strong>万物皆对象(object)</strong>，「整数」也不例外，只要是对象，就有相应的属性 (attributes) 和方法 (methods)。</p>
<p>通过 dir( X ) 和help( X ) 可看出 X 对应的对象里可用的属性和方法。</p>
<ul>
<li>X 是 int，那么就是 int 的属性和方法</li>
<li>X 是 float，那么就是 float 的属性和方法</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1g9xq8ptau2j311w0ietaa.jpg" alt="image-20191215212708811"></p>
<h2 id="numpy"><a href="#numpy" class="headerlink" title="numpy"></a>numpy</h2><blockquote>
<p>将numpy数组随机分割为训练和测试/验证数据集</p>
</blockquote>
<p><a href="https://kb.kutu66.com/python/post_1063191" target="_blank" rel="noopener">https://kb.kutu66.com/python/post_1063191</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import numpy</span><br><span class="line"># x is your dataset</span><br><span class="line">x = numpy.random.rand(100, 5)</span><br><span class="line">numpy.random.shuffle(x)</span><br><span class="line">training, test = x[:80,:], x[80:,:]</span><br></pre></td></tr></table></figure>

<p>效率很高</p>
<h2 id="待定"><a href="#待定" class="headerlink" title="待定"></a>待定</h2><ul>
<li>解压序列赋值给多个变量</li>
</ul>
<p><u>任何的序列（或者是可迭代对象）可以通过一个简单的赋值语句解压并赋值给多个变量。 唯一的前提就是变量的数量必须跟序列元素的数量是一样的。</u></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">p = (<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">x, y = p </span><br><span class="line">print(x -y)</span><br><span class="line"></span><br><span class="line">data = [<span class="string">'as'</span>, <span class="number">23</span>, <span class="number">56</span>, (<span class="number">12</span>,<span class="number">23</span>,<span class="number">4</span>)]</span><br><span class="line">name, shars, _, time = data   <span class="comment">#对于不想解压的，可以使用‘_’代替</span></span><br><span class="line">name, price, time</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br><span class="line">(&apos;as&apos;, 56, (12, 23, 4))</span><br></pre></td></tr></table></figure>

<p>实际上，这种解压赋值可以用在任何可迭代对象上面，而不仅仅是列表或者元组。 包括字符串，文件对象，迭代器和生成器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s = &apos;hey&apos;</span><br><span class="line">a,b,c = s</span><br><span class="line">a</span><br><span class="line">Out[5]: &apos;h&apos;</span><br><span class="line">b</span><br><span class="line">Out[6]: &apos;e&apos;</span><br><span class="line">c</span><br><span class="line">Out[7]: &apos;y&apos;</span><br></pre></td></tr></table></figure>

<ul>
<li>变量数量也可以少于序列元素数量，使用<em>，*</em>表示可变**</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">record = (&apos;Dave&apos;, &apos;dave@example.com&apos;, &apos;773-555-1212&apos;, &apos;847-555-1212&apos;)</span><br><span class="line">name, email, *phone_numbers = record</span><br><span class="line">name, email, phone_numbers</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&apos;Dave&apos;, &apos;dave@example.com&apos;, [&apos;773-555-1212&apos;, &apos;847-555-1212&apos;])</span><br></pre></td></tr></table></figure>

<p>注意，phone_numbers 为 list </p>
<ul>
<li>再看一个例子，相当于把前面的内容综合运用了</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">records = [</span><br><span class="line">    (<span class="string">'foo'</span>, <span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">    (<span class="string">'bar'</span>, <span class="string">'hello'</span>),</span><br><span class="line">    (<span class="string">'foo'</span>, <span class="number">3</span>, <span class="number">4</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_foo</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    print(<span class="string">'foo'</span>, x, y)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_bar</span><span class="params">(s)</span>:</span></span><br><span class="line">    print(<span class="string">'bar'</span>, s)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> tag, *args <span class="keyword">in</span> records:</span><br><span class="line">    print(tag, args, <span class="string">'---'</span>)</span><br><span class="line">    <span class="keyword">if</span> tag == <span class="string">'foo'</span>:</span><br><span class="line">        do_foo(*args)</span><br><span class="line">    <span class="keyword">elif</span> tag == <span class="string">'bar'</span>:</span><br><span class="line">        do_bar(*args)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd5fh8znedj311s0jgkdx.jpg" alt="image-20200324232014826"></p>
<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">foo [1, 2] ---</span><br><span class="line">foo 1 2</span><br><span class="line">bar [&apos;hello&apos;] ---</span><br><span class="line">bar hello</span><br><span class="line">foo [3, 4] ---</span><br><span class="line">foo 3 4</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUyOTAwMzI4NA==&mid=2247484643&idx=1&sn=1767ee1a32815991300b64556292ee16&chksm=fa66e298cd116b8e7f4509cbfcec730dd74cd482345c2bfb1e30e529833f0e553404a33aa9f3&scene=21#wechat_redirect" target="_blank" rel="noopener">Python小知识 | 这些技能你不会？(一)</a></p>
</li>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUyOTAwMzI4NA==&mid=2247484768&idx=1&sn=db02b72f6807f3dc6936f67e14f6e16c&chksm=fa66e31bcd116a0d8d69ab4932e46420861ccb7c6bf6a0e59b2b69cbabe05f0110173f727e7c&scene=21#wechat_redirect" target="_blank" rel="noopener">Python小知识 | 这些技能你不会？(二)</a></p>
</li>
<li><p><a href="https://mp.weixin.qq.com/s/H31FvgepP9k5k0FhZ6POVQ" target="_blank" rel="noopener">整理了我开始分享学习笔记到现在超过250篇优质文章，涵盖数据分析、爬虫、机器学习等方面，别再说不知道该从哪开始，实战哪里找了</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/fengmk2/archive/2008/04/21/1163766.html" target="_blank" rel="noopener">Python tips: 什么是<em>args和*</em>kwargs？</a></p>
</li>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUyOTAwMzI4NA==&mid=2247485939&idx=1&sn=fd89b5c5cd6c9f882bfe9e2eb0538fa2&chksm=fa66ef88cd11669e8dd211490842559e874f0191a322b62537f0d3034f5773e98fa3a2416575&scene=21#wechat_redirect" target="_blank" rel="noopener">Python小白教程：入门篇 (上)</a></p>
</li>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUyOTAwMzI4NA==&mid=2247485953&idx=1&sn=059a4ad7b423b46d3848a20eb1969a9f&chksm=fa66ec7acd11656caa86c2119516914e16e1e590d3fb3ab7eaa488f4990f870103bbc2714773&scene=21#wechat_redirect" target="_blank" rel="noopener">Python小白教程：入门篇 (下)</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1TV411z759?p=88" target="_blank" rel="noopener">全网最适合Python小白的Python基础课（纯干货，超详细）</a><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gi16jd82g3j31ct0u0x6p.jpg" alt="image-20200823235022423"></p>
</li>
<li><p>有道课件：<a href="https://note.youdao.com/ynoteshare1/index.html?id=51618eedd8ecb45f3ffc7213afea63c6&amp;type=notebook" target="_blank" rel="noopener">https://note.youdao.com/ynoteshare1/index.html?id=51618eedd8ecb45f3ffc7213afea63c6&amp;type=notebook</a>             </p>
<p><img src="https://tva1.sinaimg.cn/large/0081Kckwgy1gkom2p4u4sj31qm0u0b29.jpg" alt="image-20201114125631090"></p>
</li>
<li><p>知乎专栏：<a href="https://www.zhihu.com/column/c_1059083207340920832" target="_blank" rel="noopener">python小课堂</a></p>
</li>
<li><p>Python内置方法的时间复杂度  <a href="https://wiki.python.org/moin/TimeComplexity" target="_blank" rel="noopener">https://wiki.python.org/moin/TimeComplexity</a></p>
</li>
<li><p><a href="https://link.zhihu.com/?target=https%3A//www.ibm.com/developerworks/cn/linux/l-cn-python-optim/" target="_blank" rel="noopener">Python 代码性能优化技巧</a></p>
</li>
<li><p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400" target="_blank" rel="noopener">廖雪峰Python教程</a><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnvi2c6gooj31wk0u07wi.jpg" alt="image-20210221215746015"></p>
</li>
<li><p><a href="http://www.ttlsa.com/docs/dive-into-python3/strings.html" target="_blank" rel="noopener">字符串</a><img src="https://i.loli.net/2021/03/22/4n8qZamWjSf2AMt.png" alt="image-20210322211847774"></p>
</li>
<li><p><a href="https://blog.csdn.net/jackfrued/article/details/79521404" target="_blank" rel="noopener">Python开发系列课程(10) - 那些年我们踩过的那些坑(上)</a></p>
</li>
<li></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/12/11/Python笔记/" data-id="ckor8mdxx004ewnon5zk3tbq4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/12/26/《动手深度学习》/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ⭐️动手深度学习
        
      </div>
    </a>
  
  
    <a href="/2019/11/25/《神经网络与深度学习实战》/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">⭐️神经网络与深度学习实战</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CV/">CV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/NLP/">NLP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网页/">网页</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bert/">bert</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nlp/">nlp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyhanlp/">pyhanlp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/力扣/">力扣</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据/">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/底层/">底层</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索-推荐/">搜索/推荐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编辑/">编辑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站/">网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网课/">网课</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/规范/">规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/视觉/">视觉</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阅读/">阅读</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Python/" style="font-size: 12px;">Python</a> <a href="/tags/bert/" style="font-size: 10px;">bert</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nlp/" style="font-size: 18px;">nlp</a> <a href="/tags/pyhanlp/" style="font-size: 10px;">pyhanlp</a> <a href="/tags/力扣/" style="font-size: 12px;">力扣</a> <a href="/tags/大数据/" style="font-size: 10px;">大数据</a> <a href="/tags/并发/" style="font-size: 10px;">并发</a> <a href="/tags/底层/" style="font-size: 18px;">底层</a> <a href="/tags/搜索-推荐/" style="font-size: 10px;">搜索/推荐</a> <a href="/tags/机器学习/" style="font-size: 16px;">机器学习</a> <a href="/tags/深度学习/" style="font-size: 16px;">深度学习</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/电影/" style="font-size: 10px;">电影</a> <a href="/tags/算法/" style="font-size: 20px;">算法</a> <a href="/tags/编辑/" style="font-size: 10px;">编辑</a> <a href="/tags/网站/" style="font-size: 10px;">网站</a> <a href="/tags/网课/" style="font-size: 14px;">网课</a> <a href="/tags/规范/" style="font-size: 10px;">规范</a> <a href="/tags/视觉/" style="font-size: 14px;">视觉</a> <a href="/tags/阅读/" style="font-size: 14px;">阅读</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2119/10/">October 2119</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2100/01/">January 2100</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2000/01/">January 2000</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2119/10/28/待研究问题/">⭐️待研究问题</a>
          </li>
        
          <li>
            <a href="/2100/01/29/网站推荐/">⭐️网站推荐</a>
          </li>
        
          <li>
            <a href="/2021/11/08/copy/">⭐️copy</a>
          </li>
        
          <li>
            <a href="/2021/04/04/数据结构与算法之美（加餐）/">⭐️数据结构与算法之美（加餐）</a>
          </li>
        
          <li>
            <a href="/2021/04/02/数据结构与算法之美（基础篇）/">⭐️数据结构与算法之美（基础篇）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Dufy<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>