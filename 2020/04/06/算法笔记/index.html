<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> ⭐️算法笔记 · Hexo</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="⭐️算法笔记 - John Doe"><meta name="keywords"><meta name="author" content="John Doe"><link rel="short icon" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/favicon.ico"><link rel="stylesheet" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="http://example.com/atom.xml" title="Hexo"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="/images/logo.png"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="博文" class="nav-list-link">博文</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="归档" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about/" target="_self" data-hover="关于" class="nav-list-link">关于</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">⭐️算法笔记</h1><div class="post-info">2020-04-06</div><div class="post-content"><p>[TOC]</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gevn54wj7cj30yp0u0kjl.jpg" alt="image-20200517185028595"></p>
<p><strong>数据结构是工具，算法是通过合适的工具解决特定问题的方法</strong>。</p>
<span id="more"></span>

<p>学习一个算法可分为三步</p>
<blockquote>
<ul>
<li>先了解算法本身解决什么问题</li>
<li>然后学习它的解决策略</li>
<li>最后了解相似算法之间的联系</li>
</ul>
</blockquote>
<h2 id="程序员如何准备面试中的算法"><a href="#程序员如何准备面试中的算法" class="headerlink" title="程序员如何准备面试中的算法"></a>程序员如何准备面试中的算法</h2><p><a target="_blank" rel="noopener" href="https://wizardforcel.gitbooks.io/the-art-of-programming-by-july/content/00.01.html">https://wizardforcel.gitbooks.io/the-art-of-programming-by-july/content/00.01.html</a></p>
<blockquote>
<p>备战面试中算法的五个步骤</p>
</blockquote>
<p>对于立志进一线互联网公司，同时不满足于一辈子干纯业务应用开发，希望在后端做点事情的同学来说，备战面试中的算法，分为哪几个步骤呢？如下：</p>
<h3 id="1、掌握一门编程语言"><a href="#1、掌握一门编程语言" class="headerlink" title="1、掌握一门编程语言"></a>1、掌握一门编程语言</h3><p>首先你得确保你已掌握好一门编程语言：</p>
<ul>
<li>C的话，推荐Dennis M. Ritchie &amp; Brian W. Kernighan合著的《C程序设计语言》，和《C和指针》；</li>
<li>C++ 则推荐《C++ Primer》，《深度探索C++对象模型》，《Effective C++》；</li>
<li>Java推荐《Thinking in Java》，《Core Java》，《Effictive Java》，《深入理解Java虚拟机》。</li>
</ul>
<p>掌握一门语言并不容易，不是翻完一两本书即可了事，语言的细枝末节需要在平日不断的编程练习中加以熟练。</p>
<h3 id="2、过一遍微软面试100题系列"><a href="#2、过一遍微软面试100题系列" class="headerlink" title="2、过一遍微软面试100题系列"></a>2、过一遍微软面试100题系列</h3><p>我从2010年起开始整理<a target="_blank" rel="noopener" href="http://blog.csdn.net/column/details/ms100.html">微软面试100题系列</a>，见过的题目不可谓不多，但不管题目怎般变化，依然是那些常见的题型和考察点，当然，不考察任何知识点，纯粹考察编程能力的题目也屡见不鲜。故不管面试题千变万化，始终不离两点：①看你基本知识点的掌握情况；②编程基本功。</p>
<p>而当你看了一遍微软面试100题之后(不要求做完)，你自会意识到：数据结构和算法在笔试面试中的重要性。</p>
<h3 id="3、苦补数据结构基础"><a href="#3、苦补数据结构基础" class="headerlink" title="3、苦补数据结构基础"></a>3、苦补数据结构基础</h3><p>如果学数据结构，可以看我们在大学里学的任一本数据结构教材都行，如果你觉得实在不够上档次，那么可以再看看《STL源码剖析》。</p>
<p>然后，你会发现：大部分的面试题都在围绕一个点：基于各种数据结构上的增删改查。如字符串的查找翻转，链表的查找遍历合并删除，树和图的查找遍历，后来为了更好的查找，我们想到了排序，排序仍然不够，我们有了贪心、动态规划，再后来东西多了，于是有了海量数据处理，资源有限导致人们彼此竞争，出现了博弈组合概率。</p>
<h3 id="4、看算法导论"><a href="#4、看算法导论" class="headerlink" title="4、看算法导论"></a>4、看算法导论</h3><p>《算法导论》上的前大部分的章节都在阐述一些经典常用的数据结构和典型算法（如<a target="_blank" rel="noopener" href="https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/04.01.md">二分查找</a>，<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_july_v/article/details/6116297">快速排序</a>、<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_JULY_v/article/details/6256463">Hash表</a>），以及一些高级数据结构（诸如<a target="_blank" rel="noopener" href="https://github.com/Xuanwo/The-Art-Of-Programming-By-July/blob/master/ebook/zh/07.1.md">红黑树</a>、<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_JULY_v/article/details/6530142">B树</a>），如果你已经学完了一本数据结构教材，那么建议你着重看贪心、动态规划、图论等内容，这3个议题每一个议题都大有题目可出。同时，熟悉<a target="_blank" rel="noopener" href="http://bigocheatsheet.com/">常用算法的时间复杂度</a>。</p>
<p>如果算法导论看不懂，你可以参看本博客。</p>
<h3 id="5、刷leetcode或cc150或编程艺术系列"><a href="#5、刷leetcode或cc150或编程艺术系列" class="headerlink" title="5、刷leetcode或cc150或编程艺术系列"></a>5、刷leetcode或cc150或编程艺术系列</h3><ul>
<li>如主要在国外找工作，推荐两个面试编程网站：一个是<a target="_blank" rel="noopener" href="http://leetcode.com/">http://leetcode.com/</a> ，leetcode是国外一网站，它上面有不少编程题；另外一个是<a target="_blank" rel="noopener" href="http://www.careercup.com/">http://www.careercup.com/</a> ，而后这个网站的创始人写了本书，叫《careercup cracking coding interview》，最终这本英文书被图灵教育翻译出版为《程序员面试金典》。</li>
<li>若如果是国内找工作，则郑重推荐我编写的《程序员编程艺术》，有<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_JULY_v/article/details/6460494">编程艺术博客版</a>，以及在博客版本基础上精简优化的<a target="_blank" rel="noopener" href="https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/Readme.md">编程艺术github版</a>。除此之外，还可看看《编程之美》，与《剑指offer》。</li>
</ul>
<p>而不论是准备国内还是国外的海量数据处理面试题，此文必看：<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_july_v/article/details/7382693">教你如何迅速秒杀掉：99%的海量数据处理面试题</a>。</p>
<p>此外，多看看优秀的开源代码，如<a target="_blank" rel="noopener" href="https://github.com/nginx/nginx">nginx</a>或<a target="_blank" rel="noopener" href="http://redis.io/">redis</a>，多做几个项目加以实践之，尽早实习（在一线互联网公司实习3个月可能胜过你自个黑灯瞎火摸爬滚打一年）。</p>
<p>当然，如果你是准备社招，且已经具备了上文所说的语言 &amp; 数据结构 &amp; 算法基础，可以直接跳到本第五步骤，开始刷leetcode或cc150或编程艺术系列。</p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>学习最忌心浮气躁，急功近利，即便练习了算法，也不一定代表能万无一失通过笔试面试关，因为总体说来，在一般的笔试面试中，70%<strong>基础</strong>+ 30%<strong>coding能力</strong>(含算法)，故如果做到了上文中的5个步骤，还远远不够，最后，我推荐一份非算法的书单，以此为大家查漏补缺(不必全部看完，欢迎大家补充)：</p>
<ol>
<li>《深入理解计算机系统》</li>
<li>W.Richard Stevens著的《TCP/IP详解三卷》，《UNIX网络编程二卷》，《UNIX环境高级编程：第2版》，详见此[豆瓣页面](<a target="_blank" rel="noopener" href="http://book.douban.com/search/W.Richard">http://book.douban.com/search/W.Richard</a> Stevens)；</li>
<li>你如果要面机器学习一类的岗位，建议看看相关的算法（如<a target="_blank" rel="noopener" href="http://blog.csdn.net/v_july_v/article/details/7624837">支持向量机通俗导论（理解SVM的三层境界）</a>），及老老实实补补数学基础，包括微积分、线性代数、概率论与数理统计<em>（除了教材，推荐一本《数理统计学简史》）</em>、矩阵论<em>（推荐《矩阵分析与应用》）</em>等..</li>
</ol>
<p>最后望大家循序渐进，踏实前进，若实在觉得算法 &amp; 编程太难，转产品、运营、测试、运维、前端、设计都是不错的选择，因为虽然编程有趣，但不一定人人适合编程。</p>
<h2 id="算法与数据结构"><a href="#算法与数据结构" class="headerlink" title="算法与数据结构"></a>算法与数据结构</h2><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><ul>
<li>渐进记号</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.hahack.com/wiki/algorithms-analysis.html">时间复杂度</a>：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gehzvez599j31a40ikk9m.jpg" alt="image-20200505233301491"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gehzw90i3fj30h805677i.jpg" alt="image-20200505233349637"></p>
<ul>
<li>复杂度</li>
</ul>
<p>包括时间复杂度和空间复杂度</p>
<p>大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示代码执行时间<strong>随数据规模增长的变化趋势</strong>，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称时间复杂度。</p>
<p>从时间复杂度的概念来看，它表示的是一个算法执行效率与数据规模增长的变化趋势，所以不管常量的执行时间多大，我们都可以忽略掉。因为它本身对增长趋势并没有影响。</p>
<p><u>时间复杂度</u>的全称是渐进时间复杂度，<strong>表示算法的执行时间与数据规模之间的增长关系</strong>。类比一下，<u>空间复杂度</u>全称就是渐进空间复杂度（asymptotic space complexity），表示<strong>算法的存储空间与数据规模之间的增长关系</strong>。</p>
<p>参考：<a target="_blank" rel="noopener" href="http://bigocheatsheet.com/">Know Thy Complexities!</a></p>
<h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>数据结构是计算机存储、组织数据的方式。对于特定的数据结构(比如数组)，有些操作效率很高(读某个数组元素)，有些操作的效率很低(删除某个数组元素)。程序员的目标是为当前的问题选择最优的数据结构。</p>
<p>数据结构无非就是数组、链表为骨架的一些特定操作而已；每个数据结构实现的功能无非增删查改罢了。【<a target="_blank" rel="noopener" href="https://labuladong.gitbook.io/algo/shu-ju-jie-gou-xi-lie/2.1-zheng-ti-xue-xi-si-lu/suan-fa-xue-xi-zhi-lu">算法学习之路</a>】</p>
<p><a target="_blank" rel="noopener" href="https://blog.fundebug.com/2018/08/27/code-interview-data-structure/">代码面试需要知道的8种数据结构(附面试题及答案链接)</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/30584550">知乎：Python列表：初学者应该懂得操作和内部实现</a></p>
<h3 id="二者联系"><a href="#二者联系" class="headerlink" title="二者联系"></a>二者联系</h3><p>算法是一系列程序指令，用于解决特定的运算和逻辑问题；</p>
<p>数据结构是数据的组织、管理和存储形式，使用目的是为了高效地 访问和修改数据。</p>
<p>数据结构是算法的基石。如果把算法比喻为舞者，数据结构则是舞者脚下的舞台。不同的算法会选择不同的数据结构</p>
<p>当我们遇到一个实际问题时，首先需要解决两件事：<a target="_blank" rel="noopener" href="https://www.yidianzixun.com/article/0NYtawM7">数据结构为什么那么难？每个面试官都会问的问题！</a></p>
<p>（1）如何将数据存储在计算机中；</p>
<p>（2）用什么方法和策略解决问题。</p>
<p><strong>前者是数据结构，后者是算法。</strong>只有数据结构没有算法，相当于只把数据存储到计算机中，而没有有效的方法去处理，就像一幢只有框架的烂尾楼；若只有算法，没有数据结构，就像沙漠里的海市蜃楼，只不过是空中楼阁罢了。</p>
<p><strong>数据</strong>是一切能输入计算机中的信息的总和，结构是指数据之间的关系。数据结构就是将数据及其之间的关系有效地存储在计算机中并进行基本操作。<strong>算法</strong>是对特定问题求解步骤的一种描述，通俗讲就是解决问题的方法和策略。</p>
<p>在遇到一个实际问题时，要充分利用自己所学的数据结构，将数据及其之间的关系有效地存储在计算机中，然后选择合适的算法策略，并用程序高效地实现。这就是Niklaus Wirth教授所说的：“数据结构+算法＝程序”。</p>
<h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p>改进算法，选择合适的数据结构【5】</p>
<ul>
<li><p>一个良好的算法能够对性能起到关键作用，因此性能改进的首要点是对算法的改进。比如，O(1)就比O(n)要好</p>
</li>
<li><p>数据结构</p>
</li>
</ul>
<blockquote>
<p>字典 (dictionary) 与列表 (list)</p>
</blockquote>
<p>Python 字典中使用了 hash table，因此查找操作的复杂度为 O(1)，而 list 实际是个数组，在 list 中，查找需要遍历整个 list，其复杂度为 O(n)，因此对成员的<strong>查找访问等</strong>操作字典要比 list 更快。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line">t = time()</span><br><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;jason&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;hill&#x27;</span>,<span class="string">&#x27;with&#x27;</span>,<span class="string">&#x27;phone&#x27;</span>,<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;dfdf&#x27;</span>,<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;pddf&#x27;</span>,<span class="string">&#x27;ind&#x27;</span>,<span class="string">&#x27;basic&#x27;</span>,<span class="string">&#x27;none&#x27;</span>,<span class="string">&#x27;baecr&#x27;</span>,<span class="string">&#x27;var&#x27;</span>,<span class="string">&#x27;bana&#x27;</span>,<span class="string">&#x27;dd&#x27;</span>,<span class="string">&#x27;wrd&#x27;</span>]</span><br><span class="line"><span class="comment"># list = dict.fromkeys(list,&#x27;0&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">filter</span> = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">1000000</span>):</span><br><span class="line"> <span class="keyword">for</span> find <span class="keyword">in</span> [<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;hat&#x27;</span>,<span class="string">&#x27;new&#x27;</span>,<span class="string">&#x27;list&#x27;</span>,<span class="string">&#x27;old&#x27;</span>,<span class="string">&#x27;.&#x27;</span>]:</span><br><span class="line">     <span class="keyword">if</span> find <span class="keyword">not</span> <span class="keyword">in</span> <span class="built_in">list</span>:</span><br><span class="line">         <span class="built_in">filter</span>.append(find)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;total run time:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(time()-t)</span><br></pre></td></tr></table></figure>

<p>[‘a’, ‘b’, ‘is’, ‘python’, ‘jason’, ‘hello’, ‘hill’, ‘with’, ‘phone’, ‘test’, ‘dfdf’, ‘apple’, ‘pddf’, ‘ind’, ‘basic’, ‘none’, ‘baecr’, ‘var’, ‘bana’, ‘dd’, ‘wrd’]<br>total run time:<br>1.9940822124481201</p>
<hr>
<p>{‘a’: ‘0’, ‘b’: ‘0’, ‘is’: ‘0’, ‘python’: ‘0’, ‘jason’: ‘0’, ‘hello’: ‘0’, ‘hill’: ‘0’, ‘with’: ‘0’, ‘phone’: ‘0’, ‘test’: ‘0’, ‘dfdf’: ‘0’, ‘apple’: ‘0’, ‘pddf’: ‘0’, ‘ind’: ‘0’, ‘basic’: ‘0’, ‘none’: ‘0’, ‘baecr’: ‘0’, ‘var’: ‘0’, ‘bana’: ‘0’, ‘dd’: ‘0’, ‘wrd’: ‘0’}<br>total run time:<br>1.015928030014038</p>
<p>将 list 转换为字典之后再运行，效率大概提高了一半。因此在需要多数据成员进行频繁的查找或者访问的时候，使用 dict 而不是 list 是一个较好的选择。</p>
<blockquote>
<p>集合 (set) 与列表 (list)</p>
</blockquote>
<p>set 的 union， intersection，difference 操作要比 list 的迭代要快。因此如果涉及到求 list 交集，并集或者差的问题可以转换为 set 来操作</p>
<p>set 常见用法</p>
<table>
<thead>
<tr>
<th align="left"><strong>语法</strong></th>
<th align="left"><strong>操作</strong></th>
<th align="left"><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">set(list1) | set(list2)</td>
<td align="left">union</td>
<td align="left">包含 list1 和 list2 所有数据的新集合</td>
</tr>
<tr>
<td align="left">set(list1) &amp; set(list2)</td>
<td align="left">intersection</td>
<td align="left">包含 list1 和 list2 中共同元素的新集合</td>
</tr>
<tr>
<td align="left">set(list1) - set(list2)</td>
<td align="left">difference</td>
<td align="left">在 list1 中出现但不在 list2 中出现的元素的集</td>
</tr>
</tbody></table>
<ul>
<li>对循环的优化</li>
</ul>
<p>对循环的优化所遵循的原则是尽量减少循环过程中的计算量，有多重循环的尽量将内层的计算提到上一层。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time </span><br><span class="line">t = time() </span><br><span class="line">lista = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>] </span><br><span class="line">listb =[<span class="number">0.1</span>,<span class="number">0.2</span>,<span class="number">0.3</span>,<span class="number">0.4</span>,<span class="number">0.5</span>,<span class="number">0.6</span>,<span class="number">0.7</span>,<span class="number">0.8</span>,<span class="number">0.9</span>,<span class="number">0.01</span>] </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">1000000</span>):</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lista)):</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(listb)): </span><br><span class="line">            x=lista[a]+listb[b]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;total run time:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(time()-t)</span><br></pre></td></tr></table></figure>

<p>total run time:<br>18.201731204986572</p>
<p>将长度计算提到循环外，同时将第三层的计算 lista[a] 提到循环的第二层。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time </span><br><span class="line">t = time() </span><br><span class="line">lista = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>] </span><br><span class="line">listb =[<span class="number">0.1</span>,<span class="number">0.2</span>,<span class="number">0.3</span>,<span class="number">0.4</span>,<span class="number">0.5</span>,<span class="number">0.6</span>,<span class="number">0.7</span>,<span class="number">0.8</span>,<span class="number">0.9</span>,<span class="number">0.01</span>] </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lista)):</span><br><span class="line">        temp = lista[a]</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(listb)):</span><br><span class="line">            x=temp+listb[b]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;total run time:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(time()-t)</span><br></pre></td></tr></table></figure>

<p>total run time:<br>17.083163022994995</p>
<p>区别：<img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnug3vc4rzj319q054jz5.jpg" alt="image-20210221000428938"></p>
<ul>
<li>充分利用 Lazy if-evaluation 的特性</li>
</ul>
<p>python 中条件表达式是 lazy evaluation 的，也就是说如果存在条件表达式 if x and y，在 x 为 false 的情况下 y 表达式的值将不再计算。因此可以利用该特性在一定程度上提高程序效率。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time </span><br><span class="line">t = time() </span><br><span class="line">abbreviations = [<span class="string">&#x27;cf.&#x27;</span>, <span class="string">&#x27;e.g.&#x27;</span>, <span class="string">&#x27;ex.&#x27;</span>, <span class="string">&#x27;etc.&#x27;</span>, <span class="string">&#x27;fig.&#x27;</span>, <span class="string">&#x27;i.e.&#x27;</span>, <span class="string">&#x27;Mr.&#x27;</span>, <span class="string">&#x27;vs.&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">10000000</span>):</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> (<span class="string">&#x27;Mr.&#x27;</span>, <span class="string">&#x27;Hat&#x27;</span>, <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;chasing&#x27;</span>, <span class="string">&#x27;the&#x27;</span>, <span class="string">&#x27;black&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;.&#x27;</span>):</span><br><span class="line">        <span class="comment"># if w in abbreviations:</span></span><br><span class="line">        <span class="keyword">if</span> w[-<span class="number">1</span>] == <span class="string">&#x27;.&#x27;</span> <span class="keyword">and</span> w <span class="keyword">in</span> abbreviations:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;total run time:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(time()-t)</span><br></pre></td></tr></table></figure>

<p>在未进行优化之前程序的运行时间大概为 12.42，如果使用注释行代替第一个 if，运行的时间大概为 11.1。</p>
<ul>
<li>字符串优化</li>
</ul>
<p>1）字符串拼接尽量使用 join()，而不是 “+”</p>
<p>2）当对字符串可以使用正则表达式或者内置函数来处理的时候，选择内置函数。如 str.isalpha()，str.isdigit()，str.startswith((‘x’, ‘yz’))，str.endswith((‘x’, ‘yz’))</p>
<p>3）对字符进行格式化比直接串联读取要快</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">head= &#x27;aa&#x27;</span><br><span class="line">prologue = &#x27;ww..&#x27;</span><br><span class="line">query = &#x27;vv//v&#x27;</span><br><span class="line">out = &quot;&lt;html&gt;%s%s%s&lt;/html&gt;&quot; % (head, prologue, query)  # 推荐</span><br><span class="line">out1 = &quot;&lt;html&gt;&quot; + head + prologue + query + &quot;&lt;/html&gt;&quot;</span><br><span class="line">out, out1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&#x27;&lt;html&gt;aaww..vv//v&lt;/html&gt;&#x27;, &#x27;&lt;html&gt;aaww..vv//v&lt;/html&gt;&#x27;)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>使用列表解析（list comprehension）和生成器表达式（generator expression）</li>
</ol>
<p>a = [w for w in list]</p>
<ol start="5">
<li><p><strong>if done is not None</strong> 比语句 if done != None 更快</p>
</li>
<li><p>while 1 要比 while True 更快（当然后者的可读性更好）；</p>
</li>
</ol>
<h2 id="Python内置list"><a href="#Python内置list" class="headerlink" title="Python内置list"></a>Python内置list</h2><p>数组的两种实现方式，考虑到能容纳任意的元素，且在更换存储区域时，list 对象的标识ID不变，只能采用分离式实现技术</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdyac17nifj30rg0bye5m.jpg" alt="image-20200418222341456"></p>
<p>元素外置顺序表如下，可以使得存储的元素大小不一，且有统一公式计算:</p>
<p>$$Loc(e_i)=l_0+c*i$$</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdy99ths79j30u80niu0x.jpg" alt="image-20200418214651055"></p>
<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><blockquote>
<p>首先建立Node：</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdz7rcccamj30jo0aswjo.jpg" alt="image-20200419174007472"></p>
<p>code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, initdata</span>):</span></span><br><span class="line">        self.data = initdata</span><br><span class="line">        self.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNext</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setData</span>(<span class="params">self, new_data</span>):</span></span><br><span class="line">        self.data = new_data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setNext</span>(<span class="params">self, new_next</span>):</span></span><br><span class="line">        self.<span class="built_in">next</span> = new_next</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp = Node(93)</span><br><span class="line">temp.getData()  # 93</span><br></pre></td></tr></table></figure>

<blockquote>
<p>建立UNordered list：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class UnorderedList():</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.head = None</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdz89sfn2sj30fe06wwgy.jpg" alt="image-20200419175751020"></p>
<blockquote>
<p>添加元素：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self,item</span>):</span></span><br><span class="line">    temp = Node(item)</span><br><span class="line">    temp.setNext(self.head)</span><br><span class="line">    self.head = temp</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ged5zn7syij30su0pkn16.jpg" alt="image-20200419175630498"></p>
<blockquote>
<p>获取链表元素个数</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ged6es9jqyj30i5051t8r.jpg" alt="3.21.实现无序列表：链表.figure9"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def size(self):</span><br><span class="line">    current = self.head</span><br><span class="line">    count = 0</span><br><span class="line">    while current != None:</span><br><span class="line">        count = count + 1</span><br><span class="line">        current = current.getNext()</span><br><span class="line"></span><br><span class="line">    return count</span><br></pre></td></tr></table></figure>

<blockquote>
<p>搜索</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    current = self.head</span><br><span class="line">    <span class="keyword">while</span> current.getData() != item:</span><br><span class="line">        current = current.getNext()</span><br><span class="line">        <span class="keyword">if</span> current == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>删除</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ged74s4n0qj30zi0kkk9p.jpg" alt="image-20200501195623956"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    current = self.head</span><br><span class="line">    previous = <span class="literal">None</span></span><br><span class="line">    found = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">        <span class="keyword">if</span> current.getData() == item:</span><br><span class="line">            found = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            previous = current</span><br><span class="line">            current = current.getNext()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> previous == <span class="literal">None</span>:</span><br><span class="line">        self.head = current.getNext()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        previous.setNext(current.getNext())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>完整代码</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, initdata</span>):</span></span><br><span class="line">        self.data = initdata</span><br><span class="line">        self.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNext</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setData</span>(<span class="params">self, new_data</span>):</span></span><br><span class="line">        self.data = new_data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setNext</span>(<span class="params">self, new_next</span>):</span></span><br><span class="line">        self.<span class="built_in">next</span> = new_next</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnorderedList</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.head = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.head ==<span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        temp = Node(data)</span><br><span class="line">        temp.setNext(self.head)</span><br><span class="line">        self.head =temp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">size</span>(<span class="params">self</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> current != <span class="literal">None</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            current = current.getNext()</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        <span class="keyword">while</span> current.getData() != item:</span><br><span class="line">            current = current.getNext()</span><br><span class="line">            <span class="keyword">if</span> current == <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        previous = <span class="literal">None</span></span><br><span class="line">        found = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">            <span class="keyword">if</span> current.getData() == item:</span><br><span class="line">                found = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                previous = current</span><br><span class="line">                current = current.getNext()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> previous == <span class="literal">None</span>:</span><br><span class="line">            self.head = current.getNext()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            previous.setNext(current.getNext())</span><br></pre></td></tr></table></figure>



<ul>
<li>创建链表</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghkr4ydfi7j31da0oskfg.jpg" alt="image-20200809184825999"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">def createLinkHead(li):</span><br><span class="line">    &#x27;头插法&#x27;</span><br><span class="line">    head = Node(li[0])</span><br><span class="line">    for ele in li[1:]:</span><br><span class="line">        node = Node(ele)</span><br><span class="line">        node.next = head</span><br><span class="line">        head = node</span><br><span class="line">    return head</span><br><span class="line"></span><br><span class="line">def printLinklist(lk):</span><br><span class="line">    while lk:</span><br><span class="line">        print(lk.item, end = &#x27;,&#x27;)</span><br><span class="line">        lk = lk.next</span><br><span class="line"></span><br><span class="line">lk = createLinkHead([1,2,3])</span><br><span class="line">printLinklist(lk)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghkrhlpkl6j30pa09ek04.jpg" alt="image-20200809190038327"></p>
<h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><p>..</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    栈的实现</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.stack = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.stack.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, element</span>):</span></span><br><span class="line">        self.stack.append(element)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getTop</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.stack)&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> self.stack[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.stack) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">stack = Stack()</span><br><span class="line">stack.push(<span class="number">1</span>)</span><br><span class="line">stack.push(<span class="number">2</span>)</span><br><span class="line">stack.push(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(stack.pop())</span><br><span class="line"><span class="built_in">print</span>(stack.pop())</span><br></pre></td></tr></table></figure>

<ul>
<li>栈的应用</li>
</ul>
<p>括号匹配问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def braceMatch(s):</span><br><span class="line">    &#x27;括号匹配问题&#x27;</span><br><span class="line">    match = &#123;&#x27;&#125;&#x27;:&#x27;&#123;&#x27;, &#x27;]&#x27;:&#x27;[&#x27;, &#x27;)&#x27;:&#x27;(&#x27;&#125;</span><br><span class="line">    stack = Stack()</span><br><span class="line">    for char in s:</span><br><span class="line">        if char in [&#x27;&#123;&#x27;,&#x27;(&#x27;,&#x27;[&#x27;]:</span><br><span class="line">            stack.push(char)</span><br><span class="line">        else:  # ch in [&#x27;&#125;&#x27;, &#x27;]&#x27;, &#x27;)&#x27;]</span><br><span class="line">            if stack.isEmpty():</span><br><span class="line">                return False</span><br><span class="line">            elif stack.getTop() == match[char]:</span><br><span class="line">                stack.pop()</span><br><span class="line">            else:  # 栈顶元素不匹配</span><br><span class="line">                return False</span><br><span class="line"></span><br><span class="line">    if stack.isEmpty():</span><br><span class="line">        return True</span><br><span class="line">    else:</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(braceMatch(&#x27;[[()]]&#123;&#125;&#x27;))</span><br></pre></td></tr></table></figure>



<h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><ul>
<li>内置模块</li>
</ul>
<p>双端队列，即可实现栈，也可实现队列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建队列</span></span><br><span class="line">d = collections.deque()</span><br><span class="line"></span><br><span class="line">d.append(<span class="number">1</span>) <span class="comment">#从队尾入队</span></span><br><span class="line">d.popleft() <span class="comment">#从队头出队</span></span><br><span class="line"></span><br><span class="line">d.appendleft(<span class="number">2</span>) <span class="comment">#从队头入队</span></span><br><span class="line">d.pop() <span class="comment">#从队尾出队</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/03/04/CvMgqEfAXjTtO4U.png" alt="image-20210304235311165"></p>
<p>使用 <code>deque(maxlen=N)</code> 构造函数会新建一个固定大小的队列。当新的元素加入并且这个队列已满的时候， 最老的元素会自动被移除掉。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">q = deque(maxlen=<span class="number">3</span>)</span><br><span class="line">q.append(<span class="number">12</span>)</span><br><span class="line">q.append(<span class="number">1</span>)</span><br><span class="line">q.append(<span class="number">142</span>)   <span class="comment">#---&gt; deque([12， 1, 142])</span></span><br><span class="line">q.append(-<span class="number">19</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(q, <span class="string">&#x27;-------&#x27;</span>)</span><br><span class="line">q.popleft()</span><br><span class="line">q</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deque([1, 142, -19], maxlen=3) -------</span><br><span class="line">deque([142, -19])</span><br></pre></td></tr></table></figure>

<blockquote>
<p>应用：</p>
<p>在某种意义上，这种混合线性结构提供了单个数据结构中的栈和队列的所有能力</p>
</blockquote>
<p>e.g.  解决回文问题，如 ‘radar’, ‘toot’字符判断</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdw1gu2puvj30wo094agl.jpg" alt="image-20200416234547162"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdw1rinaigj30x80mggz2.jpg" alt="image-20200416235602591"></p>
<ul>
<li>环形队列</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghkh91nodlj30zu0k64qp.jpg" alt="image-20200809130623285"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, size =<span class="number">100</span></span>):</span></span><br><span class="line">        self.queue = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(size)]</span><br><span class="line">        self.size = size</span><br><span class="line">        self.rear = <span class="number">0</span>  <span class="comment"># 队尾指针</span></span><br><span class="line">        self.front = <span class="number">0</span>  <span class="comment"># 队首指针</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, element</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.isFull():</span><br><span class="line">            self.rear = (self.rear+<span class="number">1</span>) % self.size</span><br><span class="line">            self.queue[self.rear] = element</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> IndexError(<span class="string">&#x27;Queue is filled.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.isEmpty():</span><br><span class="line">            self.front = (self.front+<span class="number">1</span>) % self.size</span><br><span class="line">            <span class="keyword">return</span> self.queue[self.front]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> IndexError(<span class="string">&#x27;Queue is empty.&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;判断队空&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> self.rear == self.front</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isFull</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;判断队满&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> (self.rear+<span class="number">1</span>) % self.size == self.front</span><br><span class="line"></span><br><span class="line">q = Queue(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    q.push(i)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(q.isFull())</span><br><span class="line"><span class="built_in">print</span>(q.pop())</span><br><span class="line"><span class="built_in">print</span>(q.pop())</span><br><span class="line"><span class="built_in">print</span>(q.pop())</span><br><span class="line"><span class="built_in">print</span>(q.pop())</span><br></pre></td></tr></table></figure>

<p>True<br>0<br>1<br>2<br>3</p>
<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><blockquote>
<p>链表构造形式</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gefebaimh2j30my0ia13j.jpg" alt="image-20200503173556095"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,rootObj</span>):</span></span><br><span class="line">        self.key = rootObj</span><br><span class="line">        self.leftChild = <span class="literal">None</span></span><br><span class="line">        self.rightChild = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insertLeft</span>(<span class="params">self,newNode</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.leftChild == <span class="literal">None</span>:</span><br><span class="line">            self.leftChild = BinaryTree(newNode)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            t = BinaryTree(newNode)</span><br><span class="line">            t.leftChild = self.leftChild</span><br><span class="line">            self.leftChild = t</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insertRight</span>(<span class="params">self,newNode</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.rightChild == <span class="literal">None</span>:</span><br><span class="line">            self.rightChild = BinaryTree(newNode)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            t = BinaryTree(newNode)</span><br><span class="line">            t.rightChild = self.rightChild</span><br><span class="line">            self.rightChild = t</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getRightChild</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.rightChild</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLeftChild</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.leftChild</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setRootVal</span>(<span class="params">self,obj</span>):</span></span><br><span class="line">        self.key = obj</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getRootVal</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.key</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r = BinaryTree(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.getRootVal())</span><br><span class="line"><span class="built_in">print</span>(r.getLeftChild())</span><br><span class="line">r.insertLeft(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.getLeftChild())</span><br><span class="line"><span class="built_in">print</span>(r.getLeftChild().getRootVal())</span><br><span class="line">r.insertRight(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.getRightChild())</span><br><span class="line"><span class="built_in">print</span>(r.getRightChild().getRootVal())</span><br><span class="line">r.getRightChild().setRootVal(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.getRightChild().getRootVal())</span><br><span class="line">r.insertLeft(<span class="string">&#x27;qq&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.getLeftChild())</span><br><span class="line"><span class="built_in">print</span>(r.getLeftChild().getRootVal())   <span class="comment"># qq</span></span><br><span class="line">r_left = r.getLeftChild().getLeftChild()</span><br><span class="line"><span class="built_in">print</span>(r_left.getRootVal())</span><br></pre></td></tr></table></figure>

<p>a<br>None<br>&lt;__main__.BinaryTree object at 0x101745390&gt;<br>b<br>&lt;__main__.BinaryTree object at 0x1017453c8&gt;<br>c<br>hello<br>&lt;__main__.BinaryTree object at 0x101745400&gt;<br>qq<br>b    #此处 b 移到了插入的qq的左子节点位置</p>
<blockquote>
<p>注意,在进行insert插入时候，如果子节点存在内容，则默认移除到下方左子节点，图示如下：</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geffmzxzy3j30op0jx7ea.jpg" alt="IMG_0966E243E399-1"></p>
<blockquote>
<p>遍历</p>
</blockquote>
<ul>
<li>前序遍历</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def preorder(tree):</span><br><span class="line">    if tree:</span><br><span class="line">        print(tree.getRootVal())</span><br><span class="line">        preorder(tree.getLeftChild())</span><br><span class="line">        preorder(tree.getRightChild())</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gefodggzb8j30ps096h3d.jpg" alt="image-20200503232402558"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(&#x27;-&#x27;*30)</span><br><span class="line">preorder(r)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gefofcykf1j30k007eq4l.jpg" alt="image-20200503232552808"></p>
<ul>
<li>目录构建</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">class Node:</span><br><span class="line">    def __init__(self, name, type = &#x27;dir&#x27;):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.type = type</span><br><span class="line">        self.children = []</span><br><span class="line">        self.parent = None</span><br><span class="line"></span><br><span class="line">    def __repr__(self):</span><br><span class="line">        return self.name</span><br><span class="line"></span><br><span class="line">class FileSystemTree:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.root = Node(&#x27;/&#x27;)</span><br><span class="line">        self.now = self.root</span><br><span class="line"></span><br><span class="line">    def mkdir(self, name):</span><br><span class="line">        # name 以/ 结尾</span><br><span class="line">        if name[-1] != &#x27;/&#x27;:</span><br><span class="line">            name += &#x27;/&#x27;</span><br><span class="line">        node = Node(name)</span><br><span class="line">        self.now.children.append(node)</span><br><span class="line">        node.parent = self.now</span><br><span class="line"></span><br><span class="line">    def ls(self):</span><br><span class="line">        return self.now.children</span><br><span class="line"></span><br><span class="line">    def cd(self, name):</span><br><span class="line">        if name[-1] != &#x27;/&#x27;:</span><br><span class="line">            name += &#x27;/&#x27;</span><br><span class="line">        for child in self.now.children:</span><br><span class="line">            if child.name == name:</span><br><span class="line">                self.now = child</span><br><span class="line">                return</span><br><span class="line">        raise ValueError(&#x27;invalid dir&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># n = Node(&#x27;hell0&#x27;)</span><br><span class="line"># n2 =Node(&#x27;world&#x27;)</span><br><span class="line"># n.children.append(n2)</span><br><span class="line"># n2.parent = n</span><br><span class="line"></span><br><span class="line">tree = FileSystemTree()</span><br><span class="line">tree.mkdir(&#x27;var/&#x27;)</span><br><span class="line">tree.mkdir(&#x27;bin/&#x27;)</span><br><span class="line">tree.mkdir(&#x27;usr/&#x27;)</span><br><span class="line">print(tree.ls())</span><br><span class="line"></span><br><span class="line">tree.cd(&#x27;bin/&#x27;)</span><br><span class="line">tree.mkdir(&#x27;python/&#x27;)</span><br><span class="line"></span><br><span class="line">print(tree.ls())</span><br></pre></td></tr></table></figure>

<p>[var/, bin/, usr/]<br>[python/]</p>
<ul>
<li>遍历</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghkxjlighuj31ng0sykjl.jpg" alt="image-20200809223004725"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pre_order</span>(<span class="params">root</span>):</span></span><br><span class="line">    <span class="string">&#x27;前序遍历&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> root:</span><br><span class="line">        <span class="built_in">print</span>(root.data, end= <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        pre_order(root.lchild)</span><br><span class="line">        pre_order(root.rchild)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_order</span>(<span class="params">root</span>):</span></span><br><span class="line">    <span class="string">&#x27;中序遍历&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> root:</span><br><span class="line">        in_order(root.lchild)</span><br><span class="line">        <span class="built_in">print</span>(root.data, end= <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        in_order(root.rchild)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_order</span>(<span class="params">root</span>):</span></span><br><span class="line">    <span class="string">&#x27;后序遍历&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> root:</span><br><span class="line">        post_order(root.lchild)</span><br><span class="line">        post_order(root.rchild)</span><br><span class="line">        <span class="built_in">print</span>(root.data, end= <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">level_order</span>(<span class="params">root</span>):</span></span><br><span class="line">    <span class="string">&#x27;层次遍历，用队列实现&#x27;</span></span><br><span class="line">    queue = deque()</span><br><span class="line">    queue.append(root) </span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(queue)&gt;<span class="number">0</span>: <span class="comment">#只要队不空</span></span><br><span class="line">        node = queue.popleft()</span><br><span class="line">        <span class="built_in">print</span>(node.data, end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> node.lchild:</span><br><span class="line">            queue.append(node.lchild)</span><br><span class="line">        <span class="keyword">if</span> node.rchild:</span><br><span class="line">            queue.append(node.rchild)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">level_order(root)</span><br></pre></td></tr></table></figure>

<ul>
<li>二叉搜索树</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghky6ztpgfj31ot0u0x6p.jpg" alt="image-20200809225237959"></p>
<blockquote>
<p>插入</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BST</span>:</span></span><br><span class="line">    <span class="string">&#x27;二叉搜索树&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, li=<span class="literal">None</span></span>):</span></span><br><span class="line">        self.root = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> li:</span><br><span class="line">            <span class="keyword">for</span> val <span class="keyword">in</span> li:</span><br><span class="line">                self.insert_no_rec(val)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span>(<span class="params">self, node, val</span>):</span></span><br><span class="line">        <span class="string">&#x27;插入操作&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> node:</span><br><span class="line">            node = BiTreeNode(val)</span><br><span class="line">        <span class="keyword">elif</span> val&lt;node.data:</span><br><span class="line">            self.insert(node.lchild, val)</span><br><span class="line">            node.lchild.parent = node</span><br><span class="line">        <span class="keyword">elif</span> val&gt;node.data:</span><br><span class="line">            self.insert(node.rchild, val)</span><br><span class="line">            node.rchild.parent = node</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 相等情况</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert_no_rec</span>(<span class="params">self, val</span>):</span></span><br><span class="line">        <span class="string">&#x27;非递归形式&#x27;</span></span><br><span class="line">        p = self.root</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> p:    <span class="comment"># 空树</span></span><br><span class="line">            self.root = BiTreeNode(val)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> val&lt;p.data:</span><br><span class="line">                <span class="keyword">if</span> p.lchild:</span><br><span class="line">                    p = p.lchild</span><br><span class="line">                <span class="keyword">else</span>:  <span class="comment"># 左孩子不存在</span></span><br><span class="line">                    p.lchild = BiTreeNode(val)</span><br><span class="line">                    p.lchild.parent = p</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">elif</span> val &gt; p.data:</span><br><span class="line">                <span class="keyword">if</span> p.rchild:</span><br><span class="line">                    p = p.rchild</span><br><span class="line">                <span class="keyword">else</span>:  <span class="comment">#</span></span><br><span class="line">                    p.rchild = BiTreeNode(val)</span><br><span class="line">                    p.rchild.parent = p</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pre_order</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&#x27;前序遍历&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> root:</span><br><span class="line">            <span class="built_in">print</span>(root.data, end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">            pre_order(root.lchild)</span><br><span class="line">            pre_order(root.rchild)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">in_order</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&#x27;中序遍历&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> root:</span><br><span class="line">            in_order(root.lchild)</span><br><span class="line">            <span class="built_in">print</span>(root.data, end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">            in_order(root.rchild)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post_order</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&#x27;后序遍历&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> root:</span><br><span class="line">            post_order(root.lchild)</span><br><span class="line">            post_order(root.rchild)</span><br><span class="line">            <span class="built_in">print</span>(root.data, end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line">tree = BST([<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>])</span><br><span class="line">tree.pre_order(tree.root)</span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line">tree.in_order(tree.root)  <span class="comment"># 输出有序的</span></span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line">tree.post_order(tree.root)</span><br></pre></td></tr></table></figure>

<p>4,2,1,3,6,5,7,9,8,<br>1,2,3,4,5,6,7,8,9,<br>1,3,2,5,8,9,7,6,4,</p>
<ul>
<li>AVL树</li>
</ul>
<p>复杂，目前还没看懂！！<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mp4y1D7UP?p=78">https://www.bilibili.com/video/BV1mp4y1D7UP?p=78</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghm5jgrjvjj31xn0u0hdu.jpg" alt="image-20200810235221301"></p>
<ul>
<li>B树</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghm5zlkynwj31h90u0u0x.jpg" alt="image-20200811000754274"></p>
<h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><p>Python 内置 heapq，建小根堆</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># heapq模块可以接受元组对象，默认元组的第一个元素作为priority，即按照元组的第一个元素构成小根堆</span></span><br><span class="line"></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">54</span>, <span class="number">23</span>, <span class="number">132</span>]</span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">    heapq.heappush(res, num)  <span class="comment"># 加入堆</span></span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># [1, 2, 5, 3, 54, 23, 132]</span></span><br><span class="line">[heapq.heappop(res) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(res))]  <span class="comment"># 堆排序结果   [1, 2, 3, 5, 23, 54, 132]</span></span><br></pre></td></tr></table></figure>

<p>关于传参元组情况，参见 <a target="_blank" rel="noopener" href="https://flitdu.github.io/2020/05/02/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/">堆–347</a></p>
<ul>
<li>查找最大或最小的 N 个元素</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line">nums = [<span class="number">1</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">7</span>, -<span class="number">4</span>, <span class="number">18</span>, <span class="number">23</span>, <span class="number">42</span>, <span class="number">37</span>, <span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(heapq.nlargest(<span class="number">3</span>, nums)) <span class="comment"># Prints [42, 37, 23]</span></span><br><span class="line"><span class="built_in">print</span>(heapq.nsmallest(<span class="number">3</span>, nums)) <span class="comment"># Prints [-4, 1, 2]</span></span><br></pre></td></tr></table></figure>

<p>两个函数都能接受一个关键字参数，用于更复杂的数据结构中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">portfolio = [</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;IBM&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">91.1</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;AAPL&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">50</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">543.22</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;FB&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">200</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">21.09</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;HPQ&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">35</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">31.75</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;YHOO&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">45</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">16.35</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ACME&#x27;</span>, <span class="string">&#x27;shares&#x27;</span>: <span class="number">75</span>, <span class="string">&#x27;price&#x27;</span>: <span class="number">115.65</span>&#125;</span><br><span class="line">]</span><br><span class="line">cheap = heapq.nsmallest(<span class="number">3</span>, portfolio, key=<span class="keyword">lambda</span> s: s[<span class="string">&#x27;price&#x27;</span>])</span><br><span class="line">expensive = heapq.nlargest(<span class="number">3</span>, portfolio, key=<span class="keyword">lambda</span> s: s[<span class="string">&#x27;price&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(cheap, expensive)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;&#x27;name&#x27;: &#x27;YHOO&#x27;, &#x27;shares&#x27;: 45, &#x27;price&#x27;: 16.35&#125;, &#123;&#x27;name&#x27;: &#x27;FB&#x27;, &#x27;shares&#x27;: 200, &#x27;price&#x27;: 21.09&#125;, &#123;&#x27;name&#x27;: &#x27;HPQ&#x27;, &#x27;shares&#x27;: 35, &#x27;price&#x27;: 31.75&#125;] [&#123;&#x27;name&#x27;: &#x27;AAPL&#x27;, &#x27;shares&#x27;: 50, &#x27;price&#x27;: 543.22&#125;, &#123;&#x27;name&#x27;: &#x27;ACME&#x27;, &#x27;shares&#x27;: 75, &#x27;price&#x27;: 115.65&#125;, &#123;&#x27;name&#x27;: &#x27;IBM&#x27;, &#x27;shares&#x27;: 100, &#x27;price&#x27;: 91.1&#125;]</span><br></pre></td></tr></table></figure>





<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><blockquote>
<p>递归三定律：</p>
</blockquote>
<ol>
<li>递归终止条件</li>
<li>向终止条件迭代靠近</li>
<li>调用自身</li>
</ol>
<ul>
<li>e.g. 计算列表和</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sumList</span>(<span class="params">list1</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(list1)==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> list1[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> list1[<span class="number">0</span>] + sumList(list1[<span class="number">1</span>:])</span><br><span class="line">    </span><br><span class="line">list_temp = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>]</span><br><span class="line">sumList(list_temp)</span><br></pre></td></tr></table></figure>

<ul>
<li>e.g. 比较如下两个递归的区别</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh498lejegj316a0hqgxn.jpg" alt="image-20200726122010337"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh49eujatqj313s0i0wpp.jpg" alt="image-20200726122611675"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x&gt;<span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(x)</span><br><span class="line">        fun1(x-<span class="number">1</span>)</span><br><span class="line">fun1(<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>汉诺塔问题</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def hanoi(n, a, b, c):</span><br><span class="line">    &quot;将n 个盘子，从a经过b 移到c&quot;</span><br><span class="line">    pass</span><br><span class="line">    if n&gt;0:</span><br><span class="line">        hanoi(n-1, a, c,b)</span><br><span class="line">        print(f&#x27;&#123;a&#125;---&gt;&#123;c&#125;&#x27;)</span><br><span class="line">        hanoi(n-1, b, a, c)</span><br><span class="line"></span><br><span class="line">hanoi(3,&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;)</span><br></pre></td></tr></table></figure>

<p>a—&gt;c<br>a—&gt;b<br>c—&gt;b<br>a—&gt;c<br>b—&gt;a<br>b—&gt;c<br>a—&gt;c</p>
<ul>
<li>递归时间复杂度</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://qyb225.github.io/algorithm/recursion-tree">利用递归树进行算法复杂度分析</a>：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gei0yg2agbj30r60aiq3e.jpg" alt="img"></p>
<h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4q5ot6n9j312e0fg4e1.jpg" alt="image-20200726220534499"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binarySearch</span>(<span class="params">lis, val</span>):</span></span><br><span class="line">    <span class="string">&#x27;二分查找&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = <span class="built_in">len</span>(lis)-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left&lt;=right:  <span class="comment"># 候选区域有值</span></span><br><span class="line">        mid = (left+right) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> lis[mid]==val:</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">elif</span> lis[mid]&gt;val:  <span class="comment"># 待查找的值在mid 左边</span></span><br><span class="line">            right = mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:   <span class="comment"># 待查找的值在mid 右边</span></span><br><span class="line">            left = mid+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="built_in">print</span>(binarySearch(li, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<p>时间复杂度：O(lgN)</p>
<ul>
<li>二分查找与顺序查找的时间比较</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> cal_time <span class="keyword">import</span> cal_time</span><br><span class="line"></span><br><span class="line"><span class="meta">@cal_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linearSeach</span>(<span class="params">lis, val</span>):</span></span><br><span class="line">    <span class="string">&quot;线性查找&quot;</span></span><br><span class="line">    <span class="keyword">for</span> index,v <span class="keyword">in</span> <span class="built_in">enumerate</span>(lis):</span><br><span class="line">        <span class="keyword">if</span> v==val:</span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@cal_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binarySearch</span>(<span class="params">lis, val</span>):</span></span><br><span class="line">    <span class="string">&#x27;二分查找，在有序的前提下&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = <span class="built_in">len</span>(lis)-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left&lt;=right:  <span class="comment"># 候选区域有值</span></span><br><span class="line">        mid = (left+right) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> lis[mid]==val:</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">elif</span> lis[mid]&gt;val:  <span class="comment"># 待查找的值在mid 左边</span></span><br><span class="line">            right = mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:   <span class="comment"># 待查找的值在mid 右边</span></span><br><span class="line">            left = mid+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">li = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">100000000</span>))</span><br><span class="line"><span class="built_in">print</span>(linearSeach(li, <span class="number">30000000</span>))</span><br><span class="line"><span class="built_in">print</span>(binarySearch(li, <span class="number">30000000</span>))</span><br></pre></td></tr></table></figure>

<p>cal_time.py</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"></span><br><span class="line">def cal_time(func):</span><br><span class="line">    def wrapper(*args, **kwargs):</span><br><span class="line">        t1 = time.time()</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        t2 = time.time()</span><br><span class="line">        print(f&#x27;&#123;func.__name__&#125; running time：&#123;t2-t1&#125;secs&#x27;)</span><br><span class="line">        return result</span><br><span class="line">    return wrapper</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4qth4lpbj30xc06odki.jpg" alt="image-20200726222825772"></p>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><blockquote>
<p>不同排序复杂度</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/vn3KiV-ez79FmbZ36SX9lg">十大经典排序算法动画与解析，看我就够了！（配代码完全版）</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge679fhvnvj30k00cbtel.jpg" alt="img"></p>
<p><a target="_blank" rel="noopener" href="http://bigocheatsheet.com/">Know Thy Complexities!</a>：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gegvide7avj30yk0po1kx.jpg" alt="image-20200505001632020"></p>
<blockquote>
<p>稳定排序与不稳定排序：</p>
</blockquote>
<p>数值相同的元素在排序后仍然保持着排序前的顺序，则这样的排序算法是稳定排序；</p>
<p>否则为不稳定排序</p>
<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge677lbg06j31000ox0w1.jpg" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)-<span class="number">1</span>):  <span class="comment"># 趟数，第i趟</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)-i-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> li[j]&gt;li[j+<span class="number">1</span>]:</span><br><span class="line">                li[j], li[j+<span class="number">1</span>] = li[j+<span class="number">1</span>], li[j]</span><br><span class="line"></span><br><span class="line">li = [random.randint(<span class="number">0</span>,<span class="number">100</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">bubbleSort(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">----------------</span><br><span class="line">[<span class="number">86</span>, <span class="number">92</span>, <span class="number">58</span>, <span class="number">73</span>, <span class="number">25</span>, <span class="number">28</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">72</span>, <span class="number">91</span>]</span><br><span class="line">[<span class="number">25</span>, <span class="number">28</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">58</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">86</span>, <span class="number">91</span>, <span class="number">92</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>优化</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="string">&#x27;冒泡排序优化&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)-<span class="number">1</span>):  <span class="comment"># 趟数，第i趟</span></span><br><span class="line">        exchange =<span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)-i-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> li[j]&gt;li[j+<span class="number">1</span>]:</span><br><span class="line">                li[j], li[j+<span class="number">1</span>] = li[j+<span class="number">1</span>], li[j]</span><br><span class="line">                exchange=<span class="literal">True</span></span><br><span class="line">        <span class="built_in">print</span>(li)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> exchange:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure>

<p>如果冒泡排序某趟排序没有发生交换，说明列表已经有序，可以结束算法</p>
<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge7irhkzsng30qi0exkca.gif" alt="img"></p>
<p>每次外循环i 找寻当前最值，然后与 i 交换</p>
<blockquote>
<p>注意，是在第二个 for 循环结束再交换，注意与冒泡比较</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="string">&#x27;选择排序&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)-<span class="number">1</span>):  <span class="comment"># 趟数，第i趟</span></span><br><span class="line">        min_loc = i  <span class="comment"># min_tag 记录最小位置，进行交换</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(li)):</span><br><span class="line">            <span class="keyword">if</span> li[j]&lt;li[min_loc]:</span><br><span class="line">                min_loc = j</span><br><span class="line">        li[min_loc], li[i] = li[i], li[min_loc]</span><br><span class="line">        <span class="built_in">print</span>(li)</span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,-<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">selectSort(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"></span><br><span class="line">--------------</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br></pre></td></tr></table></figure>

<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge7jaybzztj30q406q74s.jpg" alt="img"></p>
<p>注意:黑色为待排序数字，其前面的数组已经排好序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="string">&#x27;插入排序， 类比扑克牌&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(li)):  <span class="comment"># i表示摸到牌 的下标</span></span><br><span class="line">        tmp = li[i]  <span class="comment">#交换值使用</span></span><br><span class="line">        j = i-<span class="number">1</span> <span class="comment"># 手里牌的最后一个</span></span><br><span class="line">        <span class="keyword">while</span> j&gt;=<span class="number">0</span> <span class="keyword">and</span> li[j]&gt;tmp:</span><br><span class="line">            li[j+<span class="number">1</span>] = li[j] <span class="comment"># 后移一位</span></span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        li[j+<span class="number">1</span>] = tmp</span><br><span class="line">        <span class="built_in">print</span>(li)</span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,-<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">insertSort(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">--------------</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, -<span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line">[-<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br></pre></td></tr></table></figure>

<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><p>希尔排序为插入排序 的变种【1】<a name='toc'></a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge7jz917qlg30qi0exkc0.gif" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;希尔排序&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_sort</span>(<span class="params">lis1</span>):</span></span><br><span class="line">    gap = <span class="built_in">len</span>(lis1) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> gap &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gap, <span class="built_in">len</span>(lis1)):</span><br><span class="line">            j = i</span><br><span class="line">            <span class="keyword">while</span> j &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> lis1[j - gap] &gt; lis1[j]:</span><br><span class="line">                    lis1[j - gap], lis1[j] = lis1[j], lis1[j - gap]</span><br><span class="line">                    j -= gap</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="built_in">print</span>(lis1, <span class="string">&#x27;........&#x27;</span>)</span><br><span class="line">        <span class="comment"># 缩短gap步长</span></span><br><span class="line">        gap //= <span class="number">2</span></span><br><span class="line"></span><br><span class="line">lis1 = [<span class="number">5</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line">shell_sort(lis1)</span><br><span class="line"><span class="built_in">print</span>(lis1)</span><br></pre></td></tr></table></figure>

<ul>
<li>实现版本2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertSortGap</span>(<span class="params">li, gap</span>):</span></span><br><span class="line">    <span class="string">&#x27;插入排序改进， 类比扑克牌&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gap, <span class="built_in">len</span>(li)):  <span class="comment"># i表示摸到牌 的下标</span></span><br><span class="line">        tmp = li[i]  <span class="comment">#交换值使用</span></span><br><span class="line">        j = i-gap <span class="comment"># 手里牌的最后一个</span></span><br><span class="line">        <span class="keyword">while</span> j&gt;=<span class="number">0</span> <span class="keyword">and</span> li[j]&gt;tmp:</span><br><span class="line">            li[j+gap] = li[j] <span class="comment"># 后移一位</span></span><br><span class="line">            j -= gap</span><br><span class="line">        li[j+gap] = tmp</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shellSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    d = <span class="built_in">len</span>(li)//<span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> d&gt;=<span class="number">1</span>:</span><br><span class="line">        insertSortGap(li, d)</span><br><span class="line">        d //=<span class="number">2</span></span><br><span class="line"></span><br><span class="line">li = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1000</span>))</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(li)</span><br><span class="line">shellSort(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>



<h3 id="归并排序【2】"><a href="#归并排序【2】" class="headerlink" title="归并排序【2】"></a>归并排序【2】<a name='toc2'></a></h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ge7l06tvv9j30k00f5wr5.jpg" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/dfcfe667687b">图片：讨厌算法的程序员 7 - 归并排序的时间复杂度分析</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.clock()</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">resolve</span>(<span class="params">lis</span>):</span></span><br><span class="line">    n = math.ceil(<span class="built_in">len</span>(lis) / <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        lis = [lis[<span class="number">0</span>:n], lis[n:]]</span><br><span class="line">        <span class="built_in">print</span>(lis, <span class="string">&#x27;===&#x27;</span>)</span><br><span class="line">        temp1 = resolve(lis[<span class="number">0</span>])</span><br><span class="line">        temp2 = resolve(lis[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(temp1) == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> temp1[<span class="number">0</span>] &gt; temp1[<span class="number">1</span>]:</span><br><span class="line">                temp1[<span class="number">0</span>], temp1[<span class="number">1</span>] = temp1[<span class="number">1</span>], temp1[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(temp2) == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> temp2[<span class="number">0</span>] &gt; temp2[<span class="number">1</span>]:</span><br><span class="line">                temp2[<span class="number">0</span>], temp2[<span class="number">1</span>] = temp2[<span class="number">1</span>], temp2[<span class="number">0</span>]</span><br><span class="line">        lis = merge(temp1, temp2)</span><br><span class="line">        <span class="comment">#         lis = temp1 + temp2</span></span><br><span class="line">        <span class="comment">#         lis = insert_sort(lis)</span></span><br><span class="line">        <span class="built_in">print</span>(lis, <span class="string">&#x27;------------&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> lis</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">left, right</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;合并两个已排序好的列表，产生一个新的已排序好的列表&quot;&quot;&quot;</span></span><br><span class="line">    result = []  <span class="comment"># 新的已排序好的列表</span></span><br><span class="line">    i = <span class="number">0</span>  <span class="comment"># 下标</span></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 对两个列表中的元素 两两对比。</span></span><br><span class="line">    <span class="comment"># 将最小的元素，放到result中，并对当前列表下标加1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(left) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(right):</span><br><span class="line">        <span class="keyword">if</span> left[i] &lt;= right[j]:</span><br><span class="line">            result.append(left[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(right[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    result += left[i:]</span><br><span class="line">    result += right[j:]</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span>(<span class="params">lis1</span>):</span></span><br><span class="line">    lis2 = resolve(lis1)</span><br><span class="line">    <span class="built_in">print</span>(lis2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># merge_sort([90, 30, -3, 10, 15, 2, 9, 12, 34, 6, 0, 13, 1, -1, -2, -3, -4, -9])</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 产生随机数组</span></span><br><span class="line">all_num = <span class="number">200000000</span></span><br><span class="line">num = <span class="number">100000</span>  <span class="comment"># 1万排序数组</span></span><br><span class="line">lis1 = random.sample(<span class="built_in">range</span>(<span class="number">0</span>, all_num), num)</span><br><span class="line">merge_sort(lis1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(time.process_time())</span><br></pre></td></tr></table></figure>

<p>这里有一个关键点：</p>
<p>在进行归并排序时，通过递归进行拆解，然后通过merge()函数进行融合，merge()函数的书写也成为项目的关键，参考：<a href="www.jianshu.com">python归并排序–递归实现</a></p>
<p>在递归 中调用另一个函数，就复杂度而言，是自己写过的 最复杂的函数</p>
<p>merge()函数理解如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def merge(left, right):</span><br><span class="line">    &quot;&quot;&quot;合并两个已排序好的列表，产生一个新的已排序好的列表&quot;&quot;&quot;</span><br><span class="line">    result = []  # 新的已排序好的列表</span><br><span class="line">    i = 0  # 下标</span><br><span class="line">    j = 0</span><br><span class="line">    # 对两个列表中的元素 两两对比。</span><br><span class="line">    # 将最小的元素，放到result中，并对当前列表下标加1</span><br><span class="line">    while i &lt; len(left) and j &lt; len(right):</span><br><span class="line">        if left[i] &lt;= right[j]:</span><br><span class="line">            result.append(left[i])</span><br><span class="line">            i += 1</span><br><span class="line">            print(&#x27;result:&#123;&#125;, i:&#123;&#125;, j:&#123;&#125;&#x27;.format(result,i,j))</span><br><span class="line">        else:</span><br><span class="line">            result.append(right[j])</span><br><span class="line">            j += 1</span><br><span class="line">            print(&#x27;result:&#123;&#125;, i:&#123;&#125;, j:&#123;&#125;&#x27;.format(result,i,j))</span><br><span class="line">    result += left[i:]</span><br><span class="line">    result += right[j:]</span><br><span class="line">    return result</span><br><span class="line"></span><br><span class="line">merge([-3,1,8],[4, 10, 15, 20])</span><br></pre></td></tr></table></figure>

<ul>
<li>版本2</li>
</ul>
<blockquote>
<p>归并实现</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbq5xktubj31oq0tyb29.jpg" alt="image-20200801232443146"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">li, low, mid, high</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    i = low</span><br><span class="line">    j = mid+<span class="number">1</span></span><br><span class="line">    ltmp =[]</span><br><span class="line">    <span class="keyword">while</span> i&lt;=mid <span class="keyword">and</span> j&lt;=high:</span><br><span class="line">        <span class="keyword">if</span> li[i]&lt;li[j]:</span><br><span class="line">            ltmp.append(li[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ltmp.append(li[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="comment"># while 执行完肯定有一部分没数了</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">        ltmp.append(li[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">        ltmp.append(li[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    li[low:high+<span class="number">1</span>] = ltmp</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">li = [2,4,5,7,1,3,6,8]</span><br><span class="line">merge(li,0,3,7)</span><br><span class="line">print(li)</span><br><span class="line">[1, 2, 3, 4, 5, 6, 7, 8]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>程序实现</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbq9it11oj31an0u01kz.jpg" alt="image-20200801232811448"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span>(<span class="params">li, low, high</span>):</span></span><br><span class="line">    <span class="keyword">if</span> low &lt; high: <span class="comment"># 至少有两个元素，递归</span></span><br><span class="line">        mid = (low+high)//<span class="number">2</span></span><br><span class="line">        mergeSort(li, low, mid)</span><br><span class="line">        mergeSort(li, mid+<span class="number">1</span>, high)</span><br><span class="line">        <span class="comment"># print(li[low:high+1])</span></span><br><span class="line">        merge(li,low, mid, high)</span><br><span class="line">        <span class="comment"># print(li[low:high+1])</span></span><br><span class="line"></span><br><span class="line">li = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1000</span>))</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">mergeSort(li, <span class="number">0</span> ,<span class="built_in">len</span>(li)-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[4, 9, 2, 5, 1, 7, 3, 0, 8, 6]</span><br><span class="line">[4, 9]</span><br><span class="line">[4, 9]</span><br><span class="line">[4, 9, 2]</span><br><span class="line">[2, 4, 9]</span><br><span class="line">[5, 1]</span><br><span class="line">[1, 5]</span><br><span class="line">[2, 4, 9, 1, 5]</span><br><span class="line">[1, 2, 4, 5, 9]</span><br><span class="line">[7, 3]</span><br><span class="line">[3, 7]</span><br><span class="line">[3, 7, 0]</span><br><span class="line">[0, 3, 7]</span><br><span class="line">[8, 6]</span><br><span class="line">[6, 8]</span><br><span class="line">[0, 3, 7, 6, 8]</span><br><span class="line">[0, 3, 6, 7, 8]</span><br><span class="line">[1, 2, 4, 5, 9, 0, 3, 6, 7, 8]</span><br><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickSort</span>(<span class="params">list1</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    快排</span></span><br><span class="line"><span class="string">    :param list1:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># print(list1)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(list1)&lt;<span class="number">3</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(list1) ==<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> list1[<span class="number">0</span>] &gt; list1[<span class="number">1</span>]:</span><br><span class="line">                list1[<span class="number">0</span>], list1[<span class="number">1</span>] = list1[<span class="number">1</span>], list1[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> list1</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        pivot = <span class="number">0</span></span><br><span class="line">        left = <span class="number">1</span></span><br><span class="line">        right = <span class="built_in">len</span>(list1)-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        right_stay_tag = <span class="literal">True</span></span><br><span class="line">        left_stay_tag = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">while</span> left != right:</span><br><span class="line">            <span class="keyword">while</span> list1[right] &gt;= list1[pivot] <span class="keyword">and</span> left &lt; right:</span><br><span class="line">                <span class="comment"># 优先移动右</span></span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">                right_stay_tag = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">while</span> list1[left] &lt; list1[pivot] <span class="keyword">and</span> left &lt; right:</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">                left_stay_tag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">            list1[left], list1[right] = list1[right], list1[left]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> right_stay_tag <span class="keyword">and</span> <span class="keyword">not</span> left_stay_tag:</span><br><span class="line">            list1 = quickSort(list1[<span class="number">1</span>:left+<span class="number">1</span>]) + [list1[<span class="number">0</span>]] + quickSort(list1[left+<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">elif</span> left_stay_tag:  <span class="comment">#针对left 不移动情况</span></span><br><span class="line">            <span class="keyword">if</span> [list1[<span class="number">1</span>]] &lt; [list1[<span class="number">0</span>]]:</span><br><span class="line">                list1 = [list1[<span class="number">1</span>]]+[list1[<span class="number">0</span>]] + quickSort(list1[<span class="number">2</span>:])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                list1 = [list1[<span class="number">0</span>]] + quickSort(list1[<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            list1 = quickSort(list1[<span class="number">1</span>:]) + [list1[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">all_num = <span class="number">20000</span></span><br><span class="line">num = <span class="number">10000</span> <span class="comment">#1万排序数组</span></span><br><span class="line">list1=random.sample(<span class="built_in">range</span>(<span class="number">0</span>,all_num),num)</span><br><span class="line"><span class="comment"># list1 = [8,1,3,5,0]</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line">a = quickSort(list1)</span><br><span class="line"><span class="built_in">print</span>(a,<span class="string">&#x27;@&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1geged9feqoj323804o79i.jpg" alt="image-20200504142322835"></p>
<ul>
<li>方案二，更 简洁</li>
</ul>
<p>空位、移动指针<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh8b3jogx4j317k0m6twg.jpg" alt="image-20200730002646995"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh8b2dok0rj30r60n0nb1.jpg" alt="image-20200730002532079"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">li, left, right</span>):</span></span><br><span class="line">    <span class="string">&#x27;获取mid值，同时移动左右指针&#x27;</span></span><br><span class="line">    tmp = li[left]  <span class="comment"># 存储第一个位置</span></span><br><span class="line">    <span class="keyword">while</span> left&lt;right:</span><br><span class="line">        <span class="keyword">while</span> li[right]&gt;=tmp <span class="keyword">and</span> left&lt;right: <span class="comment"># 从右边找，比tmp小的数</span></span><br><span class="line">            right -= <span class="number">1</span>  <span class="comment"># 往左移一步</span></span><br><span class="line">        li[left] = li[right]  <span class="comment"># 将right指针处值 写入到左边空位上</span></span><br><span class="line">        <span class="built_in">print</span>(li, <span class="string">&#x27;&lt;---&#x27;</span>)</span><br><span class="line">        <span class="keyword">while</span> li[left]&lt;= tmp <span class="keyword">and</span> left&lt;right:</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        li[right] = li[left]</span><br><span class="line">        <span class="built_in">print</span>(li, <span class="string">&#x27;---&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    li[left] = tmp  <span class="comment"># 左右相遇</span></span><br><span class="line">    </span><br><span class="line">----------------</span><br><span class="line">li = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">partition(li, <span class="number">0</span>, <span class="built_in">len</span>(li)-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">[<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">8</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickSort</span>(<span class="params">li, left, right</span>):</span></span><br><span class="line">    <span class="keyword">if</span> left&lt;right:  <span class="comment"># 至少两个元素</span></span><br><span class="line">        mid = partition(li, left, right)</span><br><span class="line">        quickSort(li, left, mid-<span class="number">1</span>)</span><br><span class="line">        quickSort(li, mid+<span class="number">1</span>, right)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">li, left, right</span>):</span></span><br><span class="line">    <span class="string">&#x27;获取mid值，同时移动左右指针&#x27;</span></span><br><span class="line">    tmp = li[left]  <span class="comment"># 存储第一个位置</span></span><br><span class="line">    <span class="keyword">while</span> left&lt;right:</span><br><span class="line">        <span class="keyword">while</span> li[right]&gt;=tmp <span class="keyword">and</span> left&lt;right: <span class="comment"># 从右边找，比tmp小的数</span></span><br><span class="line">            right -= <span class="number">1</span>  <span class="comment"># 往左移一步</span></span><br><span class="line">        li[left] = li[right]  <span class="comment"># 将right指针处值 写入到左边空位上</span></span><br><span class="line">        <span class="keyword">while</span> li[left]&lt;= tmp <span class="keyword">and</span> left&lt;right:</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        li[right] = li[left]</span><br><span class="line">    li[left] = tmp</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">-----------------------------------</span><br><span class="line">li = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">quickSort(li, <span class="number">0</span>, <span class="built_in">len</span>(li)-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"></span><br><span class="line">[<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">8</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8</span>] &lt;---</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8</span>] ---&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>快排与其他排序比较</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@cal_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_quickSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    quickSort(li, <span class="number">0</span>, <span class="built_in">len</span>(li)-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">li = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10000</span>))</span><br><span class="line">random.shuffle(li)</span><br><span class="line"></span><br><span class="line">li1 = copy.deepcopy(li)</span><br><span class="line">li2 = copy.deepcopy(li)</span><br><span class="line"></span><br><span class="line">_quickSort(li1)</span><br><span class="line">bubbleSort(li2)</span><br><span class="line"><span class="built_in">print</span>(li1)</span><br><span class="line"><span class="built_in">print</span>(li2)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh9ebc76kgj318q06ojxp.jpg" alt="image-20200730230335640"></p>
<ul>
<li>快排缺点</li>
</ul>
<p>最坏情况：O(n^2）</p>
<p>比如，遇到倒排的列表。这时候，每次第一个位置均是最值，破坏了二分结构，增加了递归的深度—-&gt;n</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">li = list(range(10000, 0, -1))</span><br><span class="line">_quickSort(li1)</span><br><span class="line">print(li1)</span><br></pre></td></tr></table></figure>

<p>报错：RecursionError: maximum recursion depth exceeded in comparison</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">sys.setrecursionlimit(100000)</span><br><span class="line"></span><br><span class="line">_quickSort(li1)</span><br><span class="line">_quickSort running time：5.158224105834961secs</span><br></pre></td></tr></table></figure>

<blockquote>
<p>程序修改</p>
</blockquote>
<p>只需增加三行代码：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh9fcqn3woj317a0fcaob.jpg" alt="image-20200730233934208"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def partition(li, left, right):</span><br><span class="line">    &#x27;获取mid值，同时移动左右指针&#x27;</span><br><span class="line">    li1 = list(range(left, right + 1))</span><br><span class="line">    i = random.choice(li1)</span><br><span class="line">    li[i], li[left] = li[left], li[i]</span><br><span class="line">    </span><br><span class="line">    tmp = li[left]  # 存储第一个位置</span><br><span class="line">    while left&lt;right:</span><br><span class="line">        while li[right]&gt;=tmp and left&lt;right: # 从右边找，比tmp小的数</span><br><span class="line">            right -= 1  # 往左移一步</span><br><span class="line">        li[left] = li[right]  # 将right指针处值 写入到左边空位上</span><br><span class="line">        # print(li, &#x27;&lt;---&#x27;)</span><br><span class="line">        while li[left]&lt;= tmp and left&lt;right:</span><br><span class="line">            left += 1</span><br><span class="line">        li[right] = li[left]</span><br><span class="line">        # print(li, &#x27;---&gt;&#x27;)</span><br><span class="line"></span><br><span class="line">    li[left] = tmp</span><br><span class="line">    return left</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh9fdrt4jfj310804etbp.jpg" alt="image-20200730234034499"></p>
<h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghb6uwiqtuj31eq0kme7u.jpg" alt="image-20200801121643620"></p>
<ul>
<li>建立堆，“农村包围城市”</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghb6yzxrxaj313o0n61kx.jpg" alt="image-20200801122042248"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sift</span>(<span class="params">li, low, high</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;将堆顶元素，调整到合适位置。</span></span><br><span class="line"><span class="string">    假设：节点的左右子树都是堆，但自身不是堆</span></span><br><span class="line"><span class="string">    向下调整</span></span><br><span class="line"><span class="string">    不断与孩子节点最大的比较</span></span><br><span class="line"><span class="string">    :param li: 列表</span></span><br><span class="line"><span class="string">    :param low: 堆的根节点位置</span></span><br><span class="line"><span class="string">    :param high: 堆的最后一个元素位置</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    i =low  <span class="comment"># 最开始指向根节点</span></span><br><span class="line">    j = <span class="number">2</span>*i+<span class="number">1</span>  <span class="comment"># j开始是左孩子</span></span><br><span class="line">    tmp = li[low]  <span class="comment"># 把堆顶存起来</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> j&lt;=high: <span class="comment"># 只要j 位置有数</span></span><br><span class="line">        <span class="keyword">if</span> j+<span class="number">1</span>&lt;=high <span class="keyword">and</span> li[j+<span class="number">1</span>]&gt;li[j]: <span class="comment"># 如果右孩子有且较大</span></span><br><span class="line">            j = j+<span class="number">1</span>  <span class="comment"># 指向右孩子，此步在于选择最大孩子节点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> li[j]&gt; tmp:</span><br><span class="line">            li[i] = li[j]</span><br><span class="line">            i = j  <span class="comment"># 往↓看一层</span></span><br><span class="line">            j = <span class="number">2</span>*i+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># tmp更大，直接放到i位置上</span></span><br><span class="line">            li[i]=tmp</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        li[i] = tmp  <span class="comment"># 把tmp 放到叶子节点上</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heapSort</span>(<span class="params">li</span>):</span></span><br><span class="line">    n=<span class="built_in">len</span>(li)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>((n-<span class="number">2</span>)//<span class="number">2</span>, -<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># i 表示建堆的时候调整部分的根的下标</span></span><br><span class="line">        sift(li, i, n-<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># 建堆完成</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># i指向当前堆的最后一个元素</span></span><br><span class="line">        li[<span class="number">0</span>], li[i] = li[i], li[<span class="number">0</span>]</span><br><span class="line">        sift(li, <span class="number">0</span>, i-<span class="number">1</span>)  <span class="comment"># i-1是新的high</span></span><br><span class="line"></span><br><span class="line">li = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">heapSort(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghb8dugx7cj31ii03mjuv.jpg" alt="image-20200801130935023"></p>
<ul>
<li>堆的内置模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq  <span class="comment"># q--&gt;queue,优先队列</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">li = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">random.shuffle(li)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">heapq.heapify(li)  <span class="comment"># 建堆</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">n= <span class="built_in">len</span>(li)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="built_in">print</span>(heapq.heappop(li), end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>

<p>[0, 7, 6, 1, 5, 8, 9, 3, 2, 4]<br>[0, 1, 6, 2, 4, 8, 9, 3, 7, 5]<br>0,1,2,3,4,5,6,7,8,9,<br>[]</p>
<ul>
<li>堆排序—top-k</li>
</ul>
<p>建立小根堆</p>
<p>先找出前K个数，建堆</p>
<p>然后遍历后面（n-k），比较，出数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">topk</span>(<span class="params">li, k</span>):</span></span><br><span class="line">    <span class="comment"># 建堆</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>((k-<span class="number">2</span>)//<span class="number">2</span>, -<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># i 表示建堆的时候调整部分的根的下标</span></span><br><span class="line">        sift(li, i, k-<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># 遍历</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k,<span class="built_in">len</span>(li)):</span><br><span class="line">        <span class="keyword">if</span> li[i]&gt; li[<span class="number">0</span>]:</span><br><span class="line">            li[<span class="number">0</span>] = li[i]</span><br><span class="line">            sift(li,<span class="number">0</span>,k-<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># 出数</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># i指向当前堆的最后一个元素</span></span><br><span class="line">        li[<span class="number">0</span>], li[i] = li[i], li[<span class="number">0</span>]</span><br><span class="line">        sift(li, <span class="number">0</span>, i - <span class="number">1</span>)  <span class="comment"># i-1是新的high</span></span><br><span class="line">    <span class="built_in">print</span>(li[<span class="number">0</span>:k])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(li)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="comment"># heapSort(li)</span></span><br><span class="line">topk(li, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>

<h3 id="排序总结"><a href="#排序总结" class="headerlink" title="排序总结"></a>排序总结</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghcc4phrnwj31iv0u0x6p.jpg" alt="image-20200802120444612"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghcc57hxhfj31k60ice81.jpg" alt="image-20200802120513816"></p>
<h3 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h3><p>需要先知道待排序列表的数值大小范围</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def countSort(li, max_count = 100):</span><br><span class="line">    &#x27;计数排序&#x27;</span><br><span class="line">    count = [0 for _ in range(max_count+1)]</span><br><span class="line">    for val in li:</span><br><span class="line">        count[val] += 1  # 得到个数统计</span><br><span class="line">    li.clear()</span><br><span class="line">    for ind,val in enumerate(count):</span><br><span class="line">        for i in range(val):</span><br><span class="line">            li.append(ind)</span><br></pre></td></tr></table></figure>

<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def bucketSort(li, n=100, max_num=10000):</span><br><span class="line">    # n：桶个数， max_num：最大元素值</span><br><span class="line">    buckets= [[] for _ in range(n)] # 二维列表，创建桶</span><br><span class="line">    for var in li:</span><br><span class="line">        i = min(var//(max_num//n), n-1)</span><br><span class="line">        # i：需要放的桶序号，取min 是为了 最大值10000考虑</span><br><span class="line">        buckets[i].append(var)</span><br><span class="line"></span><br><span class="line">        # 保持桶内的顺序</span><br><span class="line">        for j in range(len(buckets[i])-1, 0, -1):</span><br><span class="line">            if buckets[i][j]&lt; buckets[i][j-1]:</span><br><span class="line">                buckets[i][j], buckets[i][j - 1] = buckets[i][j-1], buckets[i][j]</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">    sorted_li = []</span><br><span class="line">    for buc in buckets:</span><br><span class="line">        sorted_li.extend(buc)</span><br><span class="line">    return sorted_li</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghcv7tnggnj31o60sqhdt.jpg" alt="image-20200802230504551"></p>
<h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghcw0h5l3xj31as0og1kx.jpg" alt="image-20200802233239193"></p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghqqgy0t9ij31ni0gse6v.jpg" alt="image-20200814225847097"></p>
<p>参考：<a target="_blank" rel="noopener" href="https://houbb.github.io/2020/01/23/data-struct-learn-07-base-dp">五大基本算法之动态规划算法 DP</a></p>
<p>递归自顶向下，而动态规划则是自底向上</p>
<p>以斐波那契为例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 递归求解</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span> <span class="keyword">or</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fab(n-<span class="number">1</span>) + fab(n-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">time1 = time.time()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fab(<span class="number">35</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;耗时： <span class="subst">&#123;time.time()-time1&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">14930352</span><br><span class="line">耗时： 2.4594528675079346</span><br></pre></td></tr></table></figure>

<blockquote>
<p>动态规划</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 动态规划，自底向上</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span>(<span class="params">n</span>):</span></span><br><span class="line">    list_temp = [<span class="number">0</span>]*(n+<span class="number">1</span>)</span><br><span class="line">    list_temp[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    list_temp[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, n+<span class="number">1</span>): </span><br><span class="line">        list_temp[i] = list_temp[i-<span class="number">1</span>] + list_temp[i-<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">return</span> list_temp[n]</span><br><span class="line">time1 = time.time()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fab(<span class="number">35</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;耗时： <span class="subst">&#123;time.time()-time1&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">14930352</span><br><span class="line">耗时： 0.0003566741943359375</span><br></pre></td></tr></table></figure>

<p>二者耗时是巨大的！</p>
<h2 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h2><blockquote>
<p>算法策略</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghrr73ewgxj31b004gqcq.jpg" alt="image-20200815200929532"></p>
<h3 id="找零问题"><a href="#找零问题" class="headerlink" title="找零问题"></a>找零问题</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghm6a6kfqij31jm07atm6.jpg" alt="image-20200811001804808"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghm69q8momj30ow0amwna.jpg" alt="image-20200811001738829"></p>
<h3 id="分数背包"><a href="#分数背包" class="headerlink" title="分数背包"></a>分数背包</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghnbnduma3j30yu0gswt6.jpg" alt="image-20200812000916909"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">goods = [(<span class="number">100</span>,<span class="number">20</span>), (<span class="number">60</span>,<span class="number">10</span>), (<span class="number">120</span>,<span class="number">30</span>)]  <span class="comment"># (价格，重量)</span></span><br><span class="line">goods.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>] / x[<span class="number">1</span>], reverse=<span class="literal">True</span>) <span class="comment"># 排序</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fra</span>(<span class="params">goods,w</span>):</span></span><br><span class="line">    money = <span class="number">0</span></span><br><span class="line">    m = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(goods))]</span><br><span class="line">    <span class="keyword">for</span> i, (prize,weight) <span class="keyword">in</span> <span class="built_in">enumerate</span>(goods):</span><br><span class="line">        <span class="keyword">if</span> weight &lt;= w:</span><br><span class="line">            m[i] =<span class="number">1</span></span><br><span class="line">            w -= weight</span><br><span class="line">            money += prize</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            m[i] = w/weight</span><br><span class="line">            money += m[i]*prize</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> money, m</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fra(goods, <span class="number">50</span>))  <span class="comment"># 重量限制 50</span></span><br></pre></td></tr></table></figure>

<p>(240.0, [1, 1, 0.6666666666666666])</p>
<h3 id="拼接最大数字"><a href="#拼接最大数字" class="headerlink" title="拼接最大数字"></a>拼接最大数字</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghoez6hd98j30ym0fg4fx.jpg" alt="image-20200812224956578"></p>
<p>贪心：</p>
<p>比较 a+b之后</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xy_cmp</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x+y &gt; y+x:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> x+y &lt; y+x:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">li = [<span class="number">32</span>,<span class="number">94</span>, <span class="number">128</span>, <span class="number">1286</span>,<span class="number">6</span>,<span class="number">71</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">number_join</span>(<span class="params">li</span>):</span></span><br><span class="line">    li = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">str</span>, li))</span><br><span class="line">    li.sort(key=cmp_to_key(xy_cmp), reverse=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(li)</span><br><span class="line"><span class="built_in">print</span>(number_join(li))</span><br></pre></td></tr></table></figure>

<p>94716321286128</p>
<h3 id="活动选择问题"><a href="#活动选择问题" class="headerlink" title="活动选择问题"></a>活动选择问题</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghpjs565r2j31pq0q8qv5.jpg" alt="image-20200813222145877"></p>
<p>贪心策略：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghrring40rj31um0smu0x.jpg" alt="image-20200815202036190"></p>
<p>所以，只需一直寻找最先结束的活动即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">activities = [(<span class="number">1</span>,<span class="number">4</span>),(<span class="number">3</span>,<span class="number">5</span>), (<span class="number">0</span>,<span class="number">6</span>), (<span class="number">5</span>,<span class="number">7</span>),</span><br><span class="line">              (<span class="number">3</span>,<span class="number">9</span>), (<span class="number">5</span>,<span class="number">9</span>), (<span class="number">6</span>,<span class="number">10</span>),(<span class="number">8</span>,<span class="number">11</span>),</span><br><span class="line">              (<span class="number">8</span>,<span class="number">12</span>), (<span class="number">2</span>,<span class="number">14</span>), (<span class="number">12</span>,<span class="number">16</span>)]</span><br><span class="line"><span class="comment"># 要保证活动是按照结束时间拍好序的</span></span><br><span class="line">activities.sort(key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">activitySelection</span>(<span class="params">a</span>):</span></span><br><span class="line">    res = [a[<span class="number">0</span>]]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(a)):</span><br><span class="line">        <span class="keyword">if</span> a[i][<span class="number">0</span>]&gt;= res[-<span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">            <span class="comment"># 当前活动开始时间&lt;=最后一个入选活动的结束时间</span></span><br><span class="line">            <span class="comment">#不冲突</span></span><br><span class="line">            res.append(a[i])</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(activitySelection(activities))</span><br></pre></td></tr></table></figure>

<p>[(1, 4), (5, 7), (8, 11), (12, 16)]</p>
<h2 id="KMP算法"><a href="#KMP算法" class="headerlink" title="KMP算法"></a>KMP算法</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/s/video/BV1Et41177yP">七分钟了解什么是 KMP算法</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gjgw4vb2imj31k40pme81.jpg" alt="image-20201007171936771"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1PD4y1o7nd">帮你把KMP算法学个通透！（理论篇）B站视频</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av53583801/?p=40">数据结构与算法（Python语言描述）——完整顺序版</a><a href="#toc">🔼</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/62539026">自己知乎–排序</a><a href="#toc2">🔼</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://facert.gitbooks.io/python-data-structure-cn/content/">https://facert.gitbooks.io/python-data-structure-cn/content/</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ged4tp680cj31uq0q8whm.jpg" alt="image-20200412232827689"></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mp4y1D7UP?from=search&seid=9730477613809740339">哔哩哔哩视频：清华计算机博士带你学习Python算法+数据结构</a><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghrm944u33j31hy0u0u0z.jpg" alt="image-20200815171822878"></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/linux/l-cn-python-optim/">Python 代码性能优化技巧</a></p>
</li>
<li></li>
</ol>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">搜索</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2020/05/02/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/" title="⭐️算法刷题" class="prev">PREV</a><a href="/2020/04/05/%E6%9C%89%E6%B7%B1%E5%BA%A6%E7%9A%84%E6%96%87%E7%AB%A0%E6%B1%87%E6%80%BB/" title="⭐️有深度的文章汇总" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2021 <a target="_blank">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p><p> <span style="padding-right: 6px;">闽ICP备16007301号-2</span></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/jquery-1.8.2.min.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/articleCatalog.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>